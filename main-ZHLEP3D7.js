var sA=Object.create;var _p=Object.defineProperty,aA=Object.defineProperties,cA=Object.getOwnPropertyDescriptor,uA=Object.getOwnPropertyDescriptors,lA=Object.getOwnPropertyNames,Cu=Object.getOwnPropertySymbols,dA=Object.getPrototypeOf,vp=Object.prototype.hasOwnProperty,Ov=Object.prototype.propertyIsEnumerable;var Nv=(t,e,n)=>e in t?_p(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,v=(t,e)=>{for(var n in e||={})vp.call(e,n)&&Nv(t,n,e[n]);if(Cu)for(var n of Cu(e))Ov.call(e,n)&&Nv(t,n,e[n]);return t},V=(t,e)=>aA(t,uA(e));var vr=(t,e)=>{var n={};for(var r in t)vp.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Cu)for(var r of Cu(t))e.indexOf(r)<0&&Ov.call(t,r)&&(n[r]=t[r]);return n};var Ln=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var fA=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of lA(e))!vp.call(t,o)&&o!==n&&_p(t,o,{get:()=>e[o],enumerable:!(r=cA(e,o))||r.enumerable});return t};var Rv=(t,e,n)=>(n=t!=null?sA(dA(t)):{},fA(e||!t||!t.__esModule?_p(n,"default",{value:t,enumerable:!0}):n,t));var wD=Ln((GQ,Xc)=>{"use strict";function hV(t){if(Array.isArray(t))return t}Xc.exports=hV,Xc.exports.__esModule=!0,Xc.exports.default=Xc.exports});var CD=Ln((zQ,Kc)=>{"use strict";function mV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,o,i,s,a=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(l){u=!0,o=l}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw o}}return a}}Kc.exports=mV,Kc.exports.__esModule=!0,Kc.exports.default=Kc.exports});var DD=Ln((ZQ,Jc)=>{"use strict";function gV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}Jc.exports=gV,Jc.exports.__esModule=!0,Jc.exports.default=Jc.exports});var TD=Ln((YQ,eu)=>{"use strict";var bD=DD();function _V(t,e){if(t){if(typeof t=="string")return bD(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bD(t,e):void 0}}eu.exports=_V,eu.exports.__esModule=!0,eu.exports.default=eu.exports});var SD=Ln((QQ,tu)=>{"use strict";function vV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}tu.exports=vV,tu.exports.__esModule=!0,tu.exports.default=tu.exports});var ID=Ln((XQ,nu)=>{"use strict";var yV=wD(),xV=CD(),EV=TD(),wV=SD();function CV(t,e){return yV(t)||xV(t,e)||EV(t,e)||wV()}nu.exports=CV,nu.exports.__esModule=!0,nu.exports.default=nu.exports});var AD=Ln((KQ,ru)=>{"use strict";function DV(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}ru.exports=DV,ru.exports.__esModule=!0,ru.exports.default=ru.exports});var V_=Ln((JQ,lo)=>{"use strict";function L_(t){"@babel/helpers - typeof";return lo.exports=L_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lo.exports.__esModule=!0,lo.exports.default=lo.exports,L_(t)}lo.exports=L_,lo.exports.__esModule=!0,lo.exports.default=lo.exports});var ND=Ln((eX,ou)=>{"use strict";var MD=V_().default;function bV(t,e){if(MD(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(MD(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}ou.exports=bV,ou.exports.__esModule=!0,ou.exports.default=ou.exports});var OD=Ln((tX,iu)=>{"use strict";var TV=V_().default,SV=ND();function IV(t){var e=SV(t,"string");return TV(e)=="symbol"?e:e+""}iu.exports=IV,iu.exports.__esModule=!0,iu.exports.default=iu.exports});var kD=Ln((nX,su)=>{"use strict";var AV=OD();function RD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AV(r.key),r)}}function MV(t,e,n){return e&&RD(t.prototype,e),n&&RD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}su.exports=MV,su.exports.__esModule=!0,su.exports.default=su.exports});var j_=Ln((xf,FD)=>{"use strict";(function(t,e){typeof xf=="object"&&typeof FD<"u"?e(xf,ID(),AD(),kD()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/slicedToArray","@babel/runtime/helpers/classCallCheck","@babel/runtime/helpers/createClass"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.automationEvents={},t._slicedToArray,t._classCallCheck,t._createClass))})(xf,function(t,e,n,r){"use strict";var o=function(T,I,M){return{endTime:I,insertTime:M,type:"exponentialRampToValue",value:T}},i=function(T,I,M){return{endTime:I,insertTime:M,type:"linearRampToValue",value:T}},s=function(T,I){return{startTime:I,type:"setValue",value:T}},a=function(T,I,M){return{duration:M,startTime:I,type:"setValueCurve",values:T}},c=function(T,I,M){var W=M.startTime,q=M.target,L=M.timeConstant;return q+(I-q)*Math.exp((W-T)/L)},u=function(T){return T.type==="exponentialRampToValue"},l=function(T){return T.type==="linearRampToValue"},d=function(T){return u(T)||l(T)},p=function(T){return T.type==="setValue"},f=function(T){return T.type==="setValueCurve"},h=function(T,I,M,W){var q=T[I];return q===void 0?W:d(q)||p(q)?q.value:f(q)?q.values[q.values.length-1]:c(M,h(T,I-1,q.startTime,W),q)},g=function(T,I,M,W,q){return M===void 0?[W.insertTime,q]:d(M)?[M.endTime,M.value]:p(M)?[M.startTime,M.value]:f(M)?[M.startTime+M.duration,M.values[M.values.length-1]]:[M.startTime,h(T,I-1,M.startTime,q)]},m=function(T){return T.type==="cancelAndHold"},_=function(T){return T.type==="cancelScheduledValues"},N=function(T){return m(T)||_(T)?T.cancelTime:u(T)||l(T)?T.endTime:T.startTime},k=function(T,I,M,W){var q=W.endTime,L=W.value;return M===L?L:0<M&&0<L||M<0&&L<0?M*Math.pow(L/M,(T-I)/(q-I)):0},U=function(T,I,M,W){var q=W.endTime,L=W.value;return M+(T-I)/(q-I)*(L-M)},S=function(T,I){var M=Math.floor(I),W=Math.ceil(I);return M===W?T[M]:(1-(I-M))*T[M]+(1-(W-I))*T[W]},b=function(T,I){var M=I.duration,W=I.startTime,q=I.values,L=(T-W)/M*(q.length-1);return S(q,L)},E=function(T){return T.type==="setTarget"},w=function(){function A(T){n(this,A),this._automationEvents=[],this._currenTime=0,this._defaultValue=T}return r(A,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(I){var M=N(I);if(m(I)||_(I)){var W=this._automationEvents.findIndex(function(Y){return _(I)&&f(Y)?Y.startTime+Y.duration>=M:N(Y)>=M}),q=this._automationEvents[W];if(W!==-1&&(this._automationEvents=this._automationEvents.slice(0,W)),m(I)){var L=this._automationEvents[this._automationEvents.length-1];if(q!==void 0&&d(q)){if(L!==void 0&&E(L))throw new Error("The internal list is malformed.");var we=L===void 0?q.insertTime:f(L)?L.startTime+L.duration:N(L),Me=L===void 0?this._defaultValue:f(L)?L.values[L.values.length-1]:L.value,We=u(q)?k(M,we,Me,q):U(M,we,Me,q),Mt=u(q)?o(We,M,this._currenTime):i(We,M,this._currenTime);this._automationEvents.push(Mt)}if(L!==void 0&&E(L)&&this._automationEvents.push(s(this.getValue(M),M)),L!==void 0&&f(L)&&L.startTime+L.duration>M){var xt=M-L.startTime,Ie=(L.values.length-1)/L.duration,ue=Math.max(2,1+Math.ceil(xt*Ie)),Xn=xt/(ue-1)*Ie,gr=L.values.slice(0,ue);if(Xn<1)for(var ne=1;ne<ue;ne+=1){var Wr=Xn*ne%1;gr[ne]=L.values[ne-1]*(1-Wr)+L.values[ne]*Wr}this._automationEvents[this._automationEvents.length-1]=a(gr,L.startTime,xt)}}}else{var Fn=this._automationEvents.findIndex(function(Y){return N(Y)>M}),_r=Fn===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[Fn-1];if(_r!==void 0&&f(_r)&&N(_r)+_r.duration>M)return!1;var vo=u(I)?o(I.value,I.endTime,this._currenTime):l(I)?i(I.value,M,this._currenTime):I;if(Fn===-1)this._automationEvents.push(vo);else{if(f(I)&&M+I.duration>N(this._automationEvents[Fn]))return!1;this._automationEvents.splice(Fn,0,vo)}}return!0}},{key:"flush",value:function(I){var M=this._automationEvents.findIndex(function(L){return N(L)>I});if(M>1){var W=this._automationEvents.slice(M-1),q=W[0];E(q)&&W.unshift(s(h(this._automationEvents,M-2,q.startTime,this._defaultValue),q.startTime)),this._automationEvents=W}}},{key:"getValue",value:function(I){if(this._automationEvents.length===0)return this._defaultValue;var M=this._automationEvents.findIndex(function(gr){return N(gr)>I}),W=this._automationEvents[M],q=(M===-1?this._automationEvents.length:M)-1,L=this._automationEvents[q];if(L!==void 0&&E(L)&&(W===void 0||!d(W)||W.insertTime>I))return c(I,h(this._automationEvents,q-1,L.startTime,this._defaultValue),L);if(L!==void 0&&p(L)&&(W===void 0||!d(W)))return L.value;if(L!==void 0&&f(L)&&(W===void 0||!d(W)||L.startTime+L.duration>I))return I<L.startTime+L.duration?b(I,L):L.values[L.values.length-1];if(L!==void 0&&d(L)&&(W===void 0||!d(W)))return L.value;if(W!==void 0&&u(W)){var we=g(this._automationEvents,q,L,W,this._defaultValue),Me=e(we,2),We=Me[0],Mt=Me[1];return k(I,We,Mt,W)}if(W!==void 0&&l(W)){var xt=g(this._automationEvents,q,L,W,this._defaultValue),Ie=e(xt,2),ue=Ie[0],Xn=Ie[1];return U(I,ue,Xn,W)}return this._defaultValue}}])}(),H=function(T){return{cancelTime:T,type:"cancelAndHold"}},ee=function(T){return{cancelTime:T,type:"cancelScheduledValues"}},B=function(T,I){return{endTime:I,type:"exponentialRampToValue",value:T}},j=function(T,I){return{endTime:I,type:"linearRampToValue",value:T}},te=function(T,I,M){return{startTime:I,target:T,timeConstant:M,type:"setTarget"}};t.AutomationEventList=w,t.createCancelAndHoldAutomationEvent=H,t.createCancelScheduledValuesAutomationEvent=ee,t.createExponentialRampToValueAutomationEvent=B,t.createLinearRampToValueAutomationEvent=j,t.createSetTargetAutomationEvent=te,t.createSetValueAutomationEvent=s,t.createSetValueCurveAutomationEvent=a})});var yp;function Du(){return yp}function yr(t){let e=yp;return yp=t,e}var kv=Symbol("NotFound");function Hi(t){return t===kv||t?.name==="\u0275NotFound"}function Au(t,e){return Object.is(t,e)}var Lt=null,bu=!1,xp=1,pA=null,Vt=Symbol("SIGNAL");function xe(t){let e=Lt;return Lt=t,e}function Mu(){return Lt}var Zo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $i(t){if(bu)throw new Error("");if(Lt===null)return;Lt.consumerOnSignalRead(t);let e=Lt.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=Lt.recomputing;if(r&&(n=e!==void 0?e.nextProducer:Lt.producers,n!==void 0&&n.producer===t)){Lt.producersTail=n,n.lastReadVersion=t.version;return}let o=t.consumersTail;if(o!==void 0&&o.consumer===Lt&&(!r||mA(o,Lt)))return;let i=Gi(Lt),s={producer:t,consumer:Lt,nextProducer:n,prevConsumer:o,lastReadVersion:t.version,nextConsumer:void 0};Lt.producersTail=s,e!==void 0?e.nextProducer=s:Lt.producers=s,i&&Pv(t,s)}function Fv(){xp++}function Nu(t){if(!(Gi(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===xp)){if(!t.producerMustRecompute(t)&&!Na(t)){Iu(t);return}t.producerRecomputeValue(t),Iu(t)}}function Ep(t){if(t.consumers===void 0)return;let e=bu;bu=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||hA(r)}}finally{bu=e}}function wp(){return Lt?.consumerAllowSignalWrites!==!1}function hA(t){t.dirty=!0,Ep(t),t.consumerMarkedDirty?.(t)}function Iu(t){t.dirty=!1,t.lastCleanEpoch=xp}function Yo(t){return t&&(t.producersTail=void 0,t.recomputing=!0),xe(t)}function Wi(t,e){if(xe(e),!t)return;t.recomputing=!1;let n=t.producersTail,r=n!==void 0?n.nextProducer:t.producers;if(r!==void 0){if(Gi(t))do r=Cp(r);while(r!==void 0);n!==void 0?n.nextProducer=void 0:t.producers=void 0}}function Na(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Nu(n),r!==n.version))return!0}return!1}function Ou(t){if(Gi(t)){let e=t.producers;for(;e!==void 0;)e=Cp(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Pv(t,e){let n=t.consumersTail,r=Gi(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let o=t.producers;o!==void 0;o=o.nextProducer)Pv(o.producer,o)}function Cp(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,o=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:e.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(e.consumers=r,!Gi(e)){let i=e.producers;for(;i!==void 0;)i=Cp(i)}return n}function Gi(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Ru(t){pA?.(t)}function mA(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function ku(t,e){let n=Object.create(gA);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Nu(n),$i(n),n.value===Ma)throw n.error;return n.value};return r[Vt]=n,Ru(n),r}var Tu=Symbol("UNSET"),Su=Symbol("COMPUTING"),Ma=Symbol("ERRORED"),gA=V(v({},Zo),{value:Tu,dirty:!0,error:null,equal:Au,kind:"computed",producerMustRecompute(t){return t.value===Tu||t.value===Su},producerRecomputeValue(t){if(t.value===Su)throw new Error("");let e=t.value;t.value=Su;let n=Yo(t),r,o=!1;try{r=t.computation(),xe(null),o=e!==Tu&&e!==Ma&&r!==Ma&&t.equal(e,r)}catch(i){r=Ma,t.error=i}finally{Wi(t,n)}if(o){t.value=e;return}t.value=r,t.version++}});function _A(){throw new Error}var Lv=_A;function Vv(t){Lv(t)}function Dp(t){Lv=t}var vA=null;function bp(t,e){let n=Object.create(Fu);n.value=t,e!==void 0&&(n.equal=e);let r=()=>jv(n);return r[Vt]=n,Ru(n),[r,s=>zi(n,s),s=>Tp(n,s)]}function jv(t){return $i(t),t.value}function zi(t,e){wp()||Vv(t),t.equal(t.value,e)||(t.value=e,yA(t))}function Tp(t,e){wp()||Vv(t),zi(t,e(t.value))}var Fu=V(v({},Zo),{equal:Au,value:void 0,kind:"signal"});function yA(t){t.version++,Fv(),Ep(t),vA?.(t)}function _e(t){return typeof t=="function"}function Zi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Pu=Zi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Oa(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var dt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(_e(r))try{r()}catch(i){e=i instanceof Pu?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Bv(i)}catch(s){e=e??[],s instanceof Pu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Pu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Bv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Oa(n,e)}remove(e){let{_finalizers:n}=this;n&&Oa(n,e),e instanceof t&&e._removeParent(this)}};dt.EMPTY=(()=>{let t=new dt;return t.closed=!0,t})();var Sp=dt.EMPTY;function Lu(t){return t instanceof dt||t&&"closed"in t&&_e(t.remove)&&_e(t.add)&&_e(t.unsubscribe)}function Bv(t){_e(t)?t():t.unsubscribe()}var Kn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Yi={setTimeout(t,e,...n){let{delegate:r}=Yi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Yi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Vu(t){Yi.setTimeout(()=>{let{onUnhandledError:e}=Kn;if(e)e(t);else throw t})}function Qo(){}var Uv=Ip("C",void 0,void 0);function qv(t){return Ip("E",void 0,t)}function Hv(t){return Ip("N",t,void 0)}function Ip(t,e,n){return{kind:t,value:e,error:n}}var Xo=null;function Qi(t){if(Kn.useDeprecatedSynchronousErrorHandling){let e=!Xo;if(e&&(Xo={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Xo;if(Xo=null,n)throw r}}else t()}function $v(t){Kn.useDeprecatedSynchronousErrorHandling&&Xo&&(Xo.errorThrown=!0,Xo.error=t)}var Ko=class extends dt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Lu(e)&&e.add(this)):this.destination=wA}static create(e,n,r){return new Xi(e,n,r)}next(e){this.isStopped?Mp(Hv(e),this):this._next(e)}error(e){this.isStopped?Mp(qv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Mp(Uv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},xA=Function.prototype.bind;function Ap(t,e){return xA.call(t,e)}var Np=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ju(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ju(r)}else ju(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ju(n)}}},Xi=class extends Ko{constructor(e,n,r){super();let o;if(_e(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&Kn.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&Ap(e.next,i),error:e.error&&Ap(e.error,i),complete:e.complete&&Ap(e.complete,i)}):o=e}this.destination=new Np(o)}};function ju(t){Kn.useDeprecatedSynchronousErrorHandling?$v(t):Vu(t)}function EA(t){throw t}function Mp(t,e){let{onStoppedNotification:n}=Kn;n&&Yi.setTimeout(()=>n(t,e))}var wA={closed:!0,next:Qo,error:EA,complete:Qo};var Ki=typeof Symbol=="function"&&Symbol.observable||"@@observable";function vn(t){return t}function Op(...t){return Rp(t)}function Rp(t){return t.length===0?vn:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var Ee=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=DA(n)?n:new Xi(n,r,o);return Qi(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Wv(r),new r((o,i)=>{let s=new Xi({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ki](){return this}pipe(...n){return Rp(n)(this)}toPromise(n){return n=Wv(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function Wv(t){var e;return(e=t??Kn.Promise)!==null&&e!==void 0?e:Promise}function CA(t){return t&&_e(t.next)&&_e(t.error)&&_e(t.complete)}function DA(t){return t&&t instanceof Ko||CA(t)&&Lu(t)}function kp(t){return _e(t?.lift)}function Ae(t){return e=>{if(kp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Te(t,e,n,r,o){return new Fp(t,e,n,r,o)}var Fp=class extends Ko{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ji(){return Ae((t,e)=>{let n=null;t._refCount++;let r=Te(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let o=t._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var es=class extends Ee{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,kp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new dt;let n=this.getSubject();e.add(this.source.subscribe(Te(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=dt.EMPTY)}return e}refCount(){return Ji()(this)}};var Gv=Zi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var et=(()=>{class t extends Ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Bu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Gv}next(n){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Sp:(this.currentObservers=null,i.push(n),new dt(()=>{this.currentObservers=null,Oa(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new Ee;return n.source=this,n}}return t.create=(e,n)=>new Bu(e,n),t})(),Bu=class extends et{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Sp}};var Nt=class extends et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var un=new Ee(t=>t.complete());function zv(t){return t&&_e(t.schedule)}function Zv(t){return t[t.length-1]}function Uu(t){return _e(Zv(t))?t.pop():void 0}function xo(t){return zv(Zv(t))?t.pop():void 0}function jt(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,n,i):s(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i}function Se(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):o(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Yv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jo(t){return this instanceof Jo?(this.v=t,this):new Jo(t)}function Qv(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(h){return Promise.resolve(h).then(f,d)}}function a(f,h){r[f]&&(o[f]=function(g){return new Promise(function(m,_){i.push([f,g,m,_])>1||c(f,g)})},h&&(o[f]=h(o[f])))}function c(f,h){try{u(r[f](h))}catch(g){p(i[0][3],g)}}function u(f){f.value instanceof Jo?Promise.resolve(f.value.v).then(l,d):p(i[0][2],f)}function l(f){c("next",f)}function d(f){c("throw",f)}function p(f,h){f(h),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Xv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Yv=="function"?Yv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}var qu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Hu(t){return _e(t?.then)}function $u(t){return _e(t[Ki])}function Wu(t){return Symbol.asyncIterator&&_e(t?.[Symbol.asyncIterator])}function Gu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function bA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var zu=bA();function Zu(t){return _e(t?.[zu])}function Yu(t){return Qv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield Jo(n.read());if(o)return yield Jo(void 0);yield yield Jo(r)}}finally{n.releaseLock()}})}function Qu(t){return _e(t?.getReader)}function ft(t){if(t instanceof Ee)return t;if(t!=null){if($u(t))return TA(t);if(qu(t))return SA(t);if(Hu(t))return IA(t);if(Wu(t))return Kv(t);if(Zu(t))return AA(t);if(Qu(t))return MA(t)}throw Gu(t)}function TA(t){return new Ee(e=>{let n=t[Ki]();if(_e(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function SA(t){return new Ee(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function IA(t){return new Ee(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Vu)})}function AA(t){return new Ee(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Kv(t){return new Ee(e=>{NA(t,e).catch(n=>e.error(n))})}function MA(t){return Kv(Yu(t))}function NA(t,e){var n,r,o,i;return Se(this,void 0,void 0,function*(){try{for(n=Xv(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})}function ln(t,e,n,r=0,o=!1){let i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function Xu(t,e=0){return Ae((n,r)=>{n.subscribe(Te(r,o=>ln(r,t,()=>r.next(o),e),()=>ln(r,t,()=>r.complete(),e),o=>ln(r,t,()=>r.error(o),e)))})}function Ku(t,e=0){return Ae((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Jv(t,e){return ft(t).pipe(Ku(e),Xu(e))}function ey(t,e){return ft(t).pipe(Ku(e),Xu(e))}function ty(t,e){return new Ee(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function ny(t,e){return new Ee(n=>{let r;return ln(n,e,()=>{r=t[zu](),ln(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>_e(r?.return)&&r.return()})}function Ju(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ee(n=>{ln(n,e,()=>{let r=t[Symbol.asyncIterator]();ln(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function ry(t,e){return Ju(Yu(t),e)}function oy(t,e){if(t!=null){if($u(t))return Jv(t,e);if(qu(t))return ty(t,e);if(Hu(t))return ey(t,e);if(Wu(t))return Ju(t,e);if(Zu(t))return ny(t,e);if(Qu(t))return ry(t,e)}throw Gu(t)}function rt(t,e){return e?oy(t,e):ft(t)}function pe(...t){let e=xo(t);return rt(t,e)}function ts(t,e){let n=_e(t)?t:()=>t,r=o=>o.error(n());return new Ee(e?o=>e.schedule(r,0,o):r)}function Pp(t){return!!t&&(t instanceof Ee||_e(t.lift)&&_e(t.subscribe))}var Gr=Zi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ve(t,e){return Ae((n,r)=>{let o=0;n.subscribe(Te(r,i=>{r.next(t.call(e,i,o++))}))})}var{isArray:OA}=Array;function RA(t,e){return OA(e)?t(...e):t(e)}function el(t){return ve(e=>RA(t,e))}var{isArray:kA}=Array,{getPrototypeOf:FA,prototype:PA,keys:LA}=Object;function tl(t){if(t.length===1){let e=t[0];if(kA(e))return{args:e,keys:null};if(VA(e)){let n=LA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function VA(t){return t&&typeof t=="object"&&FA(t)===PA}function nl(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function rl(...t){let e=xo(t),n=Uu(t),{args:r,keys:o}=tl(t);if(r.length===0)return rt([],e);let i=new Ee(jA(r,e,o?s=>nl(o,s):vn));return n?i.pipe(el(n)):i}function jA(t,e,n=vn){return r=>{iy(e,()=>{let{length:o}=t,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)iy(e,()=>{let u=rt(t[c],e),l=!1;u.subscribe(Te(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function iy(t,e,n){t?ln(n,t,e):e()}function sy(t,e,n,r,o,i,s,a){let c=[],u=0,l=0,d=!1,p=()=>{d&&!c.length&&!u&&e.complete()},f=g=>u<r?h(g):c.push(g),h=g=>{i&&e.next(g),u++;let m=!1;ft(n(g,l++)).subscribe(Te(e,_=>{o?.(_),i?f(_):e.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;c.length&&u<r;){let _=c.shift();s?ln(e,s,()=>h(_)):h(_)}p()}catch(_){e.error(_)}}))};return t.subscribe(Te(e,f,()=>{d=!0,p()})),()=>{a?.()}}function wt(t,e,n=1/0){return _e(e)?wt((r,o)=>ve((i,s)=>e(r,i,o,s))(ft(t(r,o))),n):(typeof e=="number"&&(n=e),Ae((r,o)=>sy(r,o,t,n)))}function ay(t=1/0){return wt(vn,t)}function cy(){return ay(1)}function ns(...t){return cy()(rt(t,xo(t)))}function Ra(t){return new Ee(e=>{ft(t()).subscribe(e)})}function Lp(...t){let e=Uu(t),{args:n,keys:r}=tl(t),o=new Ee(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,u=s;for(let l=0;l<s;l++){let d=!1;ft(n[l]).subscribe(Te(i,p=>{d||(d=!0,u--),a[l]=p},()=>c--,void 0,()=>{(!c||!d)&&(u||i.next(r?nl(r,a):a),i.complete())}))}});return e?o.pipe(el(e)):o}var zr=new Ee(Qo);function Yt(t,e){return Ae((n,r)=>{let o=0;n.subscribe(Te(r,i=>t.call(e,i,o++)&&r.next(i)))})}function Eo(t){return Ae((e,n)=>{let r=null,o=!1,i;r=e.subscribe(Te(n,void 0,void 0,s=>{i=ft(t(s,Eo(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function uy(t,e,n,r,o){return(i,s)=>{let a=n,c=e,u=0;i.subscribe(Te(s,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function rs(t,e){return _e(e)?wt(t,e,1):wt(t,1)}function wo(t){return Ae((e,n)=>{let r=!1;e.subscribe(Te(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function Qt(t){return t<=0?()=>un:Ae((e,n)=>{let r=0;e.subscribe(Te(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function ol(t=BA){return Ae((e,n)=>{let r=!1;e.subscribe(Te(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function BA(){return new Gr}function ka(t){return Ae((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Zr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Yt((o,i)=>t(o,i,r)):vn,Qt(1),n?wo(e):ol(()=>new Gr))}function os(t){return t<=0?()=>un:Ae((e,n)=>{let r=[];e.subscribe(Te(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function Vp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Yt((o,i)=>t(o,i,r)):vn,os(1),n?wo(e):ol(()=>new Gr))}function jp(t,e){return Ae(uy(t,e,arguments.length>=2,!0))}function Bp(...t){let e=xo(t);return Ae((n,r)=>{(e?ns(t,n,e):ns(t,n)).subscribe(r)})}function Ot(t,e){return Ae((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(Te(r,c=>{o?.unsubscribe();let u=0,l=i++;ft(t(c,l)).subscribe(o=Te(r,d=>r.next(e?e(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function il(t){return Ae((e,n)=>{ft(t).subscribe(Te(n,()=>n.complete(),Qo)),!n.closed&&e.subscribe(n)})}function bt(t,e,n){let r=_e(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ae((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(Te(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):vn}function ly(t){let e=xe(null);try{return t()}finally{xe(e)}}var Jp="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",X=class extends Error{code;constructor(e,n){super(Er(e,n)),this.code=e}};function UA(t){return`NG0${Math.abs(t)}`}function Er(t,e){return`${UA(t)}${e?": "+e:""}`}function Ve(t){for(let e in t)if(t[e]===Ve)return e;throw Error("")}function py(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Qr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Qr).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function eh(t,e){return t?e?`${t} ${e}`:t:e||""}var qA=Ve({__forward_ref__:Ve});function Xr(t){return t.__forward_ref__=Xr,t.toString=function(){return Qr(this())},t}function Rt(t){return th(t)?t():t}function th(t){return typeof t=="function"&&t.hasOwnProperty(qA)&&t.__forward_ref__===Xr}function hy(t,e){t==null&&nh(e,t,null,"!=")}function nh(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function oe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wr(t){return{providers:t.providers||[],imports:t.imports||[]}}function ja(t){return HA(t,ll)}function rh(t){return ja(t)!==null}function HA(t,e){return t.hasOwnProperty(e)&&t[e]||null}function $A(t){let e=t?.[ll]??null;return e||null}function qp(t){return t&&t.hasOwnProperty(al)?t[al]:null}var ll=Ve({\u0275prov:Ve}),al=Ve({\u0275inj:Ve}),K=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=oe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function oh(t){return t&&!!t.\u0275providers}var ih=Ve({\u0275cmp:Ve}),sh=Ve({\u0275dir:Ve}),ah=Ve({\u0275pipe:Ve}),ch=Ve({\u0275mod:Ve}),La=Ve({\u0275fac:Ve}),ii=Ve({__NG_ELEMENT_ID__:Ve}),dy=Ve({__NG_ENV_ID__:Ve});function dl(t){return typeof t=="string"?t:t==null?"":String(t)}function cl(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():dl(t)}var uh=Ve({ngErrorCode:Ve}),my=Ve({ngErrorMessage:Ve}),Pa=Ve({ngTokenPath:Ve});function lh(t,e){return gy("",-200,e)}function fl(t,e){throw new X(-201,!1)}function WA(t,e){t[Pa]??=[];let n=t[Pa],r;typeof e=="object"&&"multi"in e&&e?.multi===!0?(hy(e.provide,"Token with multi: true should have a provide property"),r=cl(e.provide)):r=cl(e),n[0]!==r&&t[Pa].unshift(r)}function GA(t,e){let n=t[Pa],r=t[uh],o=t[my]||t.message;return t.message=ZA(o,r,n,e),t}function gy(t,e,n){let r=new X(e,t);return r[uh]=e,r[my]=t,n&&(r[Pa]=n),r}function zA(t){return t[uh]}function ZA(t,e,n=[],r=null){let o="";n&&n.length>1&&(o=` Path: ${n.join(" -> ")}.`);let i=r?` Source: ${r}.`:"";return Er(e,`${t}${i}${o}`)}var Hp;function _y(){return Hp}function yn(t){let e=Hp;return Hp=t,e}function dh(t,e,n){let r=ja(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;fl(t,"Injector")}var YA={},ei=YA,$p="__NG_DI_FLAG__",Wp=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=ti(n)||0;try{return this.injector.get(e,r&8?null:ei,r)}catch(o){if(Hi(o))return o;throw o}}};function QA(t,e=0){let n=Du();if(n===void 0)throw new X(-203,!1);if(n===null)return dh(t,void 0,e);{let r=XA(e),o=n.retrieve(t,r);if(Hi(o)){if(r.optional)return null;throw o}return o}}function me(t,e=0){return(_y()||QA)(Rt(t),e)}function F(t,e){return me(t,ti(e))}function ti(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function XA(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Gp(t){let e=[];for(let n=0;n<t.length;n++){let r=Rt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new X(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=KA(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}e.push(me(o,i))}else e.push(me(r))}return e}function fh(t,e){return t[$p]=e,t.prototype[$p]=e,t}function KA(t){return t[$p]}function ni(t,e){let n=t.hasOwnProperty(La);return n?t[La]:null}function pl(t,e){t.forEach(n=>Array.isArray(n)?pl(n,e):e(n))}function ph(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ba(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function vy(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(o===1)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;){let i=o-2;t[o]=t[i],o--}t[e]=n,t[e+1]=r}}function yy(t,e,n){let r=ss(t,e);return r>=0?t[r|1]=n:(r=~r,vy(t,r,e,n)),r}function hl(t,e){let n=ss(t,e);if(n>=0)return t[n|1]}function ss(t,e){return JA(t,e,1)}function JA(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=t[i<<n];if(e===s)return i<<n;s>e?o=i:r=i+1}return~(o<<n)}var Do={},xn=[],Vn=new K(""),hh=new K("",-1),mh=new K(""),Va=class{get(e,n=ei){if(n===ei){let o=gy("",-201);throw o.name="\u0275NotFound",o}return n}};function gh(t){return t[ch]||null}function Kr(t){return t[ih]||null}function ml(t){return t[sh]||null}function _h(t){return t[ah]||null}function dn(t){return{\u0275providers:t}}function xy(t){return dn([{provide:Vn,multi:!0,useValue:t}])}function Ey(...t){return{\u0275providers:gl(!0,t),\u0275fromNgModule:!0}}function gl(t,...e){let n=[],r=new Set,o,i=s=>{n.push(s)};return pl(e,s=>{let a=s;ul(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&wy(o,i),n}function wy(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];vh(o,i=>{e(i,r)})}}function ul(t,e,n,r){if(t=Rt(t),!t)return!1;let o=null,i=qp(t),s=!i&&Kr(t);if(!i&&!s){let c=t.ngModule;if(i=qp(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=t}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)ul(u,e,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;try{pl(i.imports,l=>{ul(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&wy(u,e)}if(!a){let u=ni(o)||(()=>new o);e({provide:o,useFactory:u,deps:xn},o),e({provide:mh,useValue:o,multi:!0},o),e({provide:Vn,useValue:()=>me(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=t;vh(c,l=>{e(l,u)})}}else return!1;return o!==t&&t.providers!==void 0}function vh(t,e){for(let n of t)oh(n)&&(n=n.\u0275providers),Array.isArray(n)?vh(n,e):e(n)}var eM=Ve({provide:String,useValue:Ve});function Cy(t){return t!==null&&typeof t=="object"&&eM in t}function tM(t){return!!(t&&t.useExisting)}function nM(t){return!!(t&&t.useFactory)}function ri(t){return typeof t=="function"}function Dy(t){return!!t.useClass}var Ua=new K(""),sl={},fy={},Up;function qa(){return Up===void 0&&(Up=new Va),Up}var Tt=class{},oi=class extends Tt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,Zp(e,s=>this.processProvider(s)),this.records.set(hh,is(void 0,this)),o.has("environment")&&this.records.set(Tt,is(void 0,this));let i=this.records.get(Ua);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(mh,xn,{self:!0}))}retrieve(e,n){let r=ti(n)||0;try{return this.get(e,ei,r)}catch(o){if(Hi(o))return o;throw o}}destroy(){Fa(this),this._destroyed=!0;let e=xe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),xe(e)}}onDestroy(e){return Fa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Fa(this);let n=yr(this),r=yn(void 0),o;try{return e()}finally{yr(n),yn(r)}}get(e,n=ei,r){if(Fa(this),e.hasOwnProperty(dy))return e[dy](this);let o=ti(r),i,s=yr(this),a=yn(void 0);try{if(!(o&4)){let u=this.records.get(e);if(u===void 0){let l=aM(e)&&ja(e);l&&this.injectableDefInScope(l)?u=is(zp(e),sl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,o)}let c=o&2?qa():this.parent;return n=o&8&&n===ei?null:n,c.get(e,n)}catch(c){let u=zA(c);throw u===-200||u===-201?new X(u,null):c}finally{yn(a),yr(s)}}resolveInjectorInitializers(){let e=xe(null),n=yr(this),r=yn(void 0),o;try{let i=this.get(Vn,xn,{self:!0});for(let s of i)s()}finally{yr(n),yn(r),xe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Qr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Rt(e);let n=ri(e)?e:Rt(e&&e.provide),r=oM(e);if(!ri(e)&&e.multi===!0){let o=this.records.get(n);o||(o=is(void 0,sl,!0),o.factory=()=>Gp(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let o=xe(null);try{if(n.value===fy)throw lh(Qr(e));return n.value===sl&&(n.value=fy,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&sM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{xe(o)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Rt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function zp(t){let e=ja(t),n=e!==null?e.factory:ni(t);if(n!==null)return n;if(t instanceof K)throw new X(204,!1);if(t instanceof Function)return rM(t);throw new X(204,!1)}function rM(t){if(t.length>0)throw new X(204,!1);let n=$A(t);return n!==null?()=>n.factory(t):()=>new t}function oM(t){if(Cy(t))return is(void 0,t.useValue);{let e=yh(t);return is(e,sl)}}function yh(t,e,n){let r;if(ri(t)){let o=Rt(t);return ni(o)||zp(o)}else if(Cy(t))r=()=>Rt(t.useValue);else if(nM(t))r=()=>t.useFactory(...Gp(t.deps||[]));else if(tM(t))r=(o,i)=>me(Rt(t.useExisting),i!==void 0&&i&8?8:void 0);else{let o=Rt(t&&(t.useClass||t.provide));if(iM(t))r=()=>new o(...Gp(t.deps));else return ni(o)||zp(o)}return r}function Fa(t){if(t.destroyed)throw new X(205,!1)}function is(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function iM(t){return!!t.deps}function sM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function aM(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Zp(t,e){for(let n of t)Array.isArray(n)?Zp(n,e):n&&oh(n)?Zp(n.\u0275providers,e):e(n)}function Ut(t,e){let n;t instanceof oi?(Fa(t),n=t):n=new Wp(t);let r,o=yr(n),i=yn(void 0);try{return e()}finally{yr(o),yn(i)}}function by(){return _y()!==void 0||Du()!=null}var Xt=0,se=1,ge=2,pt=3,jn=4,Bn=5,En=6,as=7,qt=8,er=9,Jr=10,Ue=11,cs=12,xh=13,si=14,fn=15,ai=16,ci=17,ui=18,Ha=19,Eh=20,Yr=21,_l=22,$a=23,wn=24,li=25,tt=26,Ty=1,tr=6,Cr=7,Wa=8,Ga=9,Kt=10;function Cn(t){return Array.isArray(t)&&typeof t[Ty]=="object"}function Dn(t){return Array.isArray(t)&&t[Ty]===!0}function wh(t){return(t.flags&4)!==0}function eo(t){return t.componentOffset>-1}function za(t){return(t.flags&1)===1}function Dr(t){return!!t.template}function di(t){return(t[ge]&512)!==0}function bo(t){return(t[ge]&256)===256}var Sy="svg",Iy="math";function bn(t){for(;Array.isArray(t);)t=t[Xt];return t}function Ch(t,e){return bn(e[t])}function Un(t,e){return bn(e[t.index])}function us(t,e){return t.data[e]}function qn(t,e){let n=e[t];return Cn(n)?n:n[Xt]}function vl(t){return(t[ge]&128)===128}function Ay(t){return Dn(t[pt])}function fi(t,e){return e==null?null:t[e]}function Dh(t){t[ci]=0}function bh(t){t[ge]&1024||(t[ge]|=1024,vl(t)&&ls(t))}function My(t,e){for(;t>0;)e=e[si],t--;return e}function Za(t){return!!(t[ge]&9216||t[wn]?.dirty)}function yl(t){t[Jr].changeDetectionScheduler?.notify(8),t[ge]&64&&(t[ge]|=1024),Za(t)&&ls(t)}function ls(t){t[Jr].changeDetectionScheduler?.notify(0);let e=Co(t);for(;e!==null&&!(e[ge]&8192||(e[ge]|=8192,!vl(e)));)e=Co(e)}function Th(t,e){if(bo(t))throw new X(911,!1);t[Yr]===null&&(t[Yr]=[]),t[Yr].push(e)}function Ny(t,e){if(t[Yr]===null)return;let n=t[Yr].indexOf(e);n!==-1&&t[Yr].splice(n,1)}function Co(t){let e=t[pt];return Dn(e)?e[pt]:e}function Oy(t){return t[as]??=[]}function Ry(t){return t.cleanup??=[]}var Ce={lFrame:zy(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Ya=function(t){return t[t.Off=0]="Off",t[t.Exhaustive=1]="Exhaustive",t[t.OnlyDirtyViews=2]="OnlyDirtyViews",t}(Ya||{}),cM=0,Yp=!1;function ky(){return Ce.lFrame.elementDepthCount}function Fy(){Ce.lFrame.elementDepthCount++}function Sh(){Ce.lFrame.elementDepthCount--}function Ih(){return Ce.bindingsEnabled}function Ah(){return Ce.skipHydrationRootTNode!==null}function Mh(t){return Ce.skipHydrationRootTNode===t}function Py(t){Ce.skipHydrationRootTNode=t}function Nh(){Ce.skipHydrationRootTNode=null}function qe(){return Ce.lFrame.lView}function Tn(){return Ce.lFrame.tView}function G(t){return Ce.lFrame.contextLView=t,t[qt]}function z(t){return Ce.lFrame.contextLView=null,t}function Ht(){let t=Oh();for(;t!==null&&t.type===64;)t=t.parent;return t}function Oh(){return Ce.lFrame.currentTNode}function Ly(){let t=Ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ds(t,e){let n=Ce.lFrame;n.currentTNode=t,n.isParent=e}function Rh(){return Ce.lFrame.isParent}function Vy(){Ce.lFrame.isParent=!1}function kh(t){nh("Must never be called in production mode"),cM=t}function Fh(){return Yp}function Ph(t){let e=Yp;return Yp=t,e}function jy(){let t=Ce.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function By(t){return Ce.lFrame.bindingIndex=t}function Qa(){return Ce.lFrame.bindingIndex++}function Uy(t){let e=Ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function qy(){return Ce.lFrame.inI18n}function Hy(t,e){let n=Ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,xl(e)}function $y(){return Ce.lFrame.currentDirectiveIndex}function xl(t){Ce.lFrame.currentDirectiveIndex=t}function Wy(t){let e=Ce.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Lh(t){Ce.lFrame.currentQueryIndex=t}function uM(t){let e=t[se];return e.type===2?e.declTNode:e.type===1?t[Bn]:null}function Vh(t,e,n){if(n&4){let o=e,i=t;for(;o=o.parent,o===null&&!(n&1);)if(o=uM(i),o===null||(i=i[si],o.type&10))break;if(o===null)return!1;e=o,t=i}let r=Ce.lFrame=Gy();return r.currentTNode=e,r.lView=t,!0}function El(t){let e=Gy(),n=t[se];Ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Gy(){let t=Ce.lFrame,e=t===null?null:t.child;return e===null?zy(t):e}function zy(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Zy(){let t=Ce.lFrame;return Ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var jh=Zy;function wl(){let t=Zy();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yy(t){return(Ce.lFrame.contextLView=My(t,Ce.lFrame.contextLView))[qt]}function pi(){return Ce.lFrame.selectedIndex}function To(t){Ce.lFrame.selectedIndex=t}function Cl(){let t=Ce.lFrame;return us(t.tView,t.selectedIndex)}function Bh(){return Ce.lFrame.currentNamespace}var Qy=!0;function Dl(){return Qy}function to(t){Qy=t}function Qp(t,e=null,n=null,r){let o=Uh(t,e,n,r);return o.resolveInjectorInitializers(),o}function Uh(t,e=null,n=null,r,o=new Set){let i=[n||xn,Ey(t)];return r=r||(typeof t=="object"?void 0:Qr(t)),new oi(i,e||qa(),r||null,o)}var Bt=class t{static THROW_IF_NOT_FOUND=ei;static NULL=new Va;static create(e,n){if(Array.isArray(e))return Qp({name:""},n,e,"");{let r=e.name??"";return Qp({name:r},e.parent,e.providers,r)}}static \u0275prov=oe({token:t,providedIn:"any",factory:()=>me(hh)});static __NG_ELEMENT_ID__=-1},Ct=new K(""),br=(()=>{class t{static __NG_ELEMENT_ID__=lM;static __NG_ENV_ID__=n=>n}return t})(),Xp=class extends br{_lView;constructor(e){super(),this._lView=e}get destroyed(){return bo(this._lView)}onDestroy(e){let n=this._lView;return Th(n,e),()=>Ny(n,e)}};function lM(){return new Xp(qe())}var Jn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},pn=new K("",{providedIn:"root",factory:()=>{let t=F(Tt),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(Jn),e.handleError(n))}}}),Xy={provide:Vn,useValue:()=>void F(Jn),multi:!0},dM=new K("",{providedIn:"root",factory:()=>{let t=F(Ct).defaultView;if(!t)return;let e=F(pn),n=i=>{e(i.reason),i.preventDefault()},r=i=>{i.error?e(i.error):e(new Error(i.message,{cause:i})),i.preventDefault()},o=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(o):o(),F(br).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function qh(){return dn([xy(()=>void F(dM))])}function Hh(t){return typeof t=="function"&&t[Vt]!==void 0}function So(t,e){let[n,r,o]=bp(t,e?.equal),i=n,s=i[Vt];return i.set=r,i.update=o,i.asReadonly=Ky.bind(i),i}function Ky(){let t=this[Vt];if(t.readonlyFn===void 0){let e=()=>this();e[Vt]=t,t.readonlyFn=e}return t.readonlyFn}function $h(t){return Hh(t)&&typeof t.set=="function"}var xr=class{},fs=new K("",{providedIn:"root",factory:()=>!1});var Wh=new K(""),bl=new K("");var Tl=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=fM}return t})();function fM(){return new Tl(qe(),Ht())}var nr=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Nt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ee(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=oe({token:t,providedIn:"root",factory:()=>new t})}return t})(),Sl=(()=>{class t{internalPendingTasks=F(nr);scheduler=F(xr);errorHandler=F(pn);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=oe({token:t,providedIn:"root",factory:()=>new t})}return t})();function Xa(...t){}var Gh=(()=>{class t{static \u0275prov=oe({token:t,providedIn:"root",factory:()=>new Kp})}return t})(),Kp=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};var Il={JSACTION:"jsaction"};function Es(t){return{toString:t}.toString()}var Al="__parameters__";function EM(t){return function(...n){if(t){let r=t(...n);for(let o in r)this[o]=r[o]}}}function Px(t,e,n){return Es(()=>{let r=EM(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(c,u,l){let d=c.hasOwnProperty(Al)?c[Al]:Object.defineProperty(c,Al,{value:[]})[Al];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return o.prototype.ngMetadataName=t,o.annotationCls=o,o})}var Am=fh(Px("Optional"),8);var Lx=fh(Px("SkipSelf"),4);function wM(t){return typeof t=="function"}var Pl=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Vx(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var xi=(()=>{let t=()=>jx;return t.ngInherit=!0,t})();function jx(t){return t.type.prototype.ngOnChanges&&(t.setInput=DM),CM}function CM(){let t=Ux(this),e=t?.current;if(e){let n=t.previous;if(n===Do)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function DM(t,e,n,r,o){let i=this.declaredInputs[r],s=Ux(t)||bM(t,{previous:Do,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new Pl(u&&u.currentValue,n,c===Do),Vx(t,e,o,n)}var Bx="__ngSimpleChanges__";function Ux(t){return t[Bx]||null}function bM(t,e){return t[Bx]=e}var Jy=[];var Fe=function(t,e=null,n){for(let r=0;r<Jy.length;r++){let o=Jy[r];o(t,e,n)}};function TM(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=jx(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function qx(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Nl(t,e,n){Hx(t,e,3,n)}function Ol(t,e,n,r){(t[ge]&3)===n&&Hx(t,e,n,r)}function zh(t,e){let n=t[ge];(n&3)===e&&(n&=16383,n+=1,t[ge]=n)}function Hx(t,e,n,r){let o=r!==void 0?t[ci]&65535:0,i=r??-1,s=e.length-1,a=0;for(let c=o;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[ci]+=65536),(a<i||i==-1)&&(SM(t,n,e,c),t[ci]=(t[ci]&4294901760)+c+2),c++}function ex(t,e){Fe(4,t,e);let n=xe(null);try{e.call(t)}finally{xe(n),Fe(5,t,e)}}function SM(t,e,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=t[s];o?t[ge]>>14<t[ci]>>16&&(t[ge]&3)===e&&(t[ge]+=16384,ex(a,i)):ex(a,i)}var hs=-1,gi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,o){this.factory=e,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function IM(t){return(t.flags&8)!==0}function AM(t){return(t.flags&16)!==0}function MM(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,i)}else{let i=o,s=n[++r];OM(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function NM(t){return t===3||t===4||t===6}function OM(t){return t.charCodeAt(0)===64}function _s(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?tx(t,n,o,null,e[++r]):tx(t,n,o,null,null))}}return t}function tx(t,e,n,r,o){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===n){o!==null&&(t[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),o!==null&&t.splice(i++,0,o)}function $x(t){return t!==hs}function Ll(t){return t&32767}function RM(t){return t>>16}function Vl(t,e){let n=RM(t),r=e;for(;n>0;)r=r[si],n--;return r}var sm=!0;function nx(t){let e=sm;return sm=t,e}var kM=256,Wx=kM-1,Gx=5,FM=0,Tr={};function PM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ii)&&(r=n[ii]),r==null&&(r=n[ii]=FM++);let o=r&Wx,i=1<<o;e.data[t+(o>>Gx)]|=i}function jl(t,e){let n=zx(t,e);if(n!==-1)return n;let r=e[se];r.firstCreatePass&&(t.injectorIndex=e.length,Zh(r.data,t),Zh(e,null),Zh(r.blueprint,null));let o=Mm(t,e),i=t.injectorIndex;if($x(o)){let s=Ll(o),a=Vl(o,e),c=a[se].data;for(let u=0;u<8;u++)e[i+u]=a[s+u]|c[s+u]}return e[i+8]=o,i}function Zh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function zx(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Mm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=Kx(o),r===null)return hs;if(n++,o=o[si],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return hs}function am(t,e,n){PM(t,e,n)}function Zx(t,e,n){if(n&8||t!==void 0)return t;fl(e,"NodeInjector")}function Yx(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=t[er],i=yn(void 0);try{return o?o.get(e,r,n&8):dh(e,r,n&8)}finally{yn(i)}}return Zx(r,e,n)}function Qx(t,e,n,r=0,o){if(t!==null){if(e[ge]&2048&&!(r&2)){let s=UM(t,e,n,r,Tr);if(s!==Tr)return s}let i=Xx(t,e,n,r,Tr);if(i!==Tr)return i}return Yx(e,n,r,o)}function Xx(t,e,n,r,o){let i=jM(n);if(typeof i=="function"){if(!Vh(e,t,r))return r&1?Zx(o,n,r):Yx(e,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))fl(n);else return s}finally{jh()}}else if(typeof i=="number"){let s=null,a=zx(t,e),c=hs,u=r&1?e[fn][Bn]:null;for((a===-1||r&4)&&(c=a===-1?Mm(t,e):e[a+8],c===hs||!ox(r,!1)?a=-1:(s=e[se],a=Ll(c),e=Vl(c,e)));a!==-1;){let l=e[se];if(rx(i,a,l.data)){let d=LM(a,e,n,s,r,u);if(d!==Tr)return d}c=e[a+8],c!==hs&&ox(r,e[se].data[a+8]===u)&&rx(i,a,e)?(s=l,a=Ll(c),e=Vl(c,e)):a=-1}}return o}function LM(t,e,n,r,o,i){let s=e[se],a=s.data[t+8],c=r==null?eo(a)&&sm:r!=s&&(a.type&3)!==0,u=o&1&&i===a,l=VM(a,s,n,c,u);return l!==null?Bl(e,s,l,a,o):Tr}function VM(t,e,n,r,o){let i=t.providerIndexes,s=e.data,a=i&1048575,c=t.directiveStart,u=t.directiveEnd,l=i>>20,d=r?a:a+l,p=o?a+l:u;for(let f=d;f<p;f++){let h=s[f];if(f<c&&n===h||f>=c&&h.type===n)return f}if(o){let f=s[c];if(f&&Dr(f)&&f.type===n)return c}return null}function Bl(t,e,n,r,o){let i=t[n],s=e.data;if(i instanceof gi){let a=i;if(a.resolving){let f=cl(s[n]);throw lh(f)}let c=nx(a.canSeeViewProviders);a.resolving=!0;let u=s[n].type||s[n],l,d=a.injectImpl?yn(a.injectImpl):null,p=Vh(t,r,0);try{i=t[n]=a.factory(void 0,o,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&TM(n,s[n],e)}finally{d!==null&&yn(d),nx(c),a.resolving=!1,jh()}}return i}function jM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ii)?t[ii]:void 0;return typeof e=="number"?e>=0?e&Wx:BM:e}function rx(t,e,n){let r=1<<t;return!!(n[e+(t>>Gx)]&r)}function ox(t,e){return!(t&2)&&!(t&1&&e)}var mi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Qx(this._tNode,this._lView,e,ti(r),n)}};function BM(){return new mi(Ht(),qe())}function Ao(t){return Es(()=>{let e=t.prototype.constructor,n=e[La]||cm(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let i=o[La]||cm(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function cm(t){return th(t)?()=>{let e=cm(Rt(t));return e&&e()}:ni(t)}function UM(t,e,n,r,o){let i=t,s=e;for(;i!==null&&s!==null&&s[ge]&2048&&!di(s);){let a=Xx(i,s,n,r|2,Tr);if(a!==Tr)return a;let c=i.parent;if(!c){let u=s[Eh];if(u){let l=u.get(n,Tr,r);if(l!==Tr)return l}c=Kx(s),s=s[si]}i=c}return o}function Kx(t){let e=t[se],n=e.type;return n===2?e.declTNode:n===1?t[Bn]:null}function qM(){return ed(Ht(),qe())}function ed(t,e){return new Ei(Un(t,e))}var Ei=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=qM}return t})();var Jx="ngSkipHydration",HM="ngskiphydration";function e0(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===HM)return!0}return!1}function t0(t){return t.hasAttribute(Jx)}function Ul(t){return(t.flags&128)===128}function n0(t){if(Ul(t))return!0;let e=t.parent;for(;e;){if(Ul(t)||e0(e))return!0;e=e.parent}return!1}var Nm=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Nm||{}),r0=new Map,$M=0;function WM(){return $M++}function GM(t){r0.set(t[Ha],t)}function um(t){r0.delete(t[Ha])}var ix="__ngContext__";function vs(t,e){Cn(e)?(t[ix]=e[Ha],GM(e)):t[ix]=e}function o0(t){return s0(t[cs])}function i0(t){return s0(t[jn])}function s0(t){for(;t!==null&&!Dn(t);)t=t[jn];return t}var lm;function Om(t){lm=t}function ic(){if(lm!==void 0)return lm;if(typeof document<"u")return document;throw new X(210,!1)}var Ir=new K("",{providedIn:"root",factory:()=>zM}),zM="ng",td=new K(""),ws=new K("",{providedIn:"platform",factory:()=>"unknown"});var nd=new K("",{providedIn:"root",factory:()=>ic().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function ZM(){let t=new wi;return t.store=a0(ic(),F(Ir)),t}var wi=(()=>{class t{static \u0275prov=oe({token:t,providedIn:"root",factory:ZM});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function a0(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var c0="h",u0="b",YM="f",QM="n",l0="e",d0="t",rd="c",Rm="x",ec="r",f0="i",p0="n",km="d";var h0="di",m0="s",g0="p";var sc=new K(""),_0=!1,Fm=new K("",{providedIn:"root",factory:()=>_0});var Pm=new K(""),v0=!1,y0=new K(""),Lm=new K("",{providedIn:"root",factory:()=>new Map});var ac="ngb";var x0=(t,e,n)=>{let r=t,o=r.__jsaction_fns??new Map,i=o.get(e)??[];i.push(n),o.set(e,i),r.__jsaction_fns=o},E0=(t,e)=>{let n=t,r=n.getAttribute(ac)??"",o=e.get(r)??new Set;o.has(n)||o.add(n),e.set(r,o)};var w0=t=>{t.removeAttribute(Il.JSACTION),t.removeAttribute(ac),t.__jsaction_fns=void 0},C0=new K("",{providedIn:"root",factory:()=>({})});function Vm(t,e){let n=e?.__jsaction_fns?.get(t.type);if(!(!n||!e?.isConnected))for(let r of n)r(t)}var dm=new Map;function D0(t,e){return dm.set(t,e),()=>dm.delete(t)}var sx=!1,b0=(t,e,n,r)=>{};function XM(t,e,n,r){b0(t,e,n,r)}function T0(){sx||(b0=(t,e,n,r)=>{let o=t[er].get(Ir);dm.get(o)?.(e,n,r)},sx=!0)}var od=new K("");function id(t){return(t.flags&32)===32}var KM="__nghData__",jm=KM,JM="__nghDeferData__",S0=JM;var Rl="ngh",I0="nghm",A0=()=>null;function eN(t,e,n=!1){let r=t.getAttribute(Rl);if(r==null)return null;let[o,i]=r.split("|");if(r=n?i:o,!r)return null;let s=i?`|${i}`:"",a=n?o:s,c={};if(r!==""){let l=e.get(wi,null,{optional:!0});l!==null&&(c=l.get(jm,[])[Number(r)])}let u={data:c,firstChild:t.firstChild??null};return n&&(u.firstChild=t,sd(u,0,t.nextSibling)),a?t.setAttribute(Rl,a):t.removeAttribute(Rl),u}function M0(){A0=eN}function N0(t,e,n=!1){return A0(t,e,n)}function O0(t){let e=t._lView;return e[se].type===2?null:(di(e)&&(e=e[tt]),e)}function tN(t){return t.textContent?.replace(/\s/gm,"")}function nN(t){let e=ic(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(i){let s=tN(i);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,o=[];for(;r=n.nextNode();)o.push(r);for(let i of o)i.textContent==="ngetn"?i.replaceWith(e.createTextNode("")):i.remove()}function sd(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function fm(t,e){return t.segmentHeads?.[e]??null}function R0(t){return t.get(y0,!1,{optional:!0})}function rN(t,e){let n=t.data,r=n[l0]?.[e]??null;return r===null&&n[rd]?.[e]&&(r=Bm(t,e)),r}function k0(t,e){return t.data[rd]?.[e]??null}function Bm(t,e){let n=k0(t,e)??[],r=0;for(let o of n)r+=o[ec]*(o[Rm]??1);return r}function oN(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[km];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function F0(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[km];t.disconnectedNodes=n?new Set(n):null}return!!oN(t)?.has(e)}function ad(t,e){let n=t[En];return n!==null&&!Ah()&&!id(e)&&!F0(n,e.index-tt)}function iN(t,e){let n=e.get(od),o=e.get(wi).get(S0,{}),i=!1,s=t,a=null,c=[];for(;!i&&s;){i=n.has(s);let u=n.hydrating.get(s);if(a===null&&u!=null){a=u.promise;break}c.unshift(s),s=o[s][g0]}return{parentBlockPromise:a,hydrationQueue:c}}function Yh(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===I0}function ax(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function P0(t){for(let r of t.body.childNodes)if(Yh(r))return;let e=ax(t.body.previousSibling);if(Yh(e))return;let n=ax(t.head.lastChild);if(!Yh(n))throw new X(-507,!1)}function L0(t,e){let n=t.contentQueries;if(n!==null){let r=xe(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=t.data[s];Lh(i),a.contentQueries(2,e[s],s)}}}finally{xe(r)}}}function pm(t,e,n){Lh(0);let r=xe(null);try{e(t,n)}finally{xe(r)}}function V0(t,e,n){if(wh(e)){let r=xe(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{xe(r)}}}var no=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(no||{});var hm=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Jp})`}};function Um(t){return t instanceof hm?t.changingThisBreaksApplicationSecurity:t}var sN=/^>|^->|<!--|-->|--!>|<!-$/g,aN=/(<|>)/g,cN="\u200B$1\u200B";function uN(t){return t.replace(sN,e=>e.replace(aN,cN))}function j0(t){return t.ownerDocument.body}function B0(t){return t instanceof Function?t():t}function lN(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}var U0="ng-template";function dN(t,e,n,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&lN(e[o+1].toLowerCase(),n,0)!==-1)return!0}else if(qm(t))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function qm(t){return t.type===4&&t.value!==U0}function fN(t,e,n){let r=t.type===4&&!n?U0:t.value;return e===r}function pN(t,e,n){let r=4,o=t.attrs,i=o!==null?gN(o):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!rr(r)&&!rr(c))return!1;if(s&&rr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!fN(t,c,n)||c===""&&e.length===1){if(rr(r))return!1;s=!0}}else if(r&8){if(o===null||!dN(t,o,c,n)){if(rr(r))return!1;s=!0}}else{let u=e[++a],l=hN(c,o,qm(t),n);if(l===-1){if(rr(r))return!1;s=!0;continue}if(u!==""){let d;if(l>i?d="":d=o[l+1].toLowerCase(),r&2&&u!==d){if(rr(r))return!1;s=!0}}}}return rr(r)||s}function rr(t){return(t&1)===0}function hN(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){let s=e[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return _N(e,t)}function mN(t,e,n=!1){for(let r=0;r<e.length;r++)if(pN(t,e[r],n))return!0;return!1}function gN(t){for(let e=0;e<t.length;e++){let n=t[e];if(NM(n))return e}return t.length}function _N(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function cx(t,e){return t?":not("+e.trim()+")":e}function vN(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!rr(s)&&(e+=cx(i,o),o=""),r=s,i=i||!rr(r);n++}return o!==""&&(e+=cx(i,o)),e}function yN(t){return t.map(vN).join(",")}function xN(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&e.push(i,t[++r]):o===8&&n.push(i);else{if(!rr(o))break;o=i}r++}return n.length&&e.push(1,...n),e}var ro={};function q0(t,e){return t.createText(e)}function EN(t,e,n){t.setValue(e,n)}function H0(t,e){return t.createComment(uN(e))}function Hm(t,e,n){return t.createElement(e,n)}function ql(t,e,n,r,o){t.insertBefore(e,n,r,o)}function $0(t,e,n){t.appendChild(e,n)}function ux(t,e,n,r,o){r!==null?ql(t,e,n,r,o):$0(t,e,n)}function $m(t,e,n){t.removeChild(null,e,n)}function W0(t){t.textContent=""}function wN(t,e,n){t.setAttribute(e,"style",n)}function CN(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function G0(t,e,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&MM(t,e,r),o!==null&&CN(t,e,o),i!==null&&wN(t,e,i)}function Wm(t,e,n,r,o,i,s,a,c,u,l){let d=tt+r,p=d+o,f=DN(d,p),h=typeof u=="function"?u():u;return f[se]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:h,incompleteFirstPass:!1,ssrId:l}}function DN(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ro);return n}function bN(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Wm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Gm(t,e,n,r,o,i,s,a,c,u,l){let d=e.blueprint.slice();return d[Xt]=o,d[ge]=r|4|128|8|64|1024,(u!==null||t&&t[ge]&2048)&&(d[ge]|=2048),Dh(d),d[pt]=d[si]=t,d[qt]=n,d[Jr]=s||t&&t[Jr],d[Ue]=a||t&&t[Ue],d[er]=c||t&&t[er]||null,d[Bn]=i,d[Ha]=WM(),d[En]=l,d[Eh]=u,d[fn]=e.type==2?t[fn]:d,d}function TN(t,e,n){let r=Un(e,t),o=bN(n),i=t[Jr].rendererFactory,s=zm(t,Gm(t,o,null,z0(n),r,e,null,i.createRenderer(r,n),null,null,null));return t[e.index]=s}function z0(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Z0(t,e,n,r){if(n===0)return-1;let o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function zm(t,e){return t[cs]?t[xh][jn]=e:t[cs]=e,t[xh]=e,e}function R(t=1){Y0(Tn(),qe(),pi()+t,!1)}function Y0(t,e,n,r){if(!r)if((e[ge]&3)===3){let i=t.preOrderCheckHooks;i!==null&&Nl(e,i,n)}else{let i=t.preOrderHooks;i!==null&&Ol(e,i,0,n)}To(n)}var cd=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(cd||{});function mm(t,e,n,r){let o=xe(null);try{let[i,s,a]=t.inputs[n],c=null;(s&cd.SignalBased)!==0&&(c=e[i][Vt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,i):Vx(e,c,i,r)}finally{xe(o)}}var Sr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Sr||{}),SN;function Zm(t,e){return SN(t,e)}function ps(t,e,n,r,o){if(r!=null){let i,s=!1;Dn(r)?i=r:Cn(r)&&(s=!0,r=r[Xt]);let a=bn(r);t===0&&n!==null?o==null?$0(e,n,a):ql(e,n,a,o||null,!0):t===1&&n!==null?ql(e,n,a,o||null,!0):t===2?$m(e,a,s):t===3&&e.destroyNode(a),i!=null&&jN(e,t,i,n,o)}}function IN(t,e){Q0(t,e),e[Xt]=null,e[Bn]=null}function AN(t,e,n,r,o,i){r[Xt]=o,r[Bn]=e,ud(t,r,n,1,o,i)}function Q0(t,e){e[Jr].changeDetectionScheduler?.notify(9),ud(t,e,e[Ue],2,null,null)}function MN(t){let e=t[cs];if(!e)return Qh(t[se],t);for(;e;){let n=null;if(Cn(e))n=e[cs];else{let r=e[Kt];r&&(n=r)}if(!n){for(;e&&!e[jn]&&e!==t;)Cn(e)&&Qh(e[se],e),e=e[pt];e===null&&(e=t),Cn(e)&&Qh(e[se],e),n=e&&e[jn]}e=n}}function Ym(t,e){let n=t[Ga],r=n.indexOf(e);n.splice(r,1)}function Qm(t,e){if(bo(e))return;let n=e[Ue];n.destroyNode&&ud(t,e,n,3,null,null),MN(e)}function Qh(t,e){if(bo(e))return;let n=xe(null);try{e[ge]&=-129,e[ge]|=256,e[wn]&&Ou(e[wn]),ON(t,e),NN(t,e),e[se].type===1&&e[Ue].destroy();let r=e[ai];if(r!==null&&Dn(e[pt])){r!==e[pt]&&Ym(r,e);let o=e[ui];o!==null&&o.detachView(t)}um(e)}finally{xe(n)}}function NN(t,e){let n=t.cleanup,r=e[as];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[as]=null);let o=e[Yr];if(o!==null){e[Yr]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=e[$a];if(i!==null){e[$a]=null;for(let s of i)s.destroy()}}function ON(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof gi)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];Fe(4,a,c);try{c.call(a)}finally{Fe(5,a,c)}}else{Fe(4,o,i);try{i.call(o)}finally{Fe(5,o,i)}}}}}function RN(t,e,n){return kN(t,e.parent,n)}function kN(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Xt];if(eo(r)){let{encapsulation:o}=t.data[r.directiveStart+r.componentOffset];if(o===no.None||o===no.Emulated)return null}return Un(r,n)}function FN(t,e,n){return LN(t,e,n)}function PN(t,e,n){return t.type&40?Un(t,n):null}var LN=PN,lx;function Xm(t,e,n,r){let o=RN(t,r,e),i=e[Ue],s=r.parent||e[Bn],a=FN(s,r,e);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)ux(i,o,n[c],a,!1);else ux(i,o,n,a,!1);lx!==void 0&&lx(i,r,e,n,o)}function Ka(t,e){if(e!==null){let n=e.type;if(n&3)return Un(e,t);if(n&4)return gm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ka(t,r);{let o=t[e.index];return Dn(o)?gm(-1,o):bn(o)}}else{if(n&128)return Ka(t,e.next);if(n&32)return Zm(e,t)()||bn(t[e.index]);{let r=X0(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=Co(t[fn]);return Ka(o,r)}else return Ka(t,e.next)}}}return null}function X0(t,e){if(e!==null){let r=t[fn][Bn],o=e.projection;return r.projection[o]}return null}function gm(t,e){let n=Kt+t+1;if(n<e.length){let r=e[n],o=r[se].firstChild;if(o!==null)return Ka(r,o)}return e[Cr]}function Km(t,e,n,r,o,i,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&vs(bn(a),r),n.flags|=2),!id(n))if(c&8)Km(t,e,n.child,r,o,i,!1),ps(e,t,o,a,i);else if(c&32){let u=Zm(n,r),l;for(;l=u();)ps(e,t,o,l,i);ps(e,t,o,a,i)}else c&16?VN(t,e,r,n,o,i):ps(e,t,o,a,i);n=s?n.projectionNext:n.next}}function ud(t,e,n,r,o,i){Km(n,r,t.firstChild,e,o,i,!1)}function VN(t,e,n,r,o,i){let s=n[fn],c=s[Bn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];ps(e,t,o,l,i)}else{let u=c,l=s[pt];Ul(r)&&(u.flags|=128),Km(t,e,u,l,o,i,!0)}}function jN(t,e,n,r,o){let i=n[Cr],s=bn(n);i!==s&&ps(e,t,r,i,o);for(let a=Kt;a<n.length;a++){let c=n[a];ud(c[se],c,t,e,r,i)}}function BN(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:Sr.DashCase;o==null?t.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Sr.Important),t.setStyle(n,r,o,i))}}function K0(t,e,n,r,o){let i=pi(),s=r&2;try{To(-1),s&&e.length>tt&&Y0(t,e,tt,!1),Fe(s?2:0,o,n),n(r,o)}finally{To(i),Fe(s?3:1,o,n)}}function Jm(t,e,n){zN(t,e,n),(n.flags&64)===64&&ZN(t,e,n)}function eg(t,e,n=Un){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(e,t):t[s];t[o++]=a}}}function UN(t,e,n,r){let i=r.get(Fm,_0)||n===no.ShadowDom,s=t.selectRootElement(e,i);return qN(s),s}function qN(t){J0(t)}var J0=()=>null;function HN(t){t0(t)?W0(t):nN(t)}function eE(){J0=HN}function $N(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function tE(t,e,n,r,o,i){let s=e[se];if(ng(t,s,e,n,r)){eo(t)&&GN(e,t.index);return}t.type&3&&(n=$N(n)),WN(t,e,n,r,o,i)}function WN(t,e,n,r,o,i){if(t.type&3){let s=Un(t,e);r=i!=null?i(r,t.value||"",n):r,o.setProperty(s,n,r)}else t.type&12}function GN(t,e){let n=qn(e,t);n[ge]&16||(n[ge]|=64)}function zN(t,e,n){let r=n.directiveStart,o=n.directiveEnd;eo(n)&&TN(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||jl(n,e);let i=n.initialInputs;for(let s=r;s<o;s++){let a=t.data[s],c=Bl(e,t,s,n);if(vs(c,e),i!==null&&KN(e,s-r,c,a,n,i),Dr(a)){let u=qn(n.index,e);u[qt]=Bl(e,t,s,n)}}}function ZN(t,e,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=$y();try{To(i);for(let a=r;a<o;a++){let c=t.data[a],u=e[a];xl(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&YN(c,u)}}finally{To(-1),xl(s)}}function YN(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function nE(t,e){let n=t.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];mN(e,i.selectors,!1)&&(r??=[],Dr(i)?r.unshift(i):r.push(i))}return r}function QN(t,e,n,r,o,i){let s=Un(t,e);XN(e[Ue],s,i,t.value,n,r,o)}function XN(t,e,n,r,o,i,s){if(i==null)t.removeAttribute(e,o,n);else{let a=s==null?dl(i):s(i,r||"",o);t.setAttribute(e,o,a,n)}}function KN(t,e,n,r,o,i){let s=i[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];mm(r,n,c,u)}}function rE(t,e,n,r,o){let i=tt+n,s=e[se],a=o(s,e,t,r,n);e[i]=a,ds(t,!0);let c=t.type===2;return c?(G0(e[Ue],a,t),(ky()===0||za(t))&&vs(a,e),Fy()):vs(a,e),Dl()&&(!c||!id(t))&&Xm(s,e,a,t),t}function oE(t){let e=t;return Rh()?Vy():(e=e.parent,ds(e,!1)),e}function tg(t,e){let n=t[er];if(!n)return;n.get(pn,null)?.(e)}function ng(t,e,n,r,o){let i=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1],d=e.data[u];mm(d,n[u],l,o),a=!0}if(i)for(let c of i){let u=n[c],l=e.data[c];mm(l,u,r,o),a=!0}return a}function JN(t,e){let n=qn(e,t),r=n[se];eO(r,n);let o=n[Xt];o!==null&&n[En]===null&&(n[En]=N0(o,n[er])),Fe(18),rg(r,n,n[qt]),Fe(19,n[qt])}function eO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function rg(t,e,n){El(e);try{let r=t.viewQuery;r!==null&&pm(1,r,n);let o=t.template;o!==null&&K0(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[ui]?.finishViewCreation(t),t.staticContentQueries&&L0(t,e),t.staticViewQueries&&pm(2,t.viewQuery,n);let i=t.components;i!==null&&tO(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ge]&=-5,wl()}}function tO(t,e){for(let n=0;n<e.length;n++)JN(t,e[n])}function iE(t,e,n,r){let o=xe(null);try{let i=e.tView,a=t[ge]&4096?4096:16,c=Gm(t,i,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];c[ai]=u;let l=t[ui];return l!==null&&(c[ui]=l.createEmbeddedView(i)),rg(i,c,n),c}finally{xe(o)}}function _m(t,e){return!e||e.firstChild===null||Ul(t)}var dx=!1,nO=new K("");function tc(t,e,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&r.push(bn(i)),Dn(i)&&sE(i,r);let s=n.type;if(s&8)tc(t,e,n.child,r);else if(s&32){let a=Zm(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=X0(e,n);if(Array.isArray(a))r.push(...a);else{let c=Co(e[fn]);tc(c[se],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function sE(t,e){for(let n=Kt;n<t.length;n++){let r=t[n],o=r[se].firstChild;o!==null&&tc(r[se],r,o,e)}t[Cr]!==t[Xt]&&e.push(t[Cr])}function aE(t){if(t[li]!==null){for(let e of t[li])e.impl.addSequence(e);t[li].length=0}}var cE=[];function rO(t){return t[wn]??oO(t)}function oO(t){let e=cE.pop()??Object.create(sO);return e.lView=t,e}function iO(t){t.lView[wn]!==t&&(t.lView=null,cE.push(t))}var sO=V(v({},Zo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{ls(t.lView)},consumerOnSignalRead(){this.lView[wn]=this}});function aO(t){let e=t[wn]??Object.create(cO);return e.lView=t,e}var cO=V(v({},Zo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Co(t.lView);for(;e&&!uE(e[se]);)e=Co(e);e&&bh(e)},consumerOnSignalRead(){this.lView[wn]=this}});function uE(t){return t.type!==2}function lE(t){if(t[$a]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[$a])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[ge]&8192)}}var uO=100;function og(t,e=0){let r=t[Jr].rendererFactory,o=!1;o||r.begin?.();try{lO(t,e)}finally{o||r.end?.()}}function lO(t,e){let n=Fh();try{Ph(!0),vm(t,e);let r=0;for(;Za(t);){if(r===uO)throw new X(103,!1);r++,vm(t,1)}}finally{Ph(n)}}function dE(t,e){kh(e?Ya.Exhaustive:Ya.OnlyDirtyViews);try{og(t)}finally{kh(Ya.Off)}}function dO(t,e,n,r){if(bo(e))return;let o=e[ge],i=!1,s=!1;El(e);let a=!0,c=null,u=null;i||(uE(t)?(u=rO(e),c=Yo(u)):Mu()===null?(a=!1,u=aO(e),c=Yo(u)):e[wn]&&(Ou(e[wn]),e[wn]=null));try{Dh(e),By(t.bindingStartIndex),n!==null&&K0(t,e,n,2,r);let l=(o&3)===3;if(!i)if(l){let f=t.preOrderCheckHooks;f!==null&&Nl(e,f,null)}else{let f=t.preOrderHooks;f!==null&&Ol(e,f,0,null),zh(e,0)}if(s||fO(e),lE(e),fE(e,0),t.contentQueries!==null&&L0(t,e),!i)if(l){let f=t.contentCheckHooks;f!==null&&Nl(e,f)}else{let f=t.contentHooks;f!==null&&Ol(e,f,1),zh(e,1)}hO(t,e);let d=t.components;d!==null&&hE(e,d,0);let p=t.viewQuery;if(p!==null&&pm(2,p,r),!i)if(l){let f=t.viewCheckHooks;f!==null&&Nl(e,f)}else{let f=t.viewHooks;f!==null&&Ol(e,f,2),zh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[_l]){for(let f of e[_l])f();e[_l]=null}i||(aE(e),e[ge]&=-73)}catch(l){throw i||ls(e),l}finally{u!==null&&(Wi(u,c),a&&iO(u)),wl()}}function fE(t,e){for(let n=o0(t);n!==null;n=i0(n))for(let r=Kt;r<n.length;r++){let o=n[r];pE(o,e)}}function fO(t){for(let e=o0(t);e!==null;e=i0(e)){if(!(e[ge]&2))continue;let n=e[Ga];for(let r=0;r<n.length;r++){let o=n[r];bh(o)}}}function pO(t,e,n){Fe(18);let r=qn(e,t);pE(r,n),Fe(19,r[qt])}function pE(t,e){vl(t)&&vm(t,e)}function vm(t,e){let r=t[se],o=t[ge],i=t[wn],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&Na(i)),s||=!1,i&&(i.dirty=!1),t[ge]&=-9217,s)dO(r,t,r.template,t[qt]);else if(o&8192){let a=xe(null);try{lE(t),fE(t,1);let c=r.components;c!==null&&hE(t,c,1),aE(t)}finally{xe(a)}}}function hE(t,e,n){for(let r=0;r<e.length;r++)pO(t,e[r],n)}function hO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)To(~o);else{let i=o,s=n[++r],a=n[++r];Hy(s,i);let c=e[i];Fe(24,c),a(2,c),Fe(25,c)}}}finally{To(-1)}}function ld(t,e){let n=Fh()?64:1088;for(t[Jr].changeDetectionScheduler?.notify(e);t;){t[ge]|=n;let r=Co(t);if(di(t)&&!r)return t;t=r}return null}function mE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function gE(t,e,n,r=!0){let o=e[se];if(gO(o,e,t,n),r){let s=gm(n,t),a=e[Ue],c=a.parentNode(t[Cr]);c!==null&&AN(o,t[Bn],a,e,c,s)}let i=e[En];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function mO(t,e){let n=Hl(t,e);return n!==void 0&&Qm(n[se],n),n}function Hl(t,e){if(t.length<=Kt)return;let n=Kt+e,r=t[n];if(r){let o=r[ai];o!==null&&o!==t&&Ym(o,r),e>0&&(t[n-1][jn]=r[jn]);let i=Ba(t,Kt+e);IN(r[se],r);let s=i[ui];s!==null&&s.detachView(i[se]),r[pt]=null,r[jn]=null,r[ge]&=-129}return r}function gO(t,e,n,r){let o=Kt+r,i=n.length;r>0&&(n[o-1][jn]=e),r<i-Kt?(e[jn]=n[o],ph(n,Kt+r,e)):(n.push(e),e[jn]=null),e[pt]=n;let s=e[ai];s!==null&&n!==s&&_E(s,e);let a=e[ui];a!==null&&a.insertView(t),yl(e),e[ge]|=128}function _E(t,e){let n=t[Ga],r=e[pt];if(Cn(r))t[ge]|=2;else{let o=r[pt][fn];e[fn]!==o&&(t[ge]|=2)}n===null?t[Ga]=[e]:n.push(e)}var Io=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[se];return tc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[qt]}set context(e){this._lView[qt]=e}get destroyed(){return bo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[pt];if(Dn(e)){let n=e[Wa],r=n?n.indexOf(this):-1;r>-1&&(Hl(e,r),Ba(n,r))}this._attachedToViewContainer=!1}Qm(this._lView[se],this._lView)}onDestroy(e){Th(this._lView,e)}markForCheck(){ld(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ge]&=-129}reattach(){yl(this._lView),this._lView[ge]|=128}detectChanges(){this._lView[ge]|=1024,og(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[er].get(nO,dx)}catch{this.exhaustive=dx}}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=di(this._lView),n=this._lView[ai];n!==null&&!e&&Ym(n,this._lView),Q0(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=e;let n=di(this._lView),r=this._lView[ai];r!==null&&!n&&_E(r,this._lView),yl(this._lView)}};var cc=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=_O;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let i=iE(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new Io(i)}}return t})();function _O(){return vO(Ht(),qe())}function vO(t,e){return t.type&4?new cc(e,t,ed(t,e)):null}function dd(t,e,n,r,o){let i=t.data[e];if(i===null)i=yO(t,e,n,r,o),qy()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=Ly();i.injectorIndex=s===null?-1:s.injectorIndex}return ds(i,!0),i}function yO(t,e,n,r,o){let i=Oh(),s=Rh(),a=s?i:i&&i.parent,c=t.data[e]=EO(t,a,n,e,r,o);return xO(t,c,i,s),c}function xO(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function EO(t,e,n,r,o,i){let s=e?e.injectorIndex:-1,a=0;return Ah()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var wO=new RegExp(`^(\\d+)*(${u0}|${c0})*(.*)`);function CO(t){let e=t.match(wO),[n,r,o,i]=e,s=r?parseInt(r,10):o,a=[];for(let[c,u,l]of i.matchAll(/(f|n)(\d*)/g)){let d=parseInt(l,10)||1;a.push(u,d)}return[s,...a]}function DO(t){return!t.prev&&t.parent?.type===8}function Xh(t){return t.index-tt}function bO(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function fd(t,e,n,r){let o=Xh(r),i=bO(t,o);if(i===void 0){let s=t.data[p0];if(s?.[o])i=SO(s[o],n);else if(e.firstChild===r)i=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(DO(r)){let u=Xh(r.parent);i=fm(t,u)}else{let u=Un(c,n);if(a)i=u.firstChild;else{let l=Xh(c),d=fm(t,l);if(c.type===2&&d){let f=Bm(t,l)+1;i=pd(f,d)}else i=u.nextSibling}}}}return i}function pd(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function TO(t,e){let n=t;for(let r=0;r<e.length;r+=2){let o=e[r],i=e[r+1];for(let s=0;s<i;s++)switch(o){case YM:n=n.firstChild;break;case QM:n=n.nextSibling;break}}return n}function SO(t,e){let[n,...r]=CO(t),o;if(n===c0)o=e[fn][Xt];else if(n===u0)o=j0(e[fn][Xt]);else{let i=Number(n);o=bn(e[i+tt])}return TO(o,r)}var IO=!1;function vE(t){IO=t}function AO(t){let e=t[En];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let o=t[Ue];for(let i of r.values())MO(o,n,i)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function MO(t,e,n){for(let r of n.node.cases[n.case]){let o=e.get(r.index-tt);o&&$m(t,o,!1)}}function ig(t){let e=t[tr]??[],r=t[pt][Ue],o=[];for(let i of e)i.data[h0]!==void 0?o.push(i):yE(i,r);t[tr]=o}function NO(t){let{lContainer:e}=t,n=e[tr];if(n===null)return;let o=e[pt][Ue];for(let i of n)yE(i,o)}function yE(t,e){let n=0,r=t.firstChild;if(r){let o=t.data[ec];for(;n<o;){let i=r.nextSibling;$m(e,r,!1),r=i,n++}}}function hd(t){ig(t);let e=t[Xt];Cn(e)&&$l(e);for(let n=Kt;n<t.length;n++)$l(t[n])}function $l(t){AO(t);let e=t[se];for(let n=tt;n<e.bindingStartIndex;n++)if(Dn(t[n])){let r=t[n];hd(r)}else Cn(t[n])&&$l(t[n])}function sg(t){let e=t._views;for(let n of e){let r=O0(n);r!==null&&r[Xt]!==null&&(Cn(r)?$l(r):hd(r))}}function OO(t,e,n,r){t!==null&&(n.cleanup(e),hd(t.lContainer),sg(r))}function RO(t,e){let n=[];for(let r of e)for(let o=0;o<(r[Rm]??1);o++){let i={data:r,firstChild:null};r[ec]>0&&(i.firstChild=t,t=pd(r[ec],t)),n.push(i)}return[t,n]}var xE=()=>null,kO=()=>null;function EE(){xE=FO,kO=PO}function FO(t,e){return wE(t,e)?t[tr].shift():(ig(t),null)}function ym(t,e){return xE(t,e)}function PO(t,e,n){if(e.tView.ssrId===null)return null;let r=ym(t,e.tView.ssrId);return n[se].firstUpdatePass&&r===null&&LO(n,e),r}function LO(t,e){let n=e;for(;n;){if(fx(t,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=e.next;n&&(n.flags&512)===512;){if(fx(t,n))return;n=n.next}}function wE(t,e){let n=t[tr];return!e||n===null||n.length===0?!1:n[0].data[f0]===e}function fx(t,e){let n=e.tView?.ssrId;if(n==null)return!1;let r=t[e.index];return Dn(r)&&wE(r,n)?(ig(r),!0):!1}var CE=class{},md=class{},xm=class{resolveComponentFactory(e){throw new X(917,!1)}},uc=class{static NULL=new xm},_i=class{},Cs=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>VO()}return t})();function VO(){let t=qe(),e=Ht(),n=qn(e.index,t);return(Cn(n)?n:t)[Ue]}var DE=(()=>{class t{static \u0275prov=oe({token:t,providedIn:"root",factory:()=>null})}return t})();var kl={},ms=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let o=this.injector.get(e,kl,r);return o!==kl||n===kl?o:this.parentInjector.get(e,n,r)}};function Wl(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")i=a;else if(i==1)o=eh(o,a);else if(i==2){let c=a,u=e[++s];r=eh(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}function Ne(t,e=0){let n=qe();if(n===null)return me(t,e);let r=Ht();return Qx(r,n,Rt(t),e)}function bE(t,e,n,r,o){let i=r===null?null:{"":-1},s=o(t,n);if(s!==null){let a=s,c=null,u=null;for(let l of s)if(l.resolveHostDirectives!==null){[a,c,u]=l.resolveHostDirectives(s);break}UO(t,e,n,a,i,c,u)}i!==null&&r!==null&&jO(n,r,i)}function jO(t,e,n){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let i=n[e[o+1]];if(i==null)throw new X(-301,!1);r.push(e[o],i)}}function BO(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function UO(t,e,n,r,o,i,s){let a=r.length,c=!1;for(let p=0;p<a;p++){let f=r[p];!c&&Dr(f)&&(c=!0,BO(t,n,p)),am(jl(n,e),t,f.type)}zO(n,t.data.length,a);for(let p=0;p<a;p++){let f=r[p];f.providersResolver&&f.providersResolver(f)}let u=!1,l=!1,d=Z0(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let f=r[p];if(n.mergedAttrs=_s(n.mergedAttrs,f.hostAttrs),HO(t,n,e,d,f),GO(d,f,o),s!==null&&s.has(f)){let[g,m]=s.get(f);n.directiveToIndex.set(f.type,[d,g+n.directiveStart,m+n.directiveStart])}else(i===null||!i.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let h=f.type.prototype;!u&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),u=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}qO(t,n,i)}function qO(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let o=t.data[r];if(n===null||!n.has(o))px(0,e,o,r),px(1,e,o,r),mx(e,r,!1);else{let i=n.get(o);hx(0,e,i,r),hx(1,e,i,r),mx(e,r,!0)}}}function px(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[i]??=[],s[i].push(r),TE(e,i)}}function hx(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),TE(e,s)}}function TE(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function mx(t,e,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=t;if(r===null||!n&&o===null||n&&i===null||qm(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let u=o[c];for(let l of u)if(l===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let u=i[c];for(let l=0;l<u.length;l+=2)if(u[l]===e){s??=[],s.push(u[l+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function HO(t,e,n,r,o){t.data[r]=o;let i=o.factory||(o.factory=ni(o.type,!0)),s=new gi(i,Dr(o),Ne,null);t.blueprint[r]=s,n[r]=s,$O(t,e,r,Z0(t,n,o.hostVars,ro),o)}function $O(t,e,n,r,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;WO(s)!=a&&s.push(a),s.push(n,r,i)}}function WO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function GO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Dr(e)&&(n[""]=t)}}function zO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function SE(t,e,n,r,o,i,s,a){let c=e[se],u=c.consts,l=fi(u,s),d=dd(c,t,n,r,l);return i&&bE(c,e,d,fi(u,a),o),d.mergedAttrs=_s(d.mergedAttrs,d.attrs),d.attrs!==null&&Wl(d,d.attrs,!1),d.mergedAttrs!==null&&Wl(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function IE(t,e){qx(t,e),wh(e)&&t.queries.elementEnd(e)}function ZO(t,e,n,r,o,i){let s=e.consts,a=fi(s,o),c=dd(e,t,n,r,a);if(c.mergedAttrs=_s(c.mergedAttrs,c.attrs),i!=null){let u=fi(s,i);c.localNames=[];for(let l=0;l<u.length;l+=2)c.localNames.push(u[l],-1)}return c.attrs!==null&&Wl(c,c.attrs,!1),c.mergedAttrs!==null&&Wl(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function ag(t){return ME(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function AE(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function ME(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function YO(t,e,n){return t[e]=n}function QO(t,e){return t[e]}function lc(t,e,n){if(n===ro)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Kh(t,e,n){return function r(o){let i=eo(t)?qn(t.index,e):e;ld(i,5);let s=e[qt],a=gx(e,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=gx(e,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function gx(t,e,n,r){let o=xe(null);try{return Fe(6,e,n),n(r)!==!1}catch(i){return tg(t,i),!1}finally{Fe(7,e,n),xe(o)}}function XO(t,e,n,r,o,i,s,a){let c=za(t),u=!1,l=null;if(!r&&c&&(l=KO(e,n,i,t.index)),l!==null){let d=l.__ngLastListenerFn__||l;d.__ngNextListenerFn__=s,l.__ngLastListenerFn__=s,u=!0}else{let d=Un(t,n),p=r?r(d):d;XM(n,p,i,a);let f=o.listen(p,i,a),h=r?g=>r(bn(g[t.index])):t.index;NE(h,e,n,i,a,f,!1)}return u}function KO(t,e,n,r){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=e[as],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function NE(t,e,n,r,o,i,s){let a=e.firstCreatePass?Ry(e):null,c=Oy(n),u=c.length;c.push(o,i),a&&a.push(r,t,u,(u+1)*(s?-1:1))}function _x(t,e,n,r,o,i){let s=e[n],a=e[se],u=a.data[n].outputs[r],d=s[u].subscribe(i);NE(t.index,a,e,o,i,d,!0)}var Em=Symbol("BINDING");var Gl=class extends uc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Kr(e);return new ys(n,this.ngModule)}};function JO(t){return Object.keys(t).map(e=>{let[n,r,o]=t[e],i={propName:n,templateName:e,isSignal:(r&cd.SignalBased)!==0};return o&&(i.transform=o),i})}function eR(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function tR(t,e,n){let r=e instanceof Tt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new ms(n,r):n}function nR(t){let e=t.get(_i,null);if(e===null)throw new X(407,!1);let n=t.get(DE,null),r=t.get(xr,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function rR(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return Hm(e,n,n==="svg"?Sy:n==="math"?Iy:null)}var ys=class extends md{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=JO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=eR(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=yN(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,o,i,s){Fe(22);let a=xe(null);try{let c=this.componentDef,u=oR(r,c,s,i),l=tR(c,o||this.ngModule,e),d=nR(l),p=d.rendererFactory.createRenderer(null,c),f=r?UN(p,r,c.encapsulation,l):rR(c,p),h=s?.some(vx)||i?.some(_=>typeof _!="function"&&_.bindings.some(vx)),g=Gm(null,u,null,512|z0(c),null,null,d,p,l,null,N0(f,l,!0));g[tt]=f,El(g);let m=null;try{let _=SE(tt,g,2,"#host",()=>u.directiveRegistry,!0,0);f&&(G0(p,f,_),vs(f,g)),Jm(u,g,_),V0(u,_,g),IE(u,_),n!==void 0&&sR(_,this.ngContentSelectors,n),m=qn(_.index,g),g[qt]=m[qt],rg(u,g,null)}catch(_){throw m!==null&&um(m),um(g),_}finally{Fe(23),wl()}return new zl(this.componentType,g,!!h)}finally{xe(a)}}};function oR(t,e,n,r){let o=t?["ng-version","20.1.6"]:xN(e.selectors[0]),i=null,s=null,a=0;if(n)for(let l of n)a+=l[Em].requiredVars,l.create&&(l.targetIdx=0,(i??=[]).push(l)),l.update&&(l.targetIdx=0,(s??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let d=r[l];if(typeof d!="function")for(let p of d.bindings){a+=p[Em].requiredVars;let f=l+1;p.create&&(p.targetIdx=f,(i??=[]).push(p)),p.update&&(p.targetIdx=f,(s??=[]).push(p))}}let c=[e];if(r)for(let l of r){let d=typeof l=="function"?l:l.type,p=ml(d);c.push(p)}return Wm(0,null,iR(i,s),1,a,c,null,null,null,[o],null)}function iR(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function vx(t){let e=t[Em].kind;return e==="input"||e==="twoWay"}var zl=class extends CE{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=us(n[se],tt),this.location=ed(this._tNode,n),this.instance=qn(this._tNode.index,n)[qt],this.hostView=this.changeDetectorRef=new Io(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView,i=ng(r,o[se],o,e,n);this.previousInputValues.set(e,n);let s=qn(r.index,o);ld(s,1)}get injector(){return new mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function sR(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Ci=(()=>{class t{static __NG_ELEMENT_ID__=aR}return t})();function aR(){let t=Ht();return uR(t,qe())}var cR=Ci,OE=class extends cR{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ed(this._hostTNode,this._hostLView)}get injector(){return new mi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Mm(this._hostTNode,this._hostLView);if($x(e)){let n=Vl(e,this._hostLView),r=Ll(e),o=n[se].data[r+8];return new mi(o,n)}else return new mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=yx(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(e,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=ym(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,_m(this._hostTNode,s)),a}createComponent(e,n,r,o,i,s,a){let c=e&&!wM(e),u;if(c)u=n;else{let m=n||{};u=m.index,r=m.injector,o=m.projectableNodes,i=m.environmentInjector||m.ngModuleRef,s=m.directives,a=m.bindings}let l=c?e:new ys(Kr(e)),d=r||this.parentInjector;if(!i&&l.ngModule==null){let _=(c?d:this.parentInjector).get(Tt,null);_&&(i=_)}let p=Kr(l.componentType??{}),f=ym(this._lContainer,p?.id??null),h=f?.firstChild??null,g=l.create(d,o,h,i,s,a);return this.insertImpl(g.hostView,u,_m(this._hostTNode,f)),g}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(Ay(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=o[pt],u=new OE(c,c[Bn],c[pt]);u.detach(u.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return gE(s,o,i,r),e.attachToViewContainerRef(),ph(Jh(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=yx(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Hl(this._lContainer,n);r&&(Ba(Jh(this._lContainer),n),Qm(r[se],r))}detach(e){let n=this._adjustIndex(e,-1),r=Hl(this._lContainer,n);return r&&Ba(Jh(this._lContainer),n)!=null?new Io(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function yx(t){return t[Wa]}function Jh(t){return t[Wa]||(t[Wa]=[])}function uR(t,e){let n,r=e[t.index];return Dn(r)?n=r:(n=mE(r,e,null,t),e[t.index]=n,zm(e,n)),RE(n,e,t,r),new OE(n,t,e)}function lR(t,e){let n=t[Ue],r=n.createComment(""),o=Un(e,t),i=n.parentNode(o);return ql(n,i,r,n.nextSibling(o),!1),r}var RE=kE,cg=()=>!1;function dR(t,e,n){return cg(t,e,n)}function kE(t,e,n,r){if(t[Cr])return;let o;n.type&8?o=bn(r):o=lR(e,n),t[Cr]=o}function fR(t,e,n){if(t[Cr]&&t[tr])return!0;let r=n[En],o=e.index-tt;if(!r||n0(e)||F0(r,o))return!1;let s=fm(r,o),a=r.data[rd]?.[o],[c,u]=RO(s,a);return t[Cr]=c,t[tr]=u,!0}function pR(t,e,n,r){cg(t,n,e)||kE(t,e,n,r)}function FE(){RE=pR,cg=fR}var xx=new Set;function oo(t){xx.has(t)||(xx.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var vi=class{},gd=class{};var Zl=class extends vi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Gl(this);constructor(e,n,r,o=!0){super(),this.ngModuleType=e,this._parent=n;let i=gh(e);this._bootstrapComponents=B0(i.bootstrap),this._r3Injector=Uh(e,n,[{provide:vi,useValue:this},{provide:uc,useValue:this.componentFactoryResolver},...r],Qr(e),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Yl=class extends gd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Zl(this.moduleType,e,[])}};var nc=class extends vi{injector;componentFactoryResolver=new Gl(this);instance=null;constructor(e){super();let n=new oi([...e.providers,{provide:vi,useValue:this},{provide:uc,useValue:this.componentFactoryResolver}],e.parent||qa(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ds(t,e,n=null){return new nc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var hR=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=gl(!1,n.type),o=r.length>0?Ds([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=oe({token:t,providedIn:"environment",factory:()=>new t(me(Tt))})}return t})();function kt(t){return Es(()=>{let e=PE(t),n=V(v({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Nm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(hR).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||no.Emulated,styles:t.styles||xn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&oo("NgStandalone"),LE(n);let r=t.dependencies;return n.directiveDefs=Ex(r,mR),n.pipeDefs=Ex(r,_h),n.id=vR(n),n})}function mR(t){return Kr(t)||ml(t)}function io(t){return Es(()=>({type:t.type,bootstrap:t.bootstrap||xn,declarations:t.declarations||xn,imports:t.imports||xn,exports:t.exports||xn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function gR(t,e){if(t==null)return Do;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=cd.None,c=null),n[i]=[r,a,c],e[i]=s}return n}function _R(t){if(t==null)return Do;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function $t(t){return Es(()=>{let e=PE(t);return LE(e),e})}function PE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Do,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||xn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:gR(t.inputs,e),outputs:_R(t.outputs),debugInfo:null}}function LE(t){t.features?.forEach(e=>e(t))}function Ex(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let o of n){let i=e(o);i!==null&&r.push(i)}return r}:null}function vR(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of r.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function yR(t){return Object.getPrototypeOf(t.prototype).constructor}function so(t){let e=yR(t.type),n=!0,r=[t];for(;e;){let o;if(Dr(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new X(903,!1);o=e.\u0275dir}if(o){if(n){r.push(o);let s=t;s.inputs=em(t.inputs),s.declaredInputs=em(t.declaredInputs),s.outputs=em(t.outputs);let a=o.hostBindings;a&&DR(t,a);let c=o.viewQuery,u=o.contentQueries;if(c&&wR(t,c),u&&CR(t,u),xR(t,o),py(t.outputs,o.outputs),Dr(o)&&o.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(t),a===so&&(n=!1)}}e=Object.getPrototypeOf(e)}ER(r)}function xR(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function ER(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=_s(o.hostAttrs,n=_s(n,o.hostAttrs))}}function em(t){return t===Do?{}:t===xn?[]:t}function wR(t,e){let n=t.viewQuery;n?t.viewQuery=(r,o)=>{e(r,o),n(r,o)}:t.viewQuery=e}function CR(t,e){let n=t.contentQueries;n?t.contentQueries=(r,o,i)=>{e(r,o,i),n(r,o,i)}:t.contentQueries=e}function DR(t,e){let n=t.hostBindings;n?t.hostBindings=(r,o)=>{e(r,o),n(r,o)}:t.hostBindings=e}function bR(t,e,n,r,o,i,s,a){if(n.firstCreatePass){t.mergedAttrs=_s(t.mergedAttrs,t.attrs);let l=t.tView=Wm(2,t,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),l.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),ds(t,!1);let c=VE(n,e,t,r);Dl()&&Xm(n,e,c,t),vs(c,e);let u=mE(c,e,c,t);e[r+tt]=u,zm(e,u),dR(u,t,e)}function TR(t,e,n,r,o,i,s,a,c,u,l){let d=n+tt,p;return e.firstCreatePass?(p=dd(e,d,4,s||null,a||null),Ih()&&bE(e,t,p,fi(e.consts,u),nE),qx(e,p)):p=e.data[d],bR(p,t,e,n,r,o,i,c),za(p)&&Jm(e,t,p),u!=null&&eg(t,p,l),p}function je(t,e,n,r,o,i,s,a){let c=qe(),u=Tn(),l=fi(u.consts,i);return TR(c,u,t,e,n,r,o,l,void 0,s,a),je}var VE=jE;function jE(t,e,n,r){return to(!0),e[Ue].createComment("")}function SR(t,e,n,r){let o=!ad(e,n);to(o);let i=e[En]?.data[d0]?.[r]??null;if(i!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=i),o)return jE(t,e);let s=e[En],a=fd(s,t,e,n);sd(s,r,a);let c=Bm(s,r);return pd(c,a)}function BE(){VE=SR}var Sn=function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t}(Sn||{}),wx=0,IR=1,ht=function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t}(ht||{});var AR=0,dc=1;var MR=4,NR=5;var OR=7,gs=8,RR=9,ug=function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t}(ug||{});function Fl(t,e){let n=FR(t),r=e[n];if(r!==null){for(let o of r)o();e[n]=null}}function kR(t){Fl(1,t),Fl(0,t),Fl(2,t)}function FR(t){let e=MR;return t===1?e=NR:t===2&&(e=RR),e}var _d=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(_d||{}),Di=new K(""),UE=!1,wm=class extends et{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,by()&&(this.destroyRef=F(br,{optional:!0})??void 0,this.pendingTasks=F(nr,{optional:!0})??void 0)}emit(e){let n=xe(null);try{super.next(e)}finally{xe(n)}}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return e instanceof dt&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},it=wm;function qE(t){let e,n;function r(){t=Xa;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Cx(t){return queueMicrotask(()=>t()),()=>{t=Xa}}var lg="isAngularZone",Ql=lg+"_ID",PR=0,Xe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new it(!1);onMicrotaskEmpty=new it(!1);onStable=new it(!1);onError=new it(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=UE}=e;if(typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,jR(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(lg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new X(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,LR,Xa,Xa);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},LR={};function dg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function VR(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){qE(()=>{t.callbackScheduled=!1,Cm(t),t.isCheckStableRunning=!0,dg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Cm(t)}function jR(t){let e=()=>{VR(t)},n=PR++;t._inner=t._inner.fork({name:"angular",properties:{[lg]:!0,[Ql]:n,[Ql+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(BR(c))return r.invokeTask(i,s,a,c);try{return Dx(t),r.invokeTask(i,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),bx(t)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return Dx(t),r.invoke(i,s,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!UR(c)&&e(),bx(t)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Cm(t),dg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Cm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Dx(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bx(t){t._nesting--,dg(t)}var rc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new it;onMicrotaskEmpty=new it;onStable=new it;onError=new it;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,o){return e.apply(n,r)}};function BR(t){return HE(t,"__ignore_ng_zone__")}function UR(t){return HE(t,"__scheduler_tick__")}function HE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var fg=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=oe({token:t,providedIn:"root",factory:()=>new t})}return t})(),$E=[0,1,2,3],WE=(()=>{class t{ngZone=F(Xe);scheduler=F(xr);errorHandler=F(Jn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){F(Di,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Fe(16),this.executing=!0;for(let r of $E)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Fe(17)}register(n){let{view:r}=n;r!==void 0?((r[li]??=[]).push(n),ls(r),r[ge]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(_d.AFTER_NEXT_RENDER,n):n()}static \u0275prov=oe({token:t,providedIn:"root",factory:()=>new t})}return t})(),Xl=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,o,i,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[li];e&&(this.view[li]=e.filter(n=>n!==this))}};function vd(t,e){let n=e?.injector??F(Bt);return oo("NgAfterNextRender"),HR(t,n,e,!0)}function qR(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function HR(t,e,n,r){let o=e.get(fg);o.impl??=e.get(WE);let i=e.get(Di,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(br):null,a=e.get(Tl,null,{optional:!0}),c=new Xl(o.impl,qR(t),a?.view,r,s,i?.snapshot(null));return o.impl.register(c),c}function GE(t){return t+1}function bs(t,e){let n=t[se],r=GE(e.index);return t[r]}function fc(t,e){let n=GE(e.index);return t.data[n]}function $R(t,e,n){let r=e[se],o=fc(r,n);switch(t){case ht.Complete:return o.primaryTmplIndex;case ht.Loading:return o.loadingTmplIndex;case ht.Error:return o.errorTmplIndex;case ht.Placeholder:return o.placeholderTmplIndex;default:return null}}function Tx(t,e){return e===ht.Placeholder?t.placeholderBlockConfig?.[wx]??null:e===ht.Loading?t.loadingBlockConfig?.[wx]??null:null}function WR(t){return t.loadingBlockConfig?.[IR]??null}function Sx(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function GR(t,e){let n=e.primaryTmplIndex+tt;return us(t,n)}var zR=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,o,i){if(!this.cachedInjectors.has(n)){let s=o.length>0?Ds(o,r,i):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=oe({token:t,providedIn:"environment",factory:()=>new t})}return t})();var zE=new K("");function tm(t,e,n){return t.get(zR).getOrCreateInjector(e,t,n,"")}function ZR(t,e,n){if(t instanceof ms){let o=t.injector,i=t.parentInjector,s=tm(i,e,n);return new ms(o,s)}let r=t.get(Tt);if(r!==t){let o=tm(r,e,n);return new ms(t,o)}return tm(t,e,n)}function hi(t,e,n,r=!1){let o=n[pt],i=o[se];if(bo(o))return;let s=bs(o,e),a=s[dc],c=s[OR];if(!(c!==null&&t<c)&&Ix(a,t)&&Ix(s[AR]??-1,t)){let u=fc(i,e),d=!r&&!0&&(WR(u)!==null||Tx(u,ht.Loading)!==null||Tx(u,ht.Placeholder))?XR:QR;try{d(t,s,n,e,o)}catch(p){tg(o,p)}}}function YR(t,e){let n=t[tr]?.findIndex(o=>o.data[m0]===e[dc])??-1;return{dehydratedView:n>-1?t[tr][n]:null,dehydratedViewIx:n}}function QR(t,e,n,r,o){Fe(20);let i=$R(t,o,r);if(i!==null){e[dc]=t;let s=o[se],a=i+tt,c=us(s,a),u=0;mO(n,u);let l;if(t===ht.Complete){let h=fc(s,r),g=h.providers;g&&g.length>0&&(l=ZR(o[er],h,g))}let{dehydratedView:d,dehydratedViewIx:p}=YR(n,e),f=iE(o,c,null,{injector:l,dehydratedView:d});if(gE(n,f,u,_m(c,d)),ld(f,2),p>-1&&n[tr]?.splice(p,1),(t===ht.Complete||t===ht.Error)&&Array.isArray(e[gs])){for(let h of e[gs])h();e[gs]=null}}Fe(21)}function Ix(t,e){return t<e}function Ax(t,e,n){t.loadingPromise.then(()=>{t.loadingState===Sn.COMPLETE?hi(ht.Complete,e,n):t.loadingState===Sn.FAILED&&hi(ht.Error,e,n)})}var XR=null;var yd=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var pg=new K("");function Mo(t){return!!t&&typeof t.then=="function"}function hg(t){return!!t&&typeof t.subscribe=="function"}var mg=new K("");function xd(t){return dn([{provide:mg,multi:!0,useValue:t}])}var gg=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=F(mg,{optional:!0})??[];injector=F(Bt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=Ut(this.injector,o);if(Mo(i))n.push(i);else if(hg(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),No=new K("");function ZE(){Dp(()=>{let t="";throw new X(600,t)})}function YE(t){return t.isBoundToModule}var KR=10;var St=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=F(pn);afterRenderManager=F(fg);zonelessEnabled=F(fs);rootEffectScheduler=F(Gh);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new et;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=F(nr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ve(n=>!n))}constructor(){F(Di,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=F(Tt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=Bt.NULL){return this._injector.get(Xe).run(()=>{Fe(10);let s=n instanceof md;if(!this._injector.get(gg).done){let h="";throw new X(405,h)}let c;s?c=n:c=this._injector.get(uc).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let u=YE(c)?void 0:this._injector.get(vi),l=r||c.selector,d=c.create(o,[],l,u),p=d.location.nativeElement,f=d.injector.get(pg,null);return f?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),Ja(this.components,d),f?.unregisterApplication(p)}),this._loadComponent(d),Fe(11,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Fe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(_d.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new X(101,!1);let n=xe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,xe(n),this.afterTick.next(),Fe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(_i,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<KR;)Fe(14),this.synchronizeOnce(),Fe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!Za(o))continue;let i=r&&!this.zonelessEnabled?0:1;og(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Za(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ja(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(No,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ja(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new X(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ja(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function QE(t,e,n){let r=e[er],o=e[se];if(t.loadingState!==Sn.NOT_STARTED)return t.loadingPromise??Promise.resolve();let i=bs(e,n),s=GR(o,t);t.loadingState=Sn.IN_PROGRESS,Fl(1,i);let a=t.dependencyResolverFn,c=r.get(Sl).add();return a?(t.loadingPromise=Promise.allSettled(a()).then(u=>{let l=!1,d=[],p=[];for(let f of u)if(f.status==="fulfilled"){let h=f.value,g=Kr(h)||ml(h);if(g)d.push(g);else{let m=_h(h);m&&p.push(m)}}else{l=!0;break}if(l){if(t.loadingState=Sn.FAILED,t.errorTmplIndex===null){let f="",h=new X(-750,!1);tg(e,h)}}else{t.loadingState=Sn.COMPLETE;let f=s.tView;if(d.length>0){f.directiveRegistry=Sx(f.directiveRegistry,d);let h=d.map(m=>m.type),g=gl(!1,...h);t.providers=g}p.length>0&&(f.pipeRegistry=Sx(f.pipeRegistry,p))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,c()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=Sn.COMPLETE,c()}),t.loadingPromise)}function JR(t,e){return e[er].get(zE,null,{optional:!0})?.behavior!==ug.Manual}function e1(t,e,n){let r=e[se],o=e[n.index];if(!JR(t,e))return;let i=bs(e,n),s=fc(r,n);switch(kR(i),s.loadingState){case Sn.NOT_STARTED:hi(ht.Loading,n,o),QE(s,e,n),s.loadingState===Sn.IN_PROGRESS&&Ax(s,n,o);break;case Sn.IN_PROGRESS:hi(ht.Loading,n,o),Ax(s,n,o);break;case Sn.COMPLETE:hi(ht.Complete,n,o);break;case Sn.FAILED:hi(ht.Error,n,o);break;default:}}async function XE(t,e,n){let r=t.get(od);if(r.hydrating.has(e))return;let{parentBlockPromise:i,hydrationQueue:s}=iN(e,t);if(s.length===0)return;i!==null&&s.shift(),r1(r,s),i!==null&&await i;let a=s[0];r.has(a)?await Mx(t,s,n):r.awaitParentBlock(a,async()=>await Mx(t,s,n))}async function Mx(t,e,n){let r=t.get(od),o=r.hydrating,i=t.get(nr),s=i.add();for(let c=0;c<e.length;c++){let u=e[c],l=r.get(u);if(l!=null){if(await i1(l),await o1(t),t1(l)){NO(l),Nx(e.slice(c),r);break}o.get(u).resolve()}else{n1(c,e,r),Nx(e.slice(c),r);break}}let a=e[e.length-1];await o.get(a)?.promise,i.remove(s),n&&n(e),OO(r.get(a),e,r,t.get(St))}function t1(t){return bs(t.lView,t.tNode)[dc]===ht.Error}function n1(t,e,n){let r=t-1,o=r>-1?n.get(e[r]):null;o&&hd(o.lContainer)}function Nx(t,e){let n=e.hydrating;for(let r in t)n.get(r)?.reject();e.cleanup(t)}function r1(t,e){for(let n of e)t.hydrating.set(n,Promise.withResolvers())}function o1(t){return new Promise(e=>vd(e,{injector:t}))}async function i1(t){let{tNode:e,lView:n}=t,r=bs(n,e);return new Promise(o=>{s1(r,o),e1(2,n,e)})}function s1(t,e){Array.isArray(t[gs])||(t[gs]=[]),t[gs].push(e)}function pc(t,e,n,r){let o=qe(),i=Qa();if(lc(o,i,e)){let s=Tn(),a=Cl();QN(a,o,t,e,n,r)}return pc}function Q(t,e,n){let r=qe(),o=Qa();if(lc(r,o,e)){let i=Tn(),s=Cl();tE(s,r,t,e,r[Ue],n)}return Q}function Ox(t,e,n,r,o){ng(e,t,n,o?"class":"style",r)}function y(t,e,n,r){let o=qe(),i=o[se],s=t+tt,a=i.firstCreatePass?SE(s,o,2,e,nE,Ih(),n,r):i.data[s];if(rE(a,o,t,e,_g),za(a)){let c=o[se];Jm(c,o,a),V0(c,a,o)}return r!=null&&eg(o,a),y}function x(){let t=Tn(),e=Ht(),n=oE(e);return t.firstCreatePass&&IE(t,n),Mh(n)&&Nh(),Sh(),n.classesWithoutHost!=null&&IM(n)&&Ox(t,n,qe(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&AM(n)&&Ox(t,n,qe(),n.stylesWithoutHost,!1),x}function P(t,e,n,r){return y(t,e,n,r),x(),P}function or(t,e,n,r){let o=qe(),i=o[se],s=t+tt,a=i.firstCreatePass?ZO(s,i,2,e,n,r):i.data[s];return rE(a,o,t,e,_g),r!=null&&eg(o,a),or}function Hn(){let t=Ht(),e=oE(t);return Mh(e)&&Nh(),Sh(),Hn}function Ed(t,e,n,r){return or(t,e,n,r),Hn(),Ed}var _g=(t,e,n,r,o)=>(to(!0),Hm(e[Ue],r,Bh()));function a1(t,e,n,r,o){let i=!ad(e,n);if(to(i),i)return Hm(e[Ue],r,Bh());let s=e[En],a=fd(s,t,e,n);return k0(s,o)&&sd(s,o,a.nextSibling),s&&(e0(n)||t0(a))&&eo(n)&&(Py(n),W0(a)),a}function KE(){_g=a1}var c1=(t,e,n,r,o)=>(to(!0),H0(e[Ue],""));function u1(t,e,n,r,o){let i,s=!ad(e,n);if(to(s),s)return H0(e[Ue],"");let a=e[En],c=fd(a,t,e,n),u=rN(a,o);return sd(a,o,c),i=pd(u,c),i}function JE(){c1=u1}function he(){return qe()}var hc="en-US";var l1=hc;function ew(t){typeof t=="string"&&(l1=t.toLowerCase().replace(/_/g,"-"))}function re(t,e,n){let r=qe(),o=Tn(),i=Ht();return tw(o,r,r[Ue],i,t,e,n),re}function tw(t,e,n,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Kh(r,e,i),XO(r,t,e,s,n,o,i,c)&&(a=!1)),a){let u=r.outputs?.[o],l=r.hostDirectiveOutputs?.[o];if(l&&l.length)for(let d=0;d<l.length;d+=2){let p=l[d],f=l[d+1];c??=Kh(r,e,i),_x(r,e,p,f,o,c)}if(u&&u.length)for(let d of u)c??=Kh(r,e,i),_x(r,e,d,o,o,c)}}function O(t=1){return Yy(t)}function Ml(t,e){return t<<17|e<<2}function yi(t){return t>>17&32767}function d1(t){return(t&2)==2}function f1(t,e){return t&131071|e<<17}function Dm(t){return t|2}function xs(t){return(t&131068)>>2}function nm(t,e){return t&-131069|e<<2}function p1(t){return(t&1)===1}function bm(t){return t|1}function h1(t,e,n,r,o,i){let s=i?e.classBindings:e.styleBindings,a=yi(s),c=xs(s);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||ss(d,l)>0)&&(u=!0)}else l=n;if(o)if(c!==0){let p=yi(t[a+1]);t[r+1]=Ml(p,a),p!==0&&(t[p+1]=nm(t[p+1],r)),t[a+1]=f1(t[a+1],r)}else t[r+1]=Ml(a,0),a!==0&&(t[a+1]=nm(t[a+1],r)),a=r;else t[r+1]=Ml(c,0),a===0?a=r:t[c+1]=nm(t[c+1],r),c=r;u&&(t[r+1]=Dm(t[r+1])),Rx(t,l,r,!0),Rx(t,l,r,!1),m1(e,l,t,r,i),s=Ml(a,c),i?e.classBindings=s:e.styleBindings=s}function m1(t,e,n,r,o){let i=o?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&ss(i,e)>=0&&(n[r+1]=bm(n[r+1]))}function Rx(t,e,n,r){let o=t[n+1],i=e===null,s=r?yi(o):xs(o),a=!1;for(;s!==0&&(a===!1||i);){let c=t[s],u=t[s+1];g1(c,e)&&(a=!0,t[s+1]=r?bm(u):Dm(u)),s=r?yi(u):xs(u)}a&&(t[n+1]=r?Dm(o):bm(o))}function g1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ss(t,e)>=0:!1}function Oo(t,e){return _1(t,e,null,!0),Oo}function _1(t,e,n,r){let o=qe(),i=Tn(),s=Uy(2);if(i.firstUpdatePass&&y1(i,t,s,r),e!==ro&&lc(o,s,e)){let a=i.data[pi()];D1(i,a,o,o[Ue],t,o[s+1]=b1(e,n),r,s)}}function v1(t,e){return e>=t.expandoStartIndex}function y1(t,e,n,r){let o=t.data;if(o[n+1]===null){let i=o[pi()],s=v1(t,n);T1(i,r)&&e===null&&!s&&(e=!1),e=x1(o,i,e,r),h1(o,i,e,n,s,r)}}function x1(t,e,n,r){let o=Wy(t),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(n=rm(null,t,e,n,r),n=oc(n,e.attrs,r),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==o)if(n=rm(o,t,e,n,r),i===null){let c=E1(t,e,r);c!==void 0&&Array.isArray(c)&&(c=rm(null,t,e,c[1],r),c=oc(c,e.attrs,r),w1(t,e,r,c))}else i=C1(t,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),n}function E1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(xs(r)!==0)return t[yi(r)]}function w1(t,e,n,r){let o=n?e.classBindings:e.styleBindings;t[yi(o)]=r}function C1(t,e,n){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let s=t[i].hostAttrs;r=oc(r,s,n)}return oc(r,e.attrs,n)}function rm(t,e,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=e[a],r=oc(r,i.hostAttrs,o),i!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function oc(t,e,n){let r=n?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?o=s:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),yy(t,s,n?!0:e[++i]))}return t===void 0?null:t}function D1(t,e,n,r,o,i,s,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=p1(u)?kx(c,e,n,o,xs(u),s):void 0;if(!Kl(l)){Kl(i)||d1(u)&&(i=kx(c,null,n,o,a,s));let d=Ch(pi(),n);BN(r,s,d,o,i)}}function kx(t,e,n,r,o,i){let s=e===null,a;for(;o>0;){let c=t[o],u=Array.isArray(c),l=u?c[1]:c,d=l===null,p=n[o+1];p===ro&&(p=d?xn:void 0);let f=d?hl(p,r):l===r?p:void 0;if(u&&!Kl(f)&&(f=hl(c,r)),Kl(f)&&(a=f,s))return a;let h=t[o+1];o=s?yi(h):xs(h)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(a=hl(c,r))}return a}function Kl(t){return t!==void 0}function b1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Qr(Um(t)))),t}function T1(t,e){return(t.flags&(e?8:16))!==0}function D(t,e=""){let n=qe(),r=Tn(),o=t+tt,i=r.firstCreatePass?dd(r,o,1,e,null):r.data[o],s=nw(r,n,i,e,t);n[o]=s,Dl()&&Xm(r,n,s,i),ds(i,!1)}var nw=(t,e,n,r,o)=>(to(!0),q0(e[Ue],r));function S1(t,e,n,r,o){let i=!ad(e,n);if(to(i),i)return q0(e[Ue],r);let s=e[En];return fd(s,t,e,n)}function rw(){nw=S1}function I1(t,e,n,r=""){return lc(t,Qa(),n)?e+dl(n)+r:ro}function Ar(t){return Ye("",t),Ar}function Ye(t,e,n){let r=qe(),o=I1(r,t,e,n);return o!==ro&&A1(r,pi(),o),Ye}function A1(t,e,n){let r=Ch(e,t);EN(t[Ue],r,n)}function Ge(t,e,n){$h(e)&&(e=e());let r=qe(),o=Qa();if(lc(r,o,e)){let i=Tn(),s=Cl();tE(s,r,t,e,r[Ue],n)}return Ge}function Qe(t,e){let n=$h(t);return n&&t.set(e),n}function ze(t,e){let n=qe(),r=Tn(),o=Ht();return tw(r,n,n[Ue],o,t,e),ze}function M1(t,e,n){let r=Tn();if(r.firstCreatePass){let o=Dr(t);Tm(n,r.data,r.blueprint,o,!0),Tm(e,r.data,r.blueprint,o,!1)}}function Tm(t,e,n,r,o){if(t=Rt(t),Array.isArray(t))for(let i=0;i<t.length;i++)Tm(t[i],e,n,r,o);else{let i=Tn(),s=qe(),a=Ht(),c=ri(t)?t:Rt(t.provide),u=yh(t),l=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(ri(t)||!t.multi){let f=new gi(u,o,Ne,null),h=im(c,e,o?l:l+p,d);h===-1?(am(jl(a,s),i,c),om(i,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[h]=f,s[h]=f)}else{let f=im(c,e,l+p,d),h=im(c,e,l,l+p),g=f>=0&&n[f],m=h>=0&&n[h];if(o&&!m||!o&&!g){am(jl(a,s),i,c);let _=R1(o?O1:N1,n.length,o,r,u,t);!o&&m&&(n[h].providerFactory=_),om(i,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(_),s.push(_)}else{let _=ow(n[o?h:f],u,!o&&r);om(i,t,f>-1?f:h,_)}!o&&r&&m&&n[h].componentProviders++}}}function om(t,e,n,r){let o=ri(e),i=Dy(e);if(o||i){let c=(i?Rt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function ow(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function im(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1}function N1(t,e,n,r,o){return Sm(this.multi,[])}function O1(t,e,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Bl(r,r[se],this.providerFactory.index,o);s=c.slice(0,a),Sm(i,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],Sm(i,s);return s}function Sm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function R1(t,e,n,r,o,i){let s=new gi(t,n,Ne,null);return s.multi=[],s.index=e,s.componentProviders=0,ow(s,o,r&&!n),s}function Ts(t,e=[]){return n=>{n.providersResolver=(r,o)=>M1(r,o?o(t):t,e)}}function vg(t,e,n){let r=jy()+t,o=qe();return o[r]===ro?YO(o,r,n?e.call(n):e()):QO(o,r)}var Jl=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},yg=(()=>{class t{compileModuleSync(n){return new Yl(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=gh(n),i=B0(o.declarations).reduce((s,a)=>{let c=Kr(a);return c&&s.push(new ys(c)),s},[]);return new Jl(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var k1=(()=>{class t{zone=F(Xe);changeDetectionScheduler=F(xr);applicationRef=F(St);applicationErrorHandler=F(pn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function iw({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Xe(V(v({},sw()),{scheduleInRootZone:n})),[{provide:Xe,useFactory:t},{provide:Vn,multi:!0,useFactory:()=>{let r=F(k1,{optional:!0});return()=>r.initialize()}},{provide:Vn,multi:!0,useFactory:()=>{let r=F(F1);return()=>{r.initialize()}}},e===!0?{provide:Wh,useValue:!0}:[],{provide:bl,useValue:n??UE},{provide:pn,useFactory:()=>{let r=F(Xe),o=F(Tt),i;return s=>{r.runOutsideAngular(()=>{o.destroyed&&!i?setTimeout(()=>{throw s}):(i??=o.get(Jn),i.handleError(s))})}}}]}function sw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var F1=(()=>{class t{subscription=new dt;initialized=!1;zone=F(Xe);pendingTasks=F(nr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Xe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Xe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var xg=(()=>{class t{applicationErrorHandler=F(pn);appRef=F(St);taskService=F(nr);ngZone=F(Xe);zonelessEnabled=F(fs);tracing=F(Di,{optional:!0});disableScheduling=F(Wh,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new dt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ql):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(F(bl,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof rc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Cx:qE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ql+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Cx(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Eg(){return oo("NgZoneless"),dn([{provide:xr,useExisting:xg},{provide:Xe,useClass:rc},{provide:fs,useValue:!0},{provide:bl,useValue:!1},[]])}function P1(){return typeof $localize<"u"&&$localize.locale||hc}var wd=new K("",{providedIn:"root",factory:()=>F(wd,{optional:!0,skipSelf:!0})||P1()});function Mr(t){return ly(t)}function Ss(t,e){return ku(t,e?.equal)}var aw=class{[Vt];constructor(e){this[Vt]=e}destroy(){this[Vt].destroy()}};var Tg={JSACTION:"__jsaction",OWNER:"__owner"},dw={};function L1(t){return t[Tg.JSACTION]}function cw(t,e){t[Tg.JSACTION]=e}function V1(t){return dw[t]}function j1(t,e){dw[t]=e}var ae={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},B1=[ae.MOUSEENTER,ae.MOUSELEAVE,"pointerenter","pointerleave"],BG=[ae.CLICK,ae.DBLCLICK,ae.FOCUSIN,ae.FOCUSOUT,ae.KEYDOWN,ae.KEYUP,ae.KEYPRESS,ae.MOUSEOVER,ae.MOUSEOUT,ae.SUBMIT,ae.TOUCHSTART,ae.TOUCHEND,ae.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],U1=[ae.FOCUS,ae.BLUR,ae.ERROR,ae.LOAD,ae.TOGGLE],Sg=t=>U1.indexOf(t)>=0;function q1(t){return t===ae.MOUSEENTER?ae.MOUSEOVER:t===ae.MOUSELEAVE?ae.MOUSEOUT:t===ae.POINTERENTER?ae.POINTEROVER:t===ae.POINTERLEAVE?ae.POINTEROUT:t}function H1(t,e,n,r){let o=!1;Sg(e)&&(o=!0);let i=typeof r=="boolean"?{capture:o,passive:r}:o;return t.addEventListener(e,n,i),{eventType:e,handler:n,capture:o,passive:r}}function $1(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function W1(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var uw=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function G1(t){return t.which===2||t.which==null&&t.button===4}function z1(t){return uw&&t.metaKey||!uw&&t.ctrlKey||G1(t)||t.shiftKey}function Z1(t,e,n){let r=t.relatedTarget;return(t.type===ae.MOUSEOVER&&e===ae.MOUSEENTER||t.type===ae.MOUSEOUT&&e===ae.MOUSELEAVE||t.type===ae.POINTEROVER&&e===ae.POINTERENTER||t.type===ae.POINTEROUT&&e===ae.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function Y1(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let o=r,i=t[o];typeof i!="function"&&(n[o]=i)}return t.type===ae.MOUSEOVER?n.type=ae.MOUSEENTER:t.type===ae.MOUSEOUT?n.type=ae.MOUSELEAVE:t.type===ae.POINTEROVER?n.type=ae.POINTERENTER:n.type=ae.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var Q1=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Td=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){Q1&&(this.element.style.cursor="pointer"),this.handlerInfos.push(H1(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)$1(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},X1={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function Ro(t){return t.eventType}function Ig(t,e){t.eventType=e}function Dd(t){return t.event}function fw(t,e){t.event=e}function pw(t){return t.targetElement}function hw(t,e){t.targetElement=e}function mw(t){return t.eic}function K1(t,e){t.eic=e}function J1(t){return t.timeStamp}function ek(t,e){t.timeStamp=e}function bd(t){return t.eia}function gw(t,e,n){t.eia=[e,n]}function wg(t){t.eia=void 0}function Cd(t){return t[1]}function tk(t){return t.eirp}function _w(t,e){t.eirp=e}function vw(t){return t.eir}function yw(t,e){t.eir=e}function xw(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function nk(t,e,n,r,o,i,s,a){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:o,eia:i,eirp:s,eiack:a}}var Cg=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return Ro(this.eventInfo)}setEventType(e){Ig(this.eventInfo,e)}getEvent(){return Dd(this.eventInfo)}setEvent(e){fw(this.eventInfo,e)}getTargetElement(){return pw(this.eventInfo)}setTargetElement(e){hw(this.eventInfo,e)}getContainer(){return mw(this.eventInfo)}setContainer(e){K1(this.eventInfo,e)}getTimestamp(){return J1(this.eventInfo)}setTimestamp(e){ek(this.eventInfo,e)}getAction(){let e=bd(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){wg(this.eventInfo);return}gw(this.eventInfo,e.name,e.element)}getIsReplay(){return tk(this.eventInfo)}setIsReplay(e){_w(this.eventInfo,e)}getResolved(){return vw(this.eventInfo)}setResolved(e){yw(this.eventInfo,e)}clone(){return new t(xw(this.eventInfo))}},rk={},ok=/\s*;\s*/,ik=ae.CLICK,Dg=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&Ro(e)===ae.CLICK&&z1(Dd(e))?Ig(e,ae.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){vw(e)||(this.populateAction(e,pw(e)),yw(e,!0))}resolveParentAction(e){let n=bd(e),r=n&&Cd(n);wg(e);let o=r&&this.getParentNode(r);o&&this.populateAction(e,o)}populateAction(e,n){let r=n;for(;r&&r!==mw(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!bd(e));)r=this.getParentNode(r);let o=bd(e);if(o&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(Ro(e)===ae.MOUSEENTER||Ro(e)===ae.MOUSELEAVE||Ro(e)===ae.POINTERENTER||Ro(e)===ae.POINTERLEAVE)))if(Z1(Dd(e),Ro(e),Cd(o))){let i=Y1(Dd(e),Cd(o));fw(e,i),hw(e,Cd(o))}else wg(e)}getParentNode(e){let n=e[Tg.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),o=r[Ro(n)];o!==void 0&&gw(n,o,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=L1(e);if(!n){let r=e.getAttribute(Il.JSACTION);if(!r)n=rk,cw(e,n);else{if(n=V1(r),!n){n={};let o=r.split(ok);for(let i=0;i<o.length;i++){let s=o[i];if(!s)continue;let a=s.indexOf(X1.EVENT_ACTION_SEPARATOR),c=a!==-1,u=c?s.substr(0,a).trim():ik,l=c?s.substr(a+1).trim():s;n[u]=l}j1(r,n)}cw(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},Ew=function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t}(Ew||{}),bg=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new Cg(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&sk(r.element,n)&&W1(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function sk(t,e){return t.tagName==="A"&&(e.getEventType()===ae.CLICK||e.getEventType()===ae.CLICKMOD)}var ww=Symbol.for("propagationStopped"),Ag={REPLAY:101};var ak="`preventDefault` called during event replay.";var ck="`composedPath` called during event replay.",Sd=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new Dg({clickModSupport:n}),this.dispatcher=new bg(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&dk(e),uk(e);e.getAction();){if(fk(e),Sg(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),lk(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function uk(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[ww]=!0,n()};bi(e,"stopPropagation",r),bi(e,"stopImmediatePropagation",r)}function lk(t){return!!t.getEvent()[ww]}function dk(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);bi(e,"target",n),bi(e,"eventPhase",Ag.REPLAY),bi(e,"preventDefault",()=>{throw r(),new Error(ak+"")}),bi(e,"composedPath",()=>{throw new Error(ck+"")})}function fk(t){let e=t.getEvent(),n=t.getAction()?.element;n&&bi(e,"currentTarget",n,{configurable:!0})}function bi(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function Cw(t,e){t.ecrd(n=>{e.dispatch(n)},Ew.I_AM_THE_JSACTION_FRAMEWORK)}function pk(t){return t?.q??[]}function hk(t){t&&(lw(t.c,t.et,t.h),lw(t.c,t.etc,t.h,!0))}function lw(t,e,n,r){for(let o=0;o<e.length;o++)t.removeEventListener(e[o],n,r)}var mk=!1,Dw=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=mk;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,o){let i=nk(n,r,r.target,o,Date.now());this.handleEventInfo(i)}handleEventInfo(n){if(!this.dispatcher){_w(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,o){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&B1.indexOf(n)>=0)return;let i=(a,c,u)=>{this.handleEvent(a,c,u)};this.eventHandlers[n]=i;let s=q1(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>c=>{i(n,c,a)},o)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),hk(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let o=n[r],i=this.getEventTypesForBrowserEventType(o.eventType);for(let s=0;s<i.length;s++){let a=xw(o);Ig(a,i[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let o=0;o<this.queuedEventInfos.length;o++)this.handleEventInfo(this.queuedEventInfos[o]);this.queuedEventInfos=null}}}return t})();function bw(t,e=window){return pk(e._ejsas?.[t])}function Mg(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var Ow=Symbol("InputSignalNode#UNSET"),$k=V(v({},Fu),{transformFn:void 0,applyValueToInputSignal(t,e){zi(t,e)}});function Rw(t,e){let n=Object.create($k);n.value=t,n.transformFn=e?.transform;function r(){if($i(n),n.value===Ow){let o=null;throw new X(-950,o)}return n.value}return r[Vt]=n,r}var Wk=new K("");Wk.__NG_ELEMENT_ID__=t=>{let e=Ht();if(e===null)throw new X(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new X(204,!1)};function Tw(t,e){return Rw(t,e)}function Gk(t){return Rw(Ow,t)}var kw=(Tw.required=Gk,Tw);var Ng=new K(""),zk=new K("");function mc(t){return!t.moduleRef}function Zk(t){let e=mc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Xe);return n.run(()=>{mc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(pn),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),mc(t)){let i=()=>e.destroy(),s=t.platformInjector.get(Ng);s.add(i),e.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Ng);s.add(i),t.moduleRef.onDestroy(()=>{Ja(t.allPlatformModules,t.moduleRef),o.unsubscribe(),s.delete(i)})}return Qk(r,n,()=>{let i=e.get(nr),s=i.add(),a=e.get(gg);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(wd,hc);if(ew(c||hc),!e.get(zk,!0))return mc(t)?e.get(St):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(mc(t)){let l=e.get(St);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return Yk?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void i.remove(s))})})}var Yk;function Qk(t,e,n){try{let r=n();return Mo(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Ad=null;function Xk(t=[],e){return Bt.create({name:e,providers:[{provide:Ua,useValue:"platform"},{provide:Ng,useValue:new Set([()=>Ad=null])},...t]})}function Kk(t=[]){if(Ad)return Ad;let e=Xk(t);return Ad=e,ZE(),Jk(e),e}function Jk(t){let e=t.get(td,null);Ut(t,()=>{e?.forEach(n=>n())})}function Fw(){return!1}var gc=(()=>{class t{static __NG_ELEMENT_ID__=eF}return t})();function eF(t){return tF(Ht(),qe(),(t&16)===16)}function tF(t,e,n){if(eo(t)&&!n){let r=qn(t.index,e);return new Io(r,r)}else if(t.type&175){let r=e[fn];return new Io(r,e)}return null}var Og=class{constructor(){}supports(e){return ag(e)}create(e){return new Rg(e)}},nF=(t,e)=>e,Rg=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||nF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<Sw(r,o,i)?n:r,a=Sw(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let u=a-o,l=c-o;if(u!=l){for(let p=0;p<u;p++){let f=p<i.length?i[p]:i[p]=0,h=f+p;l<=h&&h<u&&(i[p]=f+1)}let d=s.previousIndex;i[d]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!ag(e))throw new X(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,AE(e,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,o){let i;return e===null?i=this._itTail:(i=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,i,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,i,o)):e=this._addAfter(new kg(n,r),i,o)),e}_verifyReinsertion(e,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,i=e._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let o=n===null?this._itHead:n._next;return e._next=o,e._prev=n,o===null?this._itTail=e:o._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Nd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Nd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},kg=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Fg=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Nd=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Fg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,o=this.map.get(r);return o?o.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Sw(t,e,n){let r=t.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}function Iw(){return new Pg([new Og])}var Pg=(()=>{class t{factories;static \u0275prov=oe({token:t,providedIn:"root",factory:Iw});constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Iw()),deps:[[t,new Lx,new Am]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new X(901,!1)}}return t})();function Pw(t){Fe(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,o=Kk(r),i=[iw({}),{provide:xr,useExisting:xg},Xy,...n||[]],s=new nc({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return Zk({r3Injector:s.injector,platformInjector:o,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Fe(9)}}var Id=new WeakSet,Aw="",Md=[];function Mw(t){return t.get(Pm,v0)}function Lw(){let t=[{provide:Pm,useFactory:()=>{let e=!0;{let n=F(Ir);e=!!window._ejsas?.[n]}return e&&oo("NgEventReplay"),e}}];return t.push({provide:Vn,useValue:()=>{let e=F(St),{injector:n}=e;if(!Id.has(e)){let r=F(Lm);if(Mw(n)){T0();let o=n.get(Ir),i=D0(o,(s,a,c)=>{s.nodeType===Node.ELEMENT_NODE&&(x0(s,a,c),E0(s,r))});e.onDestroy(i)}}},multi:!0},{provide:No,useFactory:()=>{let e=F(St),{injector:n}=e;return()=>{if(!Mw(n)||Id.has(e))return;Id.add(e);let r=n.get(Ir);e.onDestroy(()=>{Id.delete(e),Mg(r)}),e.whenStable().then(()=>{if(e.destroyed)return;let o=n.get(C0);rF(o,n);let i=n.get(Lm);i.get(Aw)?.forEach(w0),i.delete(Aw);let s=o.instance;R0(n)?e.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),t}var rF=(t,e)=>{let n=e.get(Ir),r=window._ejsas[n],o=t.instance=new Dw(new Td(r.c));for(let a of r.et)o.addEvent(a);for(let a of r.etc)o.addEvent(a);let i=bw(n);o.replayEarlyEventInfos(i),Mg(n);let s=new Sd(a=>{oF(e,a,a.currentTarget)});Cw(o,s)};function oF(t,e,n){let r=(n&&n.getAttribute(ac))??"";/d\d+/.test(r)?iF(r,t,e,n):e.eventPhase===Ag.REPLAY&&Vm(e,n)}function iF(t,e,n,r){Md.push({event:n,currentTarget:r}),XE(e,t,sF)}function sF(t){let e=[...Md],n=new Set(t);Md=[];for(let{event:r,currentTarget:o}of e){let i=o.getAttribute(ac);n.has(i)?Vm(r,o):Md.push({event:r,currentTarget:o})}}var Nw=!1;function aF(){Nw||(Nw=!0,M0(),KE(),rw(),JE(),BE(),FE(),EE(),eE())}function cF(t){return t.whenStable()}function Vw(){let t=[{provide:sc,useFactory:()=>{let e=!0;return e=!!F(wi,{optional:!0})?.get(jm,null),e&&oo("NgHydration"),e}},{provide:Vn,useValue:()=>{vE(!1),F(sc)&&(P0(ic()),aF())},multi:!0}];return t.push({provide:Fm,useFactory:()=>F(sc)},{provide:No,useFactory:()=>{if(F(sc)){let e=F(St);return()=>{cF(e).then(()=>{e.destroyed||sg(e)})}}return()=>{}},multi:!0}),dn(t)}function Lg(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Uw=null;function $n(){return Uw}function Vg(t){Uw??=t}var _c=class{},jg=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>F(qw),providedIn:"platform"})}return t})();var qw=(()=>{class t extends jg{_location;_history;_doc=F(Ct);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $n().getBaseHref(this._doc)}onPopState(n){let r=$n().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=$n().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function Hw(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function jw(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function ko(t){return t&&t[0]!=="?"?`?${t}`:t}var Od=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>F(Ww),providedIn:"root"})}return t})(),$w=new K(""),Ww=(()=>{class t extends Od{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??F(Ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Hw(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+ko(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){let s=this.prepareExternalUrl(o+ko(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){let s=this.prepareExternalUrl(o+ko(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(me(jg),me($w,8))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Is=(()=>{class t{_subject=new et;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=dF(jw(Bw(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ko(r))}normalize(n){return t.stripTrailingSlash(lF(this._basePath,Bw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ko(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ko(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=ko;static joinWithSlash=Hw;static stripTrailingSlash=jw;static \u0275fac=function(r){return new(r||t)(me(Od))};static \u0275prov=oe({token:t,factory:()=>uF(),providedIn:"root"})}return t})();function uF(){return new Is(me(Od))}function lF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Bw(t){return t.replace(/\/index.html$/,"")}function dF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Bg=/\s+/,Gw=[],Ug=(()=>{class t{_ngEl;_renderer;initialClasses=Gw;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Bg):Gw}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Bg):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],o=n[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Bg).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(r){return new(r||t)(Ne(Ei),Ne(Cs))};static \u0275dir=$t({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Rd=class{$implicit;ngForOf;index;count;constructor(e,n,r,o){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},As=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new Rd(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),zw(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);zw(i,o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Ne(Ci),Ne(cc),Ne(Pg))};static \u0275dir=$t({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function zw(t,e){t.context.$implicit=e.item}var vc=(()=>{class t{_viewContainer;_context=new kd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Zw(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Zw(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Ne(Ci),Ne(cc))};static \u0275dir=$t({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),kd=class{$implicit=null;ngIf=null};function Zw(t,e){if(t&&!t.createEmbeddedView)throw new X(2020,!1)}var Fo=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=io({type:t});static \u0275inj=wr({})}return t})();function qg(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var yc=class{};var Yw="browser";var Pd=new K(""),Zg=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new X(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(me(Pd),me(Xe))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),xc=class{_doc;constructor(e){this._doc=e}manager},$g="ng-app-id";function Qw(t){for(let e of t)e.remove()}function Xw(t,e){let n=e.createElement("style");return n.textContent=t,n}function fF(t,e,n,r){let o=t.head?.querySelectorAll(`style[${$g}="${e}"],link[${$g}="${e}"]`);if(o)for(let i of o)i.removeAttribute($g),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function Gg(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Yg=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,fF(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,Xw);r?.forEach(o=>this.addUsage(o,this.external,Gg))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(Qw(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Qw(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,Xw(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,Gg(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(me(Ct),me(Ir),me(nd,8),me(ws))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),Wg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Qg=/%COMP%/g;var Jw="%COMP%",pF=`_nghost-${Jw}`,hF=`_ngcontent-${Jw}`,mF=!0,gF=new K("",{providedIn:"root",factory:()=>mF});function _F(t){return hF.replace(Qg,t)}function vF(t){return pF.replace(Qg,t)}function eC(t,e){return e.map(n=>n.replace(Qg,t))}var Xg=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,o,i,s,a,c,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Ec(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof Fd?o.applyToHost(n):o instanceof wc&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case no.Emulated:i=new Fd(c,u,r,this.appId,l,s,a,d,p);break;case no.ShadowDom:return new zg(c,u,n,r,s,a,this.nonce,d,p);default:i=new wc(c,u,r,l,s,a,d,p);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(me(Zg),me(Yg),me(Ir),me(gF),me(Ct),me(ws),me(Xe),me(nd),me(Di,8))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),Ec=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,o,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Wg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Kw(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Kw(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new X(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;let i=Wg[o];i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let o=Wg[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(Sr.DashCase|Sr.Important)?e.style.setProperty(n,r,o&Sr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Sr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,o){if(typeof e=="string"&&(e=$n().getGlobalEventTarget(this.doc,e),!e))throw new X(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,n,i)),this.eventManager.addEventListener(e,n,i,o)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function Kw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var zg=class extends Ec{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,o,i,s,a,c,u){super(e,i,s,c,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=o.styles;l=eC(o.id,l);for(let p of l){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=p,this.shadowRoot.appendChild(f)}let d=o.getExternalStyles?.();if(d)for(let p of d){let f=Gg(p,i);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},wc=class extends Ec{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,o,i,s,a,c,u){super(e,i,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let l=r.styles;this.styles=u?eC(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Fd=class extends wc{contentAttr;hostAttr;constructor(e,n,r,o,i,s,a,c,u){let l=o+"-"+r.id;super(e,n,r,i,s,a,c,u,l),this.contentAttr=_F(l),this.hostAttr=vF(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Ld=class t extends _c{supportsDOMEvents=!0;static makeCurrent(){Vg(new t)}onAndCancel(e,n,r,o){return e.addEventListener(n,r,o),()=>{e.removeEventListener(n,r,o)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=yF();return n==null?null:xF(n)}resetBaseElement(){Cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qg(document.cookie,e)}},Cc=null;function yF(){return Cc=Cc||document.head.querySelector("base"),Cc?Cc.getAttribute("href"):null}function xF(t){return new URL(t,document.baseURI).pathname}var EF=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),nC=(()=>{class t extends xc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||t)(me(Ct))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),tC=["alt","control","meta","shift"],wF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},CF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},rC=(()=>{class t extends xc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$n().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),tC.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=wF[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),tC.forEach(s=>{if(s!==o){let a=CF[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{t.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(me(Ct))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})();function Kg(t,e){let n=v({rootComponent:t},DF(e));return Pw(n)}function DF(t){return{appProviders:[...AF,...t?.providers??[]],platformProviders:IF}}function bF(){Ld.makeCurrent()}function TF(){return new Jn}function SF(){return Om(document),document}var IF=[{provide:ws,useValue:Yw},{provide:td,useValue:bF,multi:!0},{provide:Ct,useFactory:SF}];var AF=[{provide:Ua,useValue:"root"},{provide:Jn,useFactory:TF},{provide:Pd,useClass:nC,multi:!0,deps:[Ct]},{provide:Pd,useClass:rC,multi:!0,deps:[Ct]},Xg,Yg,Zg,{provide:_i,useExisting:Xg},{provide:yc,useClass:EF},[]];var Dc=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let o=n.slice(0,r),i=n.slice(r+1).trim();this.addHeaderEntry(o,i)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let o=(e.op==="a"?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":let i=e.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var MF="X-Request-URL",NF="text/plain",OF="application/json",YZ=`${OF}, ${NF}, */*`;var e_=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(e_||{}),Jg=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new Dc,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Vd=class t extends Jg{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=e_.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var oC=new K("");var QZ=RegExp(`^${MF}:`,"m");var RF=new K(""),kF="b",FF="h",PF="s",LF="st",VF="u",jF="rt",t_=new K(""),BF=["GET","HEAD"];function UF(t,e){let f=F(t_),{isCacheActive:n}=f,r=vr(f,["isCacheActive"]),{transferCache:o,method:i}=t;if(!n||o===!1||i==="POST"&&!r.includePostRequests&&!o||i!=="POST"&&!BF.includes(i)||!r.includeRequestsWithAuthHeaders&&qF(t)||r.filter?.(t)===!1)return e(t);let s=F(wi);if(F(RF,{optional:!0}))throw new X(2803,!1);let c=t.url,u=HF(t,c),l=s.get(u,null),d=r.includeHeaders;if(typeof o=="object"&&o.includeHeaders&&(d=o.includeHeaders),l){let{[kF]:h,[jF]:g,[FF]:m,[PF]:_,[LF]:N,[VF]:k}=l,U=h;switch(g){case"arraybuffer":U=new TextEncoder().encode(h).buffer;break;case"blob":U=new Blob([h]);break}let S=new Dc(m);return pe(new Vd({body:U,headers:S,status:_,statusText:N,url:k}))}return e(t)}function qF(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function iC(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function HF(t,e){let{params:n,method:r,responseType:o}=t,i=iC(n),s=t.serializeBody();s instanceof URLSearchParams?s=iC(s):typeof s!="string"&&(s="");let a=[r,o,e,s,i].join("|"),c=$F(a);return c}function $F(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function sC(t){return[{provide:t_,useFactory:()=>(oo("NgHttpTransferCache"),v({isCacheActive:!0},t))},{provide:oC,useValue:UF,multi:!0},{provide:No,multi:!0,useFactory:()=>{let e=F(St),n=F(t_);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var aC=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(me(Ct))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var jd=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t}(jd||{});function GF(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}function cC(){return GF(jd.EventReplay,Lw())}function uC(...t){let e=[],n=new Set;for(let{\u0275providers:o,\u0275kind:i}of t)n.add(i),o.length&&e.push(o);let r=n.has(jd.HttpTransferCacheOptions);return dn([[],Vw(),n.has(jd.NoHttpTransferCache)||r?[]:sC({}),e])}var ye="primary",jc=Symbol("RouteTitle"),s_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ai(t){return new s_(t)}function _C(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=t[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function ZF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Nr(t[n],e[n]))return!1;return!0}function Nr(t,e){let n=t?a_(t):void 0,r=e?a_(e):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!vC(t[o],e[o]))return!1;return!0}function a_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function vC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((o,i)=>r[i]===o)}else return t===e}function yC(t){return t.length>0?t[t.length-1]:null}function uo(t){return Pp(t)?t:Mo(t)?rt(Promise.resolve(t)):pe(t)}var YF={exact:EC,subset:wC},xC={exact:QF,subset:XF,ignored:()=>!0};function lC(t,e,n){return YF[n.paths](t.root,e.root,n.matrixParams)&&xC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function QF(t,e){return Nr(t,e)}function EC(t,e,n){if(!Si(t.segments,e.segments)||!qd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!EC(t.children[r],e.children[r],n))return!1;return!0}function XF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>vC(t[n],e[n]))}function wC(t,e,n){return CC(t,e,e.segments,n)}function CC(t,e,n,r){if(t.segments.length>n.length){let o=t.segments.slice(0,n.length);return!(!Si(o,n)||e.hasChildren()||!qd(o,n,r))}else if(t.segments.length===n.length){if(!Si(t.segments,n)||!qd(t.segments,n,r))return!1;for(let o in e.children)if(!t.children[o]||!wC(t.children[o],e.children[o],r))return!1;return!0}else{let o=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!Si(t.segments,o)||!qd(t.segments,o,r)||!t.children[ye]?!1:CC(t.children[ye],e,i,r)}}function qd(t,e,n){return e.every((r,o)=>xC[n](t[o].parameters,r.parameters))}var Rr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Pe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ai(this.queryParams),this._queryParamMap}toString(){return eP.serialize(this)}},Pe=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hd(this)}},Po=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ai(this.parameters),this._parameterMap}toString(){return bC(this)}};function KF(t,e){return Si(t,e)&&t.every((n,r)=>Nr(n.parameters,e[r].parameters))}function Si(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function JF(t,e){let n=[];return Object.entries(t.children).forEach(([r,o])=>{r===ye&&(n=n.concat(e(o,r)))}),Object.entries(t.children).forEach(([r,o])=>{r!==ye&&(n=n.concat(e(o,r)))}),n}var Bc=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>new Mi,providedIn:"root"})}return t})(),Mi=class{parse(e){let n=new u_(e);return new Rr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${bc(e.root,!0)}`,r=rP(e.queryParams),o=typeof e.fragment=="string"?`#${tP(e.fragment)}`:"";return`${n}${r}${o}`}},eP=new Mi;function Hd(t){return t.segments.map(e=>bC(e)).join("/")}function bc(t,e){if(!t.hasChildren())return Hd(t);if(e){let n=t.children[ye]?bc(t.children[ye],!1):"",r=[];return Object.entries(t.children).forEach(([o,i])=>{o!==ye&&r.push(`${o}:${bc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=JF(t,(r,o)=>o===ye?[bc(t.children[ye],!1)]:[`${o}:${bc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ye]!=null?`${Hd(t)}/${n[0]}`:`${Hd(t)}/(${n.join("//")})`}}function DC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bd(t){return DC(t).replace(/%3B/gi,";")}function tP(t){return encodeURI(t)}function c_(t){return DC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $d(t){return decodeURIComponent(t)}function dC(t){return $d(t.replace(/\+/g,"%20"))}function bC(t){return`${c_(t.path)}${nP(t.parameters)}`}function nP(t){return Object.entries(t).map(([e,n])=>`;${c_(e)}=${c_(n)}`).join("")}function rP(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(o=>`${Bd(n)}=${Bd(o)}`).join("&"):`${Bd(n)}=${Bd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var oP=/^[^\/()?;#]+/;function n_(t){let e=t.match(oP);return e?e[0]:""}var iP=/^[^\/()?;=#]+/;function sP(t){let e=t.match(iP);return e?e[0]:""}var aP=/^[^=?&#]+/;function cP(t){let e=t.match(aP);return e?e[0]:""}var uP=/^[^&#]+/;function lP(t){let e=t.match(uP);return e?e[0]:""}var u_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ye]=new Pe(e,n)),r}parseSegment(){let e=n_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(e),new Po($d(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=sP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=n_(this.remaining);o&&(r=o,this.capture(r))}e[$d(n)]=$d(r)}parseQueryParam(e){let n=cP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=lP(this.remaining);s&&(r=s,this.capture(r))}let o=dC(n),i=dC(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=n_(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new X(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=ye);let s=this.parseChildren();n[i]=Object.keys(s).length===1?s[ye]:new Pe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new X(4011,!1)}};function TC(t){return t.segments.length>0?new Pe([],{[ye]:t}):t}function SC(t){let e={};for(let[r,o]of Object.entries(t.children)){let i=SC(o);if(r===ye&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))e[s]=a;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}let n=new Pe(t.segments,e);return dP(n)}function dP(t){if(t.numberOfChildren===1&&t.children[ye]){let e=t.children[ye];return new Pe(t.segments.concat(e.segments),e.children)}return t}function ks(t){return t instanceof Rr}function IC(t,e,n=null,r=null){let o=AC(t);return MC(o,e,n,r)}function AC(t){let e;function n(i){let s={};for(let c of i.children){let u=n(c);s[c.outlet]=u}let a=new Pe(i.url,s);return i===t&&(e=a),a}let r=n(t.root),o=TC(r);return e??o}function MC(t,e,n,r){let o=t;for(;o.parent;)o=o.parent;if(e.length===0)return r_(o,o,o,n,r);let i=fP(e);if(i.toRoot())return r_(o,o,new Pe([],{}),n,r);let s=pP(i,o,t),a=s.processChildren?Sc(s.segmentGroup,s.index,i.commands):OC(s.segmentGroup,s.index,i.commands);return r_(o,s.segmentGroup,a,n,r)}function Wd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Mc(t){return typeof t=="object"&&t!=null&&t.outlets}function r_(t,e,n,r,o){let i={};r&&Object.entries(r).forEach(([c,u])=>{i[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;t===e?s=n:s=NC(t,e,n);let a=TC(SC(s));return new Rr(a,i,o)}function NC(t,e,n){let r={};return Object.entries(t.children).forEach(([o,i])=>{i===e?r[o]=n:r[o]=NC(i,e,n)}),new Pe(t.segments,r)}var Gd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Wd(r[0]))throw new X(4003,!1);let o=r.find(Mc);if(o&&o!==yC(r))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function fP(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Gd(!0,0,t);let e=0,n=!1,r=t.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Gd(n,e,r)}var Os=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function pP(t,e,n){if(t.isAbsolute)return new Os(e,!0,0);if(!n)return new Os(e,!1,NaN);if(n.parent===null)return new Os(n,!0,0);let r=Wd(t.commands[0])?0:1,o=n.segments.length-1+r;return hP(n,o,t.numberOfDoubleDots)}function hP(t,e,n){let r=t,o=e,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new X(4005,!1);o=r.segments.length}return new Os(r,!1,o-i)}function mP(t){return Mc(t[0])?t[0].outlets:{[ye]:t}}function OC(t,e,n){if(t??=new Pe([],{}),t.segments.length===0&&t.hasChildren())return Sc(t,e,n);let r=gP(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let i=new Pe(t.segments.slice(0,r.pathIndex),{});return i.children[ye]=new Pe(t.segments.slice(r.pathIndex),t.children),Sc(i,0,o)}else return r.match&&o.length===0?new Pe(t.segments,{}):r.match&&!t.hasChildren()?l_(t,e,n):r.match?Sc(t,0,o):l_(t,e,n)}function Sc(t,e,n){if(n.length===0)return new Pe(t.segments,{});{let r=mP(n),o={};if(Object.keys(r).some(i=>i!==ye)&&t.children[ye]&&t.numberOfChildren===1&&t.children[ye].segments.length===0){let i=Sc(t.children[ye],e,n);return new Pe(t.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=OC(t.children[i],e,s))}),Object.entries(t.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new Pe(t.segments,o)}}function gP(t,e,n){let r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=n.length)return i;let s=t.segments[o],a=n[r];if(Mc(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!pC(c,u,s))return i;r+=2}else{if(!pC(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function l_(t,e,n){let r=t.segments.slice(0,e),o=0;for(;o<n.length;){let i=n[o];if(Mc(i)){let c=_P(i.outlets);return new Pe(r,c)}if(o===0&&Wd(n[0])){let c=t.segments[e];r.push(new Po(c.path,fC(n[0]))),o++;continue}let s=Mc(i)?i.outlets[ye]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&Wd(a)?(r.push(new Po(s,fC(a))),o+=2):(r.push(new Po(s,{})),o++)}return new Pe(r,{})}function _P(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=l_(new Pe([],{}),0,r))}),e}function fC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function pC(t,e,n){return t==n.path&&Nr(e,n.parameters)}var Ic="imperative",It=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(It||{}),An=class{id;url;constructor(e,n){this.id=e,this.url=n}},Ni=class extends An{type=It.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",o=null){super(e,n),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ao=class extends An{urlAfterRedirects;type=It.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Jt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t}(Jt||{}),Nc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Nc||{}),Or=class extends An{reason;code;type=It.NavigationCancel;constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},co=class extends An{reason;code;type=It.NavigationSkipped;constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o}},Fs=class extends An{error;target;type=It.NavigationError;constructor(e,n,r,o){super(e,n),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Oc=class extends An{urlAfterRedirects;state;type=It.RoutesRecognized;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zd=class extends An{urlAfterRedirects;state;type=It.GuardsCheckStart;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zd=class extends An{urlAfterRedirects;state;shouldActivate;type=It.GuardsCheckEnd;constructor(e,n,r,o,i){super(e,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Yd=class extends An{urlAfterRedirects;state;type=It.ResolveStart;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qd=class extends An{urlAfterRedirects;state;type=It.ResolveEnd;constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xd=class{route;type=It.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Kd=class{route;type=It.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Jd=class{snapshot;type=It.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ef=class{snapshot;type=It.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tf=class{snapshot;type=It.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nf=class{snapshot;type=It.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Rc=class{},Ps=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function vP(t){return!(t instanceof Rc)&&!(t instanceof Ps)}function yP(t,e){return t.providers&&!t._injector&&(t._injector=Ds(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ir(t){return t.outlet||ye}function xP(t,e){let n=t.filter(r=>ir(r)===e);return n.push(...t.filter(r=>ir(r)!==e)),n}function js(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var rf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return js(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Bs(this.rootInjector)}},Bs=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new rf(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(me(Tt))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),of=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=d_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=d_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=f_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return f_(e,this._root).map(n=>n.value)}};function d_(t,e){if(t===e.value)return e;for(let n of e.children){let r=d_(t,n);if(r)return r}return null}function f_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=f_(t,n);if(r.length)return r.unshift(e),r}return[]}var In=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ns(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var kc=class extends of{snapshot;constructor(e,n){super(e),this.snapshot=n,x_(this,e)}toString(){return this.snapshot.toString()}};function RC(t){let e=EP(t),n=new Nt([new Po("",{})]),r=new Nt({}),o=new Nt({}),i=new Nt({}),s=new Nt(""),a=new Lo(n,r,i,s,o,ye,t,e.root);return a.snapshot=e.root,new kc(new In(a,[]),e)}function EP(t){let e={},n={},r={},o="",i=new Ii([],e,r,o,n,ye,t,null,{});return new Fc("",new In(i,[]))}var Lo=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,o,i,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ve(u=>u[jc]))??pe(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ve(e=>Ai(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ve(e=>Ai(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sf(t,e,n="emptyOnly"){let r,{routeConfig:o}=t;return e!==null&&(n==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:v(v({},e.params),t.params),data:v(v({},e.data),t.data),resolve:v(v(v(v({},t.data),e.data),o?.data),t._resolvedData)}:r={params:v({},t.params),data:v({},t.data),resolve:v(v({},t.data),t._resolvedData??{})},o&&FC(o)&&(r.resolve[jc]=o.title),r}var Ii=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[jc]}constructor(e,n,r,o,i,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ai(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ai(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Fc=class extends of{url;constructor(e,n){super(n),this.url=e,x_(this,n)}toString(){return kC(this._root)}};function x_(t,e){e.value._routerState=t,e.children.forEach(n=>x_(t,n))}function kC(t){let e=t.children.length>0?` { ${t.children.map(kC).join(", ")} } `:"";return`${t.value}${e}`}function o_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Nr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Nr(e.params,n.params)||t.paramsSubject.next(n.params),ZF(e.url,n.url)||t.urlSubject.next(n.url),Nr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function p_(t,e){let n=Nr(t.params,e.params)&&KF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||p_(t.parent,e.parent))}function FC(t){return typeof t.title=="string"||t.title===null}var PC=new K(""),Uc=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ye;activateEvents=new it;deactivateEvents=new it;attachEvents=new it;detachEvents=new it;routerOutletData=kw(void 0);parentContexts=F(Bs);location=F(Ci);changeDetector=F(gc);inputBinder=F(lf,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=n;let o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new h_(n,a,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=$t({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[xi]})}return t})(),h_=class{route;childContexts;parent;outletData;constructor(e,n,r,o){this.route=e,this.childContexts=n,this.parent=r,this.outletData=o}get(e,n){return e===Lo?this.route:e===Bs?this.childContexts:e===PC?this.outletData:this.parent.get(e,n)}},lf=new K("");var E_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=kt({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&P(0,"router-outlet")},dependencies:[Uc],encapsulation:2})}return t})();function w_(t){let e=t.children&&t.children.map(w_),n=e?V(v({},t),{children:e}):v({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ye&&(n.component=E_),n}function wP(t,e,n){let r=Pc(t,e._root,n?n._root:void 0);return new kc(r,e)}function Pc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let o=CP(t,e,n);return new In(r,o)}else{if(t.shouldAttach(e.value)){let i=t.retrieve(e.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Pc(t,a)),s}}let r=DP(e.value),o=e.children.map(i=>Pc(t,i));return new In(r,o)}}function CP(t,e,n){return e.children.map(r=>{for(let o of n.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return Pc(t,r,o);return Pc(t,r)})}function DP(t){return new Lo(new Nt(t.url),new Nt(t.params),new Nt(t.queryParams),new Nt(t.fragment),new Nt(t.data),t.outlet,t.component,t)}var Ls=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},LC="ngNavigationCancelingError";function af(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ks(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=VC(!1,Jt.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function VC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[LC]=!0,n.cancellationCode=e,n}function bP(t){return jC(t)&&ks(t.url)}function jC(t){return!!t&&t[LC]}var TP=(t,e,n,r)=>ve(o=>(new m_(e,o.targetRouterState,o.currentRouterState,n,r).activate(t),o)),m_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,o,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),o_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let o=Ns(n);e.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,n,r){let o=e.value,i=n?n.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=Ns(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=Ns(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let o=Ns(n);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new nf(i.value.snapshot))}),e.children.length&&this.forwardEvent(new ef(e.value.snapshot))}activateRoutes(e,n,r){let o=e.value,i=n?n.value:null;if(o_(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),o_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},cf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Rs=class{component;route;constructor(e,n){this.component=e,this.route=n}};function SP(t,e,n){let r=t._root,o=e?e._root:null;return Tc(r,o,n,[r.value])}function IP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Us(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!rh(t)?t:e.get(t):r}function Tc(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Ns(e);return t.children.forEach(s=>{AP(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Ac(a,n.getContext(s),o)),o}function AP(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=MP(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new cf(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Tc(t,e,a?a.children:null,r,o):Tc(t,e,n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Rs(a.outlet.component,s))}else s&&Ac(e,a,o),o.canActivateChecks.push(new cf(r)),i.component?Tc(t,null,a?a.children:null,r,o):Tc(t,null,n,r,o);return o}function MP(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Si(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Si(t.url,e.url)||!Nr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!p_(t,e)||!Nr(t.queryParams,e.queryParams);case"paramsChange":default:return!p_(t,e)}}function Ac(t,e,n){let r=Ns(t),o=t.value;Object.entries(r).forEach(([i,s])=>{o.component?e?Ac(s,e.children.getContext(i),n):Ac(s,null,n):Ac(s,e,n)}),o.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Rs(e.outlet.component,o)):n.canDeactivateChecks.push(new Rs(null,o)):n.canDeactivateChecks.push(new Rs(null,o))}function qc(t){return typeof t=="function"}function NP(t){return typeof t=="boolean"}function OP(t){return t&&qc(t.canLoad)}function RP(t){return t&&qc(t.canActivate)}function kP(t){return t&&qc(t.canActivateChild)}function FP(t){return t&&qc(t.canDeactivate)}function PP(t){return t&&qc(t.canMatch)}function BC(t){return t instanceof Gr||t?.name==="EmptyError"}var Ud=Symbol("INITIAL_VALUE");function Vs(){return Ot(t=>rl(t.map(e=>e.pipe(Qt(1),Bp(Ud)))).pipe(ve(e=>{for(let n of e)if(n!==!0){if(n===Ud)return Ud;if(n===!1||LP(n))return n}return!0}),Yt(e=>e!==Ud),Qt(1)))}function LP(t){return ks(t)||t instanceof Ls}function VP(t,e){return wt(n=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return s.length===0&&i.length===0?pe(V(v({},n),{guardsResult:!0})):jP(s,r,o,t).pipe(wt(a=>a&&NP(a)?BP(r,i,t,e):pe(a)),ve(a=>V(v({},n),{guardsResult:a})))})}function jP(t,e,n,r){return rt(t).pipe(wt(o=>WP(o.component,o.route,n,e,r)),Zr(o=>o!==!0,!0))}function BP(t,e,n,r){return rt(e).pipe(rs(o=>ns(qP(o.route.parent,r),UP(o.route,r),$P(t,o.path,n),HP(t,o.route,n))),Zr(o=>o!==!0,!0))}function UP(t,e){return t!==null&&e&&e(new tf(t)),pe(!0)}function qP(t,e){return t!==null&&e&&e(new Jd(t)),pe(!0)}function HP(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return pe(!0);let o=r.map(i=>Ra(()=>{let s=js(e)??n,a=Us(i,s),c=RP(a)?a.canActivate(e,t):Ut(s,()=>a(e,t));return uo(c).pipe(Zr())}));return pe(o).pipe(Vs())}function $P(t,e,n){let r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>IP(s)).filter(s=>s!==null).map(s=>Ra(()=>{let a=s.guards.map(c=>{let u=js(s.node)??n,l=Us(c,u),d=kP(l)?l.canActivateChild(r,t):Ut(u,()=>l(r,t));return uo(d).pipe(Zr())});return pe(a).pipe(Vs())}));return pe(i).pipe(Vs())}function WP(t,e,n,r,o){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return pe(!0);let s=i.map(a=>{let c=js(e)??o,u=Us(a,c),l=FP(u)?u.canDeactivate(t,e,n,r):Ut(c,()=>u(t,e,n,r));return uo(l).pipe(Zr())});return pe(s).pipe(Vs())}function GP(t,e,n,r){let o=e.canLoad;if(o===void 0||o.length===0)return pe(!0);let i=o.map(s=>{let a=Us(s,t),c=OP(a)?a.canLoad(e,n):Ut(t,()=>a(e,n));return uo(c)});return pe(i).pipe(Vs(),UC(r))}function UC(t){return Op(bt(e=>{if(typeof e!="boolean")throw af(t,e)}),ve(e=>e===!0))}function zP(t,e,n,r){let o=e.canMatch;if(!o||o.length===0)return pe(!0);let i=o.map(s=>{let a=Us(s,t),c=PP(a)?a.canMatch(e,n):Ut(t,()=>a(e,n));return uo(c)});return pe(i).pipe(Vs(),UC(r))}var Lc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Vc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ms(t){return ts(new Lc(t))}function ZP(t){return ts(new X(4e3,!1))}function YP(t){return ts(VC(!1,Jt.GuardRejected))}var g_=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return pe(r);if(o.numberOfChildren>1||!o.children[ye])return ZP(`${e.redirectTo}`);o=o.children[ye]}}applyRedirectCommands(e,n,r,o,i){return QP(n,o,i).pipe(ve(s=>{if(s instanceof Rr)throw new Vc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Vc(a);return a}))}applyRedirectCreateUrlTree(e,n,r,o){let i=this.createSegmentGroup(e,n.root,r,o);return new Rr(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(e,n,r,o){let i=this.createSegments(e,n.segments,r,o),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,o)}),new Pe(i,s)}createSegments(e,n,r,o){return n.map(i=>i.path[0]===":"?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,n,r){let o=r[n.path.substring(1)];if(!o)throw new X(4001,!1);return o}findOrReturn(e,n){let r=0;for(let o of n){if(o.path===e.path)return n.splice(r),o;r++}return e}};function QP(t,e,n){if(typeof t=="string")return pe(t);let r=t,{queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,params:u,data:l,title:d}=e;return uo(Ut(n,()=>r({params:u,data:l,queryParams:o,fragment:i,routeConfig:s,url:a,outlet:c,title:d})))}var __={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function XP(t,e,n,r,o){let i=qC(t,e,n);return i.matched?(r=yP(e,r),zP(r,e,n,o).pipe(ve(s=>s===!0?i:v({},__)))):pe(i)}function qC(t,e,n){if(e.path==="**")return KP(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?v({},__):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let o=(e.matcher||_C)(n,t,e);if(!o)return v({},__);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?v(v({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function KP(t){return{matched:!0,parameters:t.length>0?yC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function hC(t,e,n,r){return n.length>0&&tL(t,n,r)?{segmentGroup:new Pe(e,eL(r,new Pe(n,t.children))),slicedSegments:[]}:n.length===0&&nL(t,n,r)?{segmentGroup:new Pe(t.segments,JP(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Pe(t.segments,t.children),slicedSegments:n}}function JP(t,e,n,r){let o={};for(let i of n)if(df(t,e,i)&&!r[ir(i)]){let s=new Pe([],{});o[ir(i)]=s}return v(v({},r),o)}function eL(t,e){let n={};n[ye]=e;for(let r of t)if(r.path===""&&ir(r)!==ye){let o=new Pe([],{});n[ir(r)]=o}return n}function tL(t,e,n){return n.some(r=>df(t,e,r)&&ir(r)!==ye)}function nL(t,e,n){return n.some(r=>df(t,e,r))}function df(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function rL(t,e,n){return e.length===0&&!t.children[n]}var v_=class{};function oL(t,e,n,r,o,i,s="emptyOnly"){return new y_(t,e,n,r,o,s,i).recognize()}var iL=31,y_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,o,i,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new g_(this.urlSerializer,this.urlTree)}noMatchError(e){return new X(4002,`'${e.segmentGroup}'`)}recognize(){let e=hC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ve(({children:n,rootSnapshot:r})=>{let o=new In(r,n),i=new Fc("",o),s=IC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(e){let n=new Ii([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ye,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ye,n).pipe(ve(r=>({children:r,rootSnapshot:n})),Eo(r=>{if(r instanceof Vc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Lc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,i):this.processSegment(e,n,r,r.segments,o,!0,i).pipe(ve(s=>s instanceof In?[s]:[]))}processChildren(e,n,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return rt(i).pipe(rs(s=>{let a=r.children[s],c=xP(n,s);return this.processSegmentGroup(e,c,a,s,o)}),jp((s,a)=>(s.push(...a),s)),wo(null),Vp(),wt(s=>{if(s===null)return Ms(r);let a=HC(s);return sL(a),pe(a)}))}processSegment(e,n,r,o,i,s,a){return rt(n).pipe(rs(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,o,i,s,a).pipe(Eo(u=>{if(u instanceof Lc)return pe(null);throw u}))),Zr(c=>!!c),Eo(c=>{if(BC(c))return rL(r,o,i)?pe(new v_):Ms(r);throw c}))}processSegmentAgainstRoute(e,n,r,o,i,s,a,c){return ir(r)!==s&&(s===ye||!df(o,i,r))?Ms(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,o,n,r,i,s,c):Ms(o)}expandSegmentAgainstRouteUsingRedirect(e,n,r,o,i,s,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:p}=qC(n,o,i);if(!c)return Ms(n);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>iL&&(this.allowRedirects=!1));let f=new Ii(i,u,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,mC(o),ir(o),o.component??o._loadedComponent??null,o,gC(o)),h=sf(f,a,this.paramsInheritanceStrategy);return f.params=Object.freeze(h.params),f.data=Object.freeze(h.data),this.applyRedirects.applyRedirectCommands(l,o.redirectTo,d,f,e).pipe(Ot(m=>this.applyRedirects.lineralizeSegments(o,m)),wt(m=>this.processSegment(e,r,n,m.concat(p),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,o,i,s){let a=XP(n,r,o,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ot(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,o).pipe(Ot(({routes:u})=>{let l=r._loadedInjector??e,{parameters:d,consumedSegments:p,remainingSegments:f}=c,h=new Ii(p,d,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,mC(r),ir(r),r.component??r._loadedComponent??null,r,gC(r)),g=sf(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);let{segmentGroup:m,slicedSegments:_}=hC(n,p,f,u);if(_.length===0&&m.hasChildren())return this.processChildren(l,u,m,h).pipe(ve(k=>new In(h,k)));if(u.length===0&&_.length===0)return pe(new In(h,[]));let N=ir(r)===i;return this.processSegment(l,u,m,_,N?ye:i,!0,h).pipe(ve(k=>new In(h,k instanceof In?[k]:[])))}))):Ms(n)))}getChildConfig(e,n,r){return n.children?pe({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?pe({routes:n._loadedRoutes,injector:n._loadedInjector}):GP(e,n,r,this.urlSerializer).pipe(wt(o=>o?this.configLoader.loadChildren(e,n).pipe(bt(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):YP(n))):pe({routes:[],injector:e})}};function sL(t){t.sort((e,n)=>e.value.outlet===ye?-1:n.value.outlet===ye?1:e.value.outlet.localeCompare(n.value.outlet))}function aL(t){let e=t.value.routeConfig;return e&&e.path===""}function HC(t){let e=[],n=new Set;for(let r of t){if(!aL(r)){e.push(r);continue}let o=e.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),n.add(o)):e.push(r)}for(let r of n){let o=HC(r.children);e.push(new In(r.value,o))}return e.filter(r=>!n.has(r))}function mC(t){return t.data||{}}function gC(t){return t.resolve||{}}function cL(t,e,n,r,o,i){return wt(s=>oL(t,e,n,r,s.extractedUrl,o,i).pipe(ve(({state:a,tree:c})=>V(v({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function uL(t,e){return wt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return pe(n);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let u of $C(c))s.add(u);let a=0;return rt(s).pipe(rs(c=>i.has(c)?lL(c,r,t,e):(c.data=sf(c,c.parent,t).resolve,pe(void 0))),bt(()=>a++),os(1),wt(c=>a===s.size?pe(n):un))})}function $C(t){let e=t.children.map(n=>$C(n)).flat();return[t,...e]}function lL(t,e,n,r){let o=t.routeConfig,i=t._resolve;return o?.title!==void 0&&!FC(o)&&(i[jc]=o.title),Ra(()=>(t.data=sf(t,t.parent,n).resolve,dL(i,t,e,r).pipe(ve(s=>(t._resolvedData=s,t.data=v(v({},t.data),s),null)))))}function dL(t,e,n,r){let o=a_(t);if(o.length===0)return pe({});let i={};return rt(o).pipe(wt(s=>fL(t[s],e,n,r).pipe(Zr(),bt(a=>{if(a instanceof Ls)throw af(new Mi,a);i[s]=a}))),os(1),ve(()=>i),Eo(s=>BC(s)?un:ts(s)))}function fL(t,e,n,r){let o=js(e)??r,i=Us(t,o),s=i.resolve?i.resolve(e,n):Ut(o,()=>i(e,n));return uo(s)}function i_(t){return Ot(e=>{let n=t(e);return n?rt(n).pipe(ve(()=>e)):pe(e)})}var C_=(()=>{class t{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===ye);return r}getResolvedTitleForRoute(n){return n.data[jc]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>F(WC),providedIn:"root"})}return t})(),WC=(()=>{class t extends C_{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(me(aC))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Hc=new K("",{providedIn:"root",factory:()=>({})}),$c=new K(""),GC=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=F(yg);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return pe(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let o=uo(Ut(n,()=>r.loadComponent())).pipe(ve(ZC),bt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ka(()=>{this.componentLoaders.delete(r)})),i=new es(o,()=>new et).pipe(Ji());return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=zC(r,this.compiler,n,this.onLoadEndListener).pipe(ka(()=>{this.childrenLoaders.delete(r)})),s=new es(i,()=>new et).pipe(Ji());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zC(t,e,n,r){return uo(Ut(n,()=>t.loadChildren())).pipe(ve(ZC),wt(o=>o instanceof gd||Array.isArray(o)?pe(o):rt(e.compileModuleAsync(o))),ve(o=>{r&&r(t);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(n).injector,s=i.get($c,[],{optional:!0,self:!0}).flat()),{routes:s.map(w_),injector:i}}))}function pL(t){return t&&typeof t=="object"&&"default"in t}function ZC(t){return pL(t)?t.default:t}var ff=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>F(hL),providedIn:"root"})}return t})(),hL=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),YC=new K("");var QC=new K(""),XC=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new et;transitionAbortWithErrorSubject=new et;configLoader=F(GC);environmentInjector=F(Tt);destroyRef=F(br);urlSerializer=F(Bc);rootContexts=F(Bs);location=F(Is);inputBindingEnabled=F(lf,{optional:!0})!==null;titleStrategy=F(C_);options=F(Hc,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=F(ff);createViewTransition=F(YC,{optional:!0});navigationErrorHandler=F(QC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>pe(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=o=>this.events.next(new Xd(o)),r=o=>this.events.next(new Kd(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(V(v({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(n){return this.transitions=new Nt(null),this.transitions.pipe(Yt(r=>r!==null),Ot(r=>{let o=!1;return pe(r).pipe(Ot(i=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Jt.SupersededByNewNavigation),un;this.currentTransition=r,this.currentNavigation={id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?V(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()};let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=i.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload"){let c="";return this.events.next(new co(i.id,this.urlSerializer.serialize(i.rawUrl),c,Nc.IgnoredSameUrlNavigation)),i.resolve(!1),un}if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return pe(i).pipe(Ot(c=>(this.events.next(new Ni(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?un:Promise.resolve(c))),cL(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),bt(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=V(v({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let u=new Oc(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:c,extractedUrl:u,source:l,restoredState:d,extras:p}=i,f=new Ni(c,this.urlSerializer.serialize(u),l,d);this.events.next(f);let h=RC(this.rootComponentType).snapshot;return this.currentTransition=r=V(v({},i),{targetSnapshot:h,urlAfterRedirects:u,extras:V(v({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=u,pe(r)}else{let c="";return this.events.next(new co(i.id,this.urlSerializer.serialize(i.extractedUrl),c,Nc.IgnoredByUrlHandlingStrategy)),i.resolve(!1),un}}),bt(i=>{let s=new zd(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),ve(i=>(this.currentTransition=r=V(v({},i),{guards:SP(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),r)),VP(this.environmentInjector,i=>this.events.next(i)),bt(i=>{if(r.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw af(this.urlSerializer,i.guardsResult);let s=new Zd(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(s)}),Yt(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",Jt.GuardRejected),!1)),i_(i=>{if(i.guards.canActivateChecks.length!==0)return pe(i).pipe(bt(s=>{let a=new Yd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ot(s=>{let a=!1;return pe(s).pipe(uL(this.paramsInheritanceStrategy,this.environmentInjector),bt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Jt.NoDataFromResolver)}}))}),bt(s=>{let a=new Qd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),i_(i=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent){let u=js(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(bt(l=>{a.component=l}),ve(()=>{})))}for(let u of a.children)c.push(...s(u));return c};return rl(s(i.targetSnapshot.root)).pipe(wo(null),Qt(1))}),i_(()=>this.afterPreactivation()),Ot(()=>{let{currentSnapshot:i,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,i.root,s.root);return a?rt(a).pipe(ve(()=>r)):pe(r)}),ve(i=>{let s=wP(n.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=r=V(v({},i),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),bt(()=>{this.events.next(new Rc)}),TP(this.rootContexts,n.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),Qt(1),il(new Ee(i=>{let s=r.abortController.signal,a=()=>i.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Yt(()=>!o&&!r.targetRouterState),bt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Jt.Aborted)}))),bt({next:i=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ao(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{o=!0}}),il(this.transitionAbortWithErrorSubject.pipe(bt(i=>{throw i}))),ka(()=>{o||this.cancelNavigationTransition(r,"",Jt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Eo(i=>{if(this.destroyed)return r.resolve(!1),un;if(o=!0,jC(i))this.events.next(new Or(r.id,this.urlSerializer.serialize(r.extractedUrl),i.message,i.cancellationCode)),bP(i)?this.events.next(new Ps(i.url,i.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Fs(r.id,this.urlSerializer.serialize(r.extractedUrl),i,r.targetSnapshot??void 0);try{let a=Ut(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Ls){let{message:c,cancellationCode:u}=af(this.urlSerializer,a);this.events.next(new Or(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new Ps(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),i}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return un}))}))}cancelNavigationTransition(n,r,o){let i=new Or(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function mL(t){return t!==Ic}var KC=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>F(gL),providedIn:"root"})}return t})(),uf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},gL=(()=>{class t extends uf{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Ao(t)))(o||t)}})();static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),JC=(()=>{class t{urlSerializer=F(Bc);options=F(Hc,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=F(Is);urlHandlingStrategy=F(ff);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Rr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:o}){let i=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=o??i;return s instanceof Rr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:o}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=n):this.rawUrlTree=o}routerState=RC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>F(_L),providedIn:"root"})}return t})(),_L=(()=>{class t extends JC{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Ni?this.updateStateMemento():n instanceof co?this.commitTransition(r):n instanceof Oc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Rc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Or&&n.code!==Jt.SupersededByNewNavigation&&n.code!==Jt.Redirect?this.restoreHistory(r):n instanceof Fs?this.restoreHistory(r,!0):n instanceof ao&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||i){let a=this.browserPageId,c=v(v({},s),this.generateNgRouterState(o,a));this.location.replaceState(n,"",c)}else{let a=v(v({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===n.finalUrl&&i===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=Ao(t)))(o||t)}})();static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function D_(t,e){t.events.pipe(Yt(n=>n instanceof ao||n instanceof Or||n instanceof Fs||n instanceof co),ve(n=>n instanceof ao||n instanceof co?0:(n instanceof Or?n.code===Jt.Redirect||n.code===Jt.SupersededByNewNavigation:!1)?2:1),Yt(n=>n!==2),Qt(1)).subscribe(()=>{e()})}var vL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},kr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=F(yd);stateManager=F(JC);options=F(Hc,{optional:!0})||{};pendingTasks=F(nr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=F(XC);urlSerializer=F(Bc);location=F(Is);urlHandlingStrategy=F(ff);injector=F(Tt);_events=new et;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=F(KC);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=F($c,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!F(lf,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new dt;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Or&&r.code!==Jt.Redirect&&r.code!==Jt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ao)this.navigated=!0;else if(r instanceof Ps){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=v({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||mL(o.source)},s);this.scheduleNavigation(a,Ic,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}vP(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ic,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,o)=>{this.navigateToSyncWithBrowser(n,o,r)})}navigateToSyncWithBrowser(n,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=v({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i).catch(c=>{this.disposed||this.injector.get(pn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(w_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=v(v({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let p=o?o.snapshot:this.routerState.snapshot.root;d=AC(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return MC(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=ks(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Ic,null,r)}navigate(n,r={skipLocationChange:!1}){return xL(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=v({},vL):r===!1?o=v({},yL):o=r,ks(n))return lC(this.currentUrlTree,n,o);let i=this.parseUrl(n);return lC(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,p)=>{a=d,c=p});let l=this.pendingTasks.add();return D_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new X(4008,!1)}var wL=new K("");function b_(t,...e){return dn([{provide:$c,multi:!0,useValue:t},[],{provide:Lo,useFactory:CL,deps:[kr]},{provide:No,multi:!0,useFactory:DL},e.map(n=>n.\u0275providers)])}function CL(t){return t.routerState.root}function DL(){let t=F(Bt);return e=>{let n=t.get(St);if(e!==n.components[0])return;let r=t.get(kr),o=t.get(bL);t.get(TL)===1&&r.initialNavigation(),t.get(SL,null,{optional:!0})?.setUpPreloading(),t.get(wL,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var bL=new K("",{factory:()=>new et}),TL=new K("",{providedIn:"root",factory:()=>1});var SL=new K("");function AL(t,e){if(t&1){let n=he();y(0,"div",4)(1,"button",5),re("click",function(){G(n);let o=O();return z(o.nextButton(0))}),D(2),x()()}if(t&2){let n=O();Q("ngClass","menu-button-"+n.displayButton[0].position),R(2),Ar(n.displayButton[0].content)}}function ML(t,e){if(t&1){let n=he();y(0,"div",4)(1,"button",5),re("click",function(){G(n);let o=O();return z(o.nextButton(1))}),D(2),x()()}if(t&2){let n=O();Q("ngClass","menu-button-"+n.displayButton[1].position),R(2),Ar(n.displayButton[1].content)}}function NL(t,e){if(t&1){let n=he();y(0,"div",4)(1,"button",5),re("click",function(){G(n);let o=O();return z(o.nextButton(2))}),D(2),x()()}if(t&2){let n=O();Q("ngClass","menu-button-"+n.displayButton[2].position),R(2),Ar(n.displayButton[2].content)}}function OL(t,e){if(t&1){let n=he();y(0,"div",4)(1,"button",5),re("click",function(){G(n);let o=O();return z(o.nextButton(3))}),D(2),x()()}if(t&2){let n=O();Q("ngClass","menu-button-"+n.displayButton[3].position),R(2),Ar(n.displayButton[3].content)}}var pf=class t{constructor(e){this.router=e}displayButton=[{id:1,content:"Clique quand t'est pr\xEAte bg",position:25,display:!0},{id:2,content:"T'as cru \xE7a allait \xEAtre aussi simple ?",position:10,display:!1},{id:3,content:"Promis c'est le dernier",position:75,display:!1},{id:4,content:"Un petit dernier pour la route",position:20,display:!1}];displayFooter=!1;paths=new Array(7);nextButton(e){this.displayButton[e].display=!1,e<this.displayButton.length-1?this.displayButton[e+1].display=!0:this.router.navigate(["/etape"])}static \u0275fac=function(n){return new(n||t)(Ne(kr))};static \u0275cmp=kt({type:t,selectors:[["app-menu-principal"]],decls:9,vars:4,consts:[[1,"hero","is-fullheight","is-flex","is-justify-content-center","is-align-items-center"],[1,"has-text-centered"],[1,"main-title"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"click"]],template:function(n,r){n&1&&(y(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),D(4,"A Raposa Aventura"),x()(),je(5,AL,3,2,"div",3)(6,ML,3,2,"div",3)(7,NL,3,2,"div",3)(8,OL,3,2,"div",3),x()()),n&2&&(R(5),Q("ngIf",r.displayButton[0].display==!0),R(),Q("ngIf",r.displayButton[1].display==!0),R(),Q("ngIf",r.displayButton[2].display==!0),R(),Q("ngIf",r.displayButton[3].display==!0))},dependencies:[Fo,Ug,vc],styles:['@charset "UTF-8";.menu-footer[_ngcontent-%COMP%]{position:fixed;bottom:75%;left:50%;transform:translate(-50%);text-align:center;width:max-content;font-size:16px}.menu-button-25[_ngcontent-%COMP%]{position:fixed;bottom:25%;left:50%;transform:translate(-50%);text-align:center;width:max-content}.menu-button-75[_ngcontent-%COMP%]{position:fixed;bottom:75%;left:50%;transform:translate(-50%);text-align:center;width:max-content}.menu-button-10[_ngcontent-%COMP%]{position:fixed;bottom:10%;left:50%;transform:translate(-50%);text-align:center;width:max-content}.menu-button-20[_ngcontent-%COMP%]{position:fixed;bottom:20%;left:50%;transform:translate(-50%);text-align:center;width:max-content}']})};var aD=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(Ne(Cs),Ne(Ei))};static \u0275dir=$t({type:t})}return t})(),RL=(()=>{class t extends aD{static \u0275fac=(()=>{let n;return function(o){return(n||(n=Ao(t)))(o||t)}})();static \u0275dir=$t({type:t,features:[so]})}return t})(),cD=new K("");var kL={provide:cD,useExisting:Xr(()=>vf),multi:!0};function FL(){let t=$n()?$n().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var PL=new K(""),vf=(()=>{class t extends aD{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!FL())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(Ne(Cs),Ne(Ei),Ne(PL,8))};static \u0275dir=$t({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&re("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[Ts([kL]),so]})}return t})();function LL(t){return t==null||uD(t)===0}function uD(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var O_=new K(""),VL=new K("");function jL(t){return e=>{let n=e.value?.length??uD(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function BL(t){if(!t)return S_;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(LL(r.value))return null;let o=r.value;return e.test(o)?null:{pattern:{requiredPattern:n,actualValue:o}}}}function S_(t){return null}function lD(t){return t!=null}function dD(t){return Mo(t)?rt(t):t}function fD(t){let e={};return t.forEach(n=>{e=n!=null?v(v({},e),n):e}),Object.keys(e).length===0?null:e}function pD(t,e){return e.map(n=>n(t))}function UL(t){return!t.validate}function hD(t){return t.map(e=>UL(e)?e:n=>e.validate(n))}function qL(t){if(!t)return null;let e=t.filter(lD);return e.length==0?null:function(n){return fD(pD(n,e))}}function mD(t){return t!=null?qL(hD(t)):null}function HL(t){if(!t)return null;let e=t.filter(lD);return e.length==0?null:function(n){let r=pD(n,e).map(dD);return Lp(r).pipe(ve(fD))}}function gD(t){return t!=null?HL(hD(t)):null}function eD(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function $L(t){return t._rawValidators}function WL(t){return t._rawAsyncValidators}function I_(t){return t?Array.isArray(t)?t:[t]:[]}function mf(t,e){return Array.isArray(t)?t.includes(e):t===e}function tD(t,e){let n=I_(e);return I_(t).forEach(o=>{mf(n,o)||n.push(o)}),n}function nD(t,e){return I_(e).filter(n=>!mf(t,n))}var gf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},A_=class extends gf{name;get formDirective(){return null}get path(){return null}},Yc=class extends gf{_parent=null;name=null;valueAccessor=null},M_=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},GL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},qQ=V(v({},GL),{"[class.ng-submitted]":"isSubmitted"}),_D=(()=>{class t extends M_{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Ne(Yc,2))};static \u0275dir=$t({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Oo("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[so]})}return t})();var Wc="VALID",hf="INVALID",qs="PENDING",Gc="DISABLED",$s=class{},_f=class extends $s{value;source;constructor(e,n){super(),this.value=e,this.source=n}},zc=class extends $s{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Zc=class extends $s{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Hs=class extends $s{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function zL(t){return(yf(t)?t.validators:t)||null}function ZL(t){return Array.isArray(t)?mD(t):t||null}function YL(t,e){return(yf(e)?e.asyncValidators:t)||null}function QL(t){return Array.isArray(t)?gD(t):t||null}function yf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var N_=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Mr(this.statusReactive)}set status(e){Mr(()=>this.statusReactive.set(e))}_status=Ss(()=>this.statusReactive());statusReactive=So(void 0);get valid(){return this.status===Wc}get invalid(){return this.status===hf}get pending(){return this.status==qs}get disabled(){return this.status===Gc}get enabled(){return this.status!==Gc}errors;get pristine(){return Mr(this.pristineReactive)}set pristine(e){Mr(()=>this.pristineReactive.set(e))}_pristine=Ss(()=>this.pristineReactive());pristineReactive=So(!0);get dirty(){return!this.pristine}get touched(){return Mr(this.touchedReactive)}set touched(e){Mr(()=>this.touchedReactive.set(e))}_touched=Ss(()=>this.touchedReactive());touchedReactive=So(!1);get untouched(){return!this.touched}_events=new et;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(tD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(tD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(nD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(nD(e,this._rawAsyncValidators))}hasValidator(e){return mf(this._rawValidators,e)}hasAsyncValidator(e){return mf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(V(v({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Zc(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Zc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(V(v({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new zc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new zc(!0,r))}markAsPending(e={}){this.status=qs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Hs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(V(v({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Gc,this.errors=null,this._forEachChild(o=>{o.disable(V(v({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _f(this.value,r)),this._events.next(new Hs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(V(v({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Wc,this._forEachChild(r=>{r.enable(V(v({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(V(v({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wc||this.status===qs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _f(this.value,n)),this._events.next(new Hs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(V(v({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gc:Wc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=qs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=dD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Hs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new it,this.statusChanges=new it}_calculateStatus(){return this._allControlsDisabled()?Gc:this.errors?hf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qs)?qs:this._anyControlsHaveStatus(hf)?hf:Wc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),o&&this._events.next(new zc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Zc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=ZL(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=QL(this._rawAsyncValidators)}};var vD=new K("",{providedIn:"root",factory:()=>R_}),R_="always";function XL(t,e){return[...e.path,t]}function KL(t,e,n=R_){eV(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),tV(t,e),rV(t,e),nV(t,e),JL(t,e)}function rD(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function JL(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function eV(t,e){let n=$L(t);e.validator!==null?t.setValidators(eD(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=WL(t);e.asyncValidator!==null?t.setAsyncValidators(eD(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let o=()=>t.updateValueAndValidity();rD(e._rawValidators,o),rD(e._rawAsyncValidators,o)}function tV(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&yD(t,e)})}function nV(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&yD(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function yD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function rV(t,e){let n=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function oV(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function iV(t){return Object.getPrototypeOf(t.constructor)===RL}function sV(t,e){if(!e)return null;Array.isArray(e);let n,r,o;return e.forEach(i=>{i.constructor===vf?n=i:iV(i)?r=i:o=i}),o||r||n||null}function oD(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function iD(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var aV=class extends N_{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(zL(n),YL(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(iD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){oD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){oD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){iD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var cV={provide:Yc,useExisting:Xr(()=>k_)},sD=Promise.resolve(),k_=(()=>{class t extends Yc{_changeDetectorRef;callSetDisabledState;control=new aV;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new it;constructor(n,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=sV(this,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),oV(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){KL(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){sD.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&Lg(r);sD.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?XL(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(Ne(A_,9),Ne(O_,10),Ne(VL,10),Ne(cD,10),Ne(gc,8),Ne(vD,8))};static \u0275dir=$t({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ts([cV]),so,xi]})}return t})();function uV(t){return typeof t=="number"?t:parseInt(t,10)}var xD=(()=>{class t{_validator=S_;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):S_,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=$t({type:t,features:[xi]})}return t})();var lV={provide:O_,useExisting:Xr(()=>F_),multi:!0},F_=(()=>{class t extends xD{maxlength;inputName="maxlength";normalizeInput=n=>uV(n);createValidator=n=>jL(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=Ao(t)))(o||t)}})();static \u0275dir=$t({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&pc("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Ts([lV]),so]})}return t})(),dV={provide:O_,useExisting:Xr(()=>P_),multi:!0},P_=(()=>{class t extends xD{pattern;inputName="pattern";normalizeInput=n=>n;createValidator=n=>BL(n);static \u0275fac=(()=>{let n;return function(o){return(n||(n=Ao(t)))(o||t)}})();static \u0275dir=$t({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&pc("pattern",o._enabled?o.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[Ts([dV]),so]})}return t})();var fV=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=io({type:t});static \u0275inj=wr({})}return t})();var ED=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:vD,useValue:n.callSetDisabledState??R_}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=io({type:t});static \u0275inj=wr({imports:[fV]})}return t})();var Qc="15.1.22";var hn=Rv(j_());var PD=()=>new DOMException("","AbortError");var LD=t=>(e,n,[r,o,i],s)=>{t(e[o],[n,r,i],a=>a[0]===n&&a[1]===r,s)};var VD=t=>(e,n,r)=>{let o=[];for(let i=0;i<r.numberOfInputs;i+=1)o.push(new Set);t.set(e,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:n})};var jD=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})};var Fr=new WeakSet,Ef=new WeakMap,Ws=new WeakMap,wf=new WeakMap,au=new WeakMap,Gs=new WeakMap,Cf=new WeakMap,cu=new WeakMap,uu=new WeakMap,lu=new WeakMap;var BD={construct(){return BD}},UD=t=>{try{let e=new Proxy(t,BD);new e}catch{return!1}return!0};var qD=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,B_=(t,e)=>{let n=[],r=t.replace(/^[\s]+/,""),o=r.match(qD);for(;o!==null;){let i=o[1].slice(1,-1),s=o[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(s),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(qD)}return[n.join(";"),r]};var HD=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},$D=t=>{if(!UD(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},WD=(t,e,n,r,o,i,s,a,c,u,l,d,p)=>{let f=0;return(h,g,m={credentials:"omit"})=>{let _=l.get(h);if(_!==void 0&&_.has(g))return Promise.resolve();let N=u.get(h);if(N!==void 0){let S=N.get(g);if(S!==void 0)return S}let k=i(h),U=k.audioWorklet===void 0?o(g).then(([S,b])=>{let[E,w]=B_(S,b),H=`${E};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${w}
})})(window,'_AWGS')`;return n(H)}).then(()=>{let S=p._AWGS.pop();if(S===void 0)throw new SyntaxError;r(k.currentTime,k.sampleRate,()=>S(class{},void 0,(b,E)=>{if(b.trim()==="")throw e();let w=uu.get(k);if(w!==void 0){if(w.has(b))throw e();$D(E),HD(E.parameterDescriptors),w.set(b,E)}else $D(E),HD(E.parameterDescriptors),uu.set(k,new Map([[b,E]]))},k.sampleRate,void 0,void 0))}):Promise.all([o(g),Promise.resolve(t(d,d))]).then(([[S,b],E])=>{let w=f+1;f=w;let[H,ee]=B_(S,b),A=`${H};((AudioWorkletProcessor,registerProcessor)=>{${ee}
})(${E?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${E?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${E?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${w}',class extends AudioWorkletProcessor{process(){return !1}})`,T=new Blob([A],{type:"application/javascript; charset=utf-8"}),I=URL.createObjectURL(T);return k.audioWorklet.addModule(I,m).then(()=>{if(a(k))return k;let M=s(k);return M.audioWorklet.addModule(I,m).then(()=>M)}).then(M=>{if(c===null)throw new SyntaxError;try{new c(M,`__sac${w}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(I))});return N===void 0?u.set(h,new Map([[g,U]])):N.set(g,U),U.then(()=>{let S=l.get(h);S===void 0?l.set(h,new Set([g])):S.add(g)}).finally(()=>{let S=u.get(h);S!==void 0&&S.delete(g)}),U}};var mt=(t,e)=>{let n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n};var Vo=(t,e)=>{let n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");let[r]=n;return t.delete(r),r};var Df=(t,e,n,r)=>{let o=mt(t,e),i=Vo(o,s=>s[0]===n&&s[1]===r);return o.size===0&&t.delete(e),i};var Pr=t=>mt(Cf,t);var sr=t=>{if(Fr.has(t))throw new Error("The AudioNode is already stored.");Fr.add(t),Pr(t).forEach(e=>e(!0))};var bf=t=>"port"in t;var Lr=t=>{if(!Fr.has(t))throw new Error("The AudioNode is not stored.");Fr.delete(t),Pr(t).forEach(e=>e(!1))};var du=(t,e)=>{!bf(t)&&e.every(n=>n.size===0)&&Lr(t)};var GD=(t,e,n,r,o,i,s,a,c,u,l,d,p)=>{let f=new WeakMap;return(h,g,m,_,N)=>{let{activeInputs:k,passiveInputs:U}=i(g),{outputs:S}=i(h),b=a(h),E=w=>{let H=c(g),ee=c(h);if(w){let B=Df(U,h,m,_);t(k,h,B,!1),!N&&!d(h)&&n(ee,H,m,_),p(g)&&sr(g)}else{let B=r(k,h,m,_);e(U,_,B,!1),!N&&!d(h)&&o(ee,H,m,_);let j=s(g);if(j===0)l(g)&&du(g,k);else{let te=f.get(g);te!==void 0&&clearTimeout(te),f.set(g,setTimeout(()=>{l(g)&&du(g,k)},j*1e3))}}};return u(S,[g,m,_],w=>w[0]===g&&w[1]===m&&w[2]===_,!0)?(b.add(E),l(h)?t(k,h,[m,_,E],!0):e(U,_,[h,m,E],!0),!0):!1}};var zD=t=>(e,n,[r,o,i],s)=>{let a=e.get(r);a===void 0?e.set(r,new Set([[o,n,i]])):t(a,[o,n,i],c=>c[0]===o&&c[1]===n,s)};var ZD=t=>(e,n)=>{let r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);let o=()=>{n.removeEventListener("ended",o),n.disconnect(r),r.disconnect()};n.addEventListener("ended",o)};var YD=t=>(e,n)=>{t(e).add(n)};var NV={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},QD=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let u=o(a),l=v(v({},NV),c),d=r(u,l),p=i(u)?e():null;super(a,!1,d,p),this._nativeAnalyserNode=d}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){let c=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=c,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){let c=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=c,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}};var Oe=(t,e)=>t.context===e;var XD=(t,e,n)=>()=>{let r=new WeakMap,o=async(i,s)=>{let a=e(i);if(!Oe(a,s)){let u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(s,u)}return r.set(s,a),await n(i,s,a),a};return{render(i,s){let a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}};var zs=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0};var Wn=()=>new DOMException("","IndexSizeError");var Zs=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?Wn():r}})(t.getChannelData)};var OV={numberOfChannels:1},KD=(t,e,n,r,o,i,s,a)=>{let c=null;return class JD{constructor(l){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");let{length:d,numberOfChannels:p,sampleRate:f}=v(v({},OV),l);c===null&&(c=new o(1,1,44100));let h=r!==null&&e(i,i)?new r({length:d,numberOfChannels:p,sampleRate:f}):c.createBuffer(p,d,f);if(h.numberOfChannels===0)throw n();return typeof h.copyFromChannel!="function"?(s(h),Zs(h)):e(zs,()=>zs(h))||a(h),t.add(h),h}static[Symbol.hasInstance](l){return l!==null&&typeof l=="object"&&Object.getPrototypeOf(l)===JD.prototype||t.has(l)}}};var st=-34028234663852886e22,ot=-st;var en=t=>Fr.has(t);var RV={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},eb=(t,e,n,r,o,i,s,a)=>class extends t{constructor(u,l){let d=i(u),p=v(v({},RV),l),f=o(d,p),h=s(d),g=h?e():null;super(u,!1,f,g),this._audioBufferSourceNodeRenderer=g,this._isBufferNullified=!1,this._isBufferSet=p.buffer!==null,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=n(this,h,f.playbackRate,ot,st)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){let l=typeof u=="function"?a(this,u):null;this._nativeAudioBufferSourceNode.onended=l;let d=this._nativeAudioBufferSourceNode.onended;this._onended=d!==null&&d===l?u:d}get playbackRate(){return this._playbackRate}start(u=0,l=0,d){if(this._nativeAudioBufferSourceNode.start(u,l,d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=d===void 0?[u,l]:[u,l,d]),this.context.state!=="closed"){sr(this);let p=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",p),en(this)&&Lr(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",p)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}};var tb=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=null,a=null,c=async(u,l)=>{let d=n(u),p=Oe(d,l);if(!p){let f={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=e(l,f),s!==null&&d.start(...s),a!==null&&d.stop(a)}return i.set(l,d),p?await t(l,u.playbackRate,d.playbackRate):await r(l,u.playbackRate,d.playbackRate),await o(u,l,d),d};return{set start(u){s=u},set stop(u){a=u},render(u,l){let d=i.get(l);return d!==void 0?Promise.resolve(d):c(u,l)}}};var nb=t=>"playbackRate"in t;var rb=t=>"frequency"in t&&"gain"in t;var ob=t=>"offset"in t;var ib=t=>!("frequency"in t)&&"gain"in t;var sb=t=>"detune"in t&&"frequency"in t&&!("gain"in t);var ab=t=>"pan"in t;var Dt=t=>mt(Ef,t);var jo=t=>mt(wf,t);var Tf=(t,e)=>{let{activeInputs:n}=Dt(t);n.forEach(o=>o.forEach(([i])=>{e.includes(t)||Tf(i,[...e,t])}));let r=nb(t)?[t.playbackRate]:bf(t)?Array.from(t.parameters.values()):rb(t)?[t.Q,t.detune,t.frequency,t.gain]:ob(t)?[t.offset]:ib(t)?[t.gain]:sb(t)?[t.detune,t.frequency]:ab(t)?[t.pan]:[];for(let o of r){let i=jo(o);i!==void 0&&i.activeInputs.forEach(([s])=>Tf(s,e))}en(t)&&Lr(t)};var Bo=t=>{Tf(t.destination,[])};var Sf=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback");var cb=(t,e,n,r,o,i,s,a,c)=>class extends t{constructor(l={}){if(c===null)throw new Error("Missing the native AudioContext constructor.");let d;try{d=new c(l)}catch(h){throw h.code===12&&h.message==="sampleRate is not in range"?n():h}if(d===null)throw r();if(!Sf(l.latencyHint))throw new TypeError(`The provided value '${l.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(l.sampleRate!==void 0&&d.sampleRate!==l.sampleRate)throw n();super(d,2);let{latencyHint:p}=l,{sampleRate:f}=d;if(this._baseLatency=typeof d.baseLatency=="number"?d.baseLatency:p==="balanced"?512/f:p==="interactive"||p===void 0?256/f:p==="playback"?1024/f:Math.max(2,Math.min(128,Math.round(p*f/128)))*128/f,this._nativeAudioContext=d,c.name==="webkitAudioContext"?(this._nativeGainNode=d.createGain(),this._nativeOscillatorNode=d.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(d.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,d.state==="running"){this._state="suspended";let h=()=>{this._state==="suspended"&&(this._state=null),d.removeEventListener("statechange",h)};d.addEventListener("statechange",h)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Bo(this)}))}createMediaElementSource(l){return new o(this,{mediaElement:l})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(l){return new s(this,{mediaStream:l})}createMediaStreamTrackSource(l){return new a(this,{mediaStreamTrack:l})}resume(){return this._state==="suspended"?new Promise((l,d)=>{let p=()=>{this._nativeAudioContext.removeEventListener("statechange",p),this._nativeAudioContext.state==="running"?l():this.resume().then(l,d)};this._nativeAudioContext.addEventListener("statechange",p)}):this._nativeAudioContext.resume().catch(l=>{throw l===void 0||l.code===15?e():l})}suspend(){return this._nativeAudioContext.suspend().catch(l=>{throw l===void 0?e():l})}};var ub=(t,e,n,r,o,i,s,a)=>class extends t{constructor(u,l){let d=i(u),p=s(d),f=o(d,l,p),h=p?e(a):null;super(u,!1,f,h),this._isNodeOfNativeOfflineAudioContext=p,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}};var lb=t=>{let e=new WeakMap,n=async(r,o)=>{let i=o.destination;return e.set(o,i),await t(r,o,i),i};return{render(r,o){let i=e.get(o);return i!==void 0?Promise.resolve(i):n(r,o)}}};var db=(t,e,n,r,o,i,s,a)=>(c,u)=>{let l=u.listener,d=()=>{let S=new Float32Array(1),b=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),E=s(u),w=!1,H=[0,0,-1,0,1,0],ee=[0,0,0],B=()=>{if(w)return;w=!0;let T=r(u,256,9,0);T.onaudioprocess=({inputBuffer:I})=>{let M=[i(I,S,0),i(I,S,1),i(I,S,2),i(I,S,3),i(I,S,4),i(I,S,5)];M.some((q,L)=>q!==H[L])&&(l.setOrientation(...M),H=M);let W=[i(I,S,6),i(I,S,7),i(I,S,8)];W.some((q,L)=>q!==ee[L])&&(l.setPosition(...W),ee=W)},b.connect(T)},j=T=>I=>{I!==H[T]&&(H[T]=I,l.setOrientation(...H))},te=T=>I=>{I!==ee[T]&&(ee[T]=I,l.setPosition(...ee))},A=(T,I,M)=>{let W=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:I});W.connect(b,0,T),W.start(),Object.defineProperty(W.offset,"defaultValue",{get(){return I}});let q=t({context:c},E,W.offset,ot,st);return a(q,"value",L=>()=>L.call(q),L=>we=>{try{L.call(q,we)}catch(Me){if(Me.code!==9)throw Me}B(),E&&M(we)}),q.cancelAndHoldAtTime=(L=>E?()=>{throw o()}:(...we)=>{let Me=L.apply(q,we);return B(),Me})(q.cancelAndHoldAtTime),q.cancelScheduledValues=(L=>E?()=>{throw o()}:(...we)=>{let Me=L.apply(q,we);return B(),Me})(q.cancelScheduledValues),q.exponentialRampToValueAtTime=(L=>E?()=>{throw o()}:(...we)=>{let Me=L.apply(q,we);return B(),Me})(q.exponentialRampToValueAtTime),q.linearRampToValueAtTime=(L=>E?()=>{throw o()}:(...we)=>{let Me=L.apply(q,we);return B(),Me})(q.linearRampToValueAtTime),q.setTargetAtTime=(L=>E?()=>{throw o()}:(...we)=>{let Me=L.apply(q,we);return B(),Me})(q.setTargetAtTime),q.setValueAtTime=(L=>E?()=>{throw o()}:(...we)=>{let Me=L.apply(q,we);return B(),Me})(q.setValueAtTime),q.setValueCurveAtTime=(L=>E?()=>{throw o()}:(...we)=>{let Me=L.apply(q,we);return B(),Me})(q.setValueCurveAtTime),q};return{forwardX:A(0,0,j(0)),forwardY:A(1,0,j(1)),forwardZ:A(2,-1,j(2)),positionX:A(6,0,te(0)),positionY:A(7,0,te(1)),positionZ:A(8,0,te(2)),upX:A(3,0,j(3)),upY:A(4,1,j(4)),upZ:A(5,0,j(5))}},{forwardX:p,forwardY:f,forwardZ:h,positionX:g,positionY:m,positionZ:_,upX:N,upY:k,upZ:U}=l.forwardX===void 0?d():l;return{get forwardX(){return p},get forwardY(){return f},get forwardZ(){return h},get positionX(){return g},get positionY(){return m},get positionZ(){return _},get upX(){return N},get upY(){return k},get upZ(){return U}}};var Oi=t=>"context"in t;var Uo=t=>Oi(t[0]);var ar=(t,e,n,r)=>{for(let o of t)if(n(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0};var U_=(t,e,[n,r],o)=>{ar(t,[e,n,r],i=>i[0]===e&&i[1]===n,o)};var q_=(t,[e,n,r],o)=>{let i=t.get(e);i===void 0?t.set(e,new Set([[n,r]])):ar(i,[n,r],s=>s[0]===n,o)};var Gn=t=>"inputs"in t;var Ys=(t,e,n,r)=>{if(Gn(e)){let o=e.inputs[r];return t.connect(o,n,0),[o,n,0]}return t.connect(e,n,r),[e,n,r]};var H_=(t,e,n)=>{for(let r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null};var fb=(t,e,n)=>Vo(t,r=>r[0]===e&&r[1]===n);var $_=(t,e)=>{if(!Pr(t).delete(e))throw new Error("Missing the expected event listener.")};var W_=(t,e,n)=>{let r=mt(t,e),o=Vo(r,i=>i[0]===n);return r.size===0&&t.delete(e),o};var Qs=(t,e,n,r)=>{Gn(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)};var He=t=>mt(Ws,t);var Ri=t=>mt(au,t);var fo=t=>cu.has(t);var Xs=t=>!Fr.has(t);var G_=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{let r=t.createScriptProcessor(256,1,1),o=t.createGain(),i=t.createBuffer(1,2,44100),s=i.getChannelData(0);s[0]=1,s[1]=1;let a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(r).connect(t.destination),a.connect(o),a.disconnect(o),r.onaudioprocess=c=>{let u=c.inputBuffer.getChannelData(0);Array.prototype.some.call(u,l=>l===1)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(t.destination)},a.start()}});var If=(t,e)=>{let n=new Map;for(let r of t)for(let o of r){let i=n.get(o);n.set(o,i===void 0?1:i+1)}n.forEach((r,o)=>e(o,r))};var ki=t=>"context"in t;var pb=t=>{let e=new Map;t.connect=(n=>(r,o=0,i=0)=>{let s=ki(r)?n(r,o,i):n(r,o),a=e.get(r);return a===void 0?e.set(r,[{input:i,output:o}]):a.every(c=>c.input!==i||c.output!==o)&&a.push({input:i,output:o}),s})(t.connect.bind(t)),t.disconnect=(n=>(r,o,i)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(let[s,a]of e){let c=a.filter(u=>u.output!==r);c.length===0?e.delete(s):e.set(s,c)}else if(e.has(r))if(o===void 0)e.delete(r);else{let s=e.get(r);if(s!==void 0){let a=s.filter(c=>c.output!==o&&(c.input!==i||i===void 0));a.length===0?e.delete(r):e.set(r,a)}}for(let[s,a]of e)a.forEach(c=>{ki(s)?t.connect(s,c.output,c.input):t.connect(s,c.output)})})(t.disconnect)};var kV=(t,e,n,r)=>{let{activeInputs:o,passiveInputs:i}=jo(e),{outputs:s}=Dt(t),a=Pr(t),c=u=>{let l=He(t),d=Ri(e);if(u){let p=W_(i,t,n);U_(o,t,p,!1),!r&&!fo(t)&&l.connect(d,n)}else{let p=fb(o,t,n);q_(i,p,!1),!r&&!fo(t)&&l.disconnect(d,n)}};return ar(s,[e,n],u=>u[0]===e&&u[1]===n,!0)?(a.add(c),en(t)?U_(o,t,[n,c],!0):q_(i,[t,n,c],!0),!0):!1},FV=(t,e,n,r)=>{let{activeInputs:o,passiveInputs:i}=Dt(e),s=H_(o[r],t,n);return s===null?[Df(i,t,n,r)[2],!1]:[s[2],!0]},PV=(t,e,n)=>{let{activeInputs:r,passiveInputs:o}=jo(e),i=H_(r,t,n);return i===null?[W_(o,t,n)[1],!1]:[i[2],!0]},z_=(t,e,n,r,o)=>{let[i,s]=FV(t,n,r,o);if(i!==null&&($_(t,i),s&&!e&&!fo(t)&&Qs(He(t),He(n),r,o)),en(n)){let{activeInputs:a}=Dt(n);du(n,a)}},Z_=(t,e,n,r)=>{let[o,i]=PV(t,n,r);o!==null&&($_(t,o),i&&!e&&!fo(t)&&He(t).disconnect(Ri(n),r))},LV=(t,e)=>{let n=Dt(t),r=[];for(let o of n.outputs)Uo(o)?z_(t,e,...o):Z_(t,e,...o),r.push(o[0]);return n.outputs.clear(),r},VV=(t,e,n)=>{let r=Dt(t),o=[];for(let i of r.outputs)i[1]===n&&(Uo(i)?z_(t,e,...i):Z_(t,e,...i),o.push(i[0]),r.outputs.delete(i));return o},jV=(t,e,n,r,o)=>{let i=Dt(t);return Array.from(i.outputs).filter(s=>s[0]===n&&(r===void 0||s[1]===r)&&(o===void 0||s[2]===o)).map(s=>(Uo(s)?z_(t,e,...s):Z_(t,e,...s),i.outputs.delete(s),s[0]))},hb=(t,e,n,r,o,i,s,a,c,u,l,d,p,f,h,g)=>class extends u{constructor(_,N,k,U){super(k),this._context=_,this._nativeAudioNode=k;let S=l(_);d(S)&&n(G_,()=>G_(S,g))!==!0&&pb(k),Ws.set(this,k),Cf.set(this,new Set),_.state!=="closed"&&N&&sr(this),t(this,U,k)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(_){this._nativeAudioNode.channelCount=_}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(_){this._nativeAudioNode.channelCountMode=_}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(_){this._nativeAudioNode.channelInterpretation=_}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(_,N=0,k=0){if(N<0||N>=this._nativeAudioNode.numberOfOutputs)throw o();let U=l(this._context),S=h(U);if(p(_)||f(_))throw i();if(Oi(_)){let w=He(_);try{let ee=Ys(this._nativeAudioNode,w,N,k),B=Xs(this);(S||B)&&this._nativeAudioNode.disconnect(...ee),this.context.state!=="closed"&&!B&&Xs(_)&&sr(_)}catch(ee){throw ee.code===12?i():ee}if(e(this,_,N,k,S)){let ee=c([this],_);If(ee,r(S))}return _}let b=Ri(_);if(b.name==="playbackRate"&&b.maxValue===1024)throw s();try{this._nativeAudioNode.connect(b,N),(S||Xs(this))&&this._nativeAudioNode.disconnect(b,N)}catch(w){throw w.code===12?i():w}if(kV(this,_,N,S)){let w=c([this],_);If(w,r(S))}}disconnect(_,N,k){let U,S=l(this._context),b=h(S);if(_===void 0)U=LV(this,b);else if(typeof _=="number"){if(_<0||_>=this.numberOfOutputs)throw o();U=VV(this,b,_)}else{if(N!==void 0&&(N<0||N>=this.numberOfOutputs)||Oi(_)&&k!==void 0&&(k<0||k>=_.numberOfInputs))throw o();if(U=jV(this,b,_,N,k),U.length===0)throw i()}for(let E of U){let w=c([this],E);If(w,a)}}};var mb=Rv(j_()),gb=(t,e,n,r,o,i,s,a,c,u,l,d,p)=>(f,h,g,m=null,_=null)=>{let N=g.value,k=new mb.AutomationEventList(N),U=h?r(k):null,S={get defaultValue(){return N},get maxValue(){return m===null?g.maxValue:m},get minValue(){return _===null?g.minValue:_},get value(){return g.value},set value(b){g.value=b,S.setValueAtTime(b,f.context.currentTime)},cancelAndHoldAtTime(b){if(typeof g.cancelAndHoldAtTime=="function")U===null&&k.flush(f.context.currentTime),k.add(o(b)),g.cancelAndHoldAtTime(b);else{let E=Array.from(k).pop();U===null&&k.flush(f.context.currentTime),k.add(o(b));let w=Array.from(k).pop();g.cancelScheduledValues(b),E!==w&&w!==void 0&&(w.type==="exponentialRampToValue"?g.exponentialRampToValueAtTime(w.value,w.endTime):w.type==="linearRampToValue"?g.linearRampToValueAtTime(w.value,w.endTime):w.type==="setValue"?g.setValueAtTime(w.value,w.startTime):w.type==="setValueCurve"&&g.setValueCurveAtTime(w.values,w.startTime,w.duration))}return S},cancelScheduledValues(b){return U===null&&k.flush(f.context.currentTime),k.add(i(b)),g.cancelScheduledValues(b),S},exponentialRampToValueAtTime(b,E){if(b===0)throw new RangeError;if(!Number.isFinite(E)||E<0)throw new RangeError;let w=f.context.currentTime;return U===null&&k.flush(w),Array.from(k).length===0&&(k.add(u(N,w)),g.setValueAtTime(N,w)),k.add(s(b,E)),g.exponentialRampToValueAtTime(b,E),S},linearRampToValueAtTime(b,E){let w=f.context.currentTime;return U===null&&k.flush(w),Array.from(k).length===0&&(k.add(u(N,w)),g.setValueAtTime(N,w)),k.add(a(b,E)),g.linearRampToValueAtTime(b,E),S},setTargetAtTime(b,E,w){return U===null&&k.flush(f.context.currentTime),k.add(c(b,E,w)),g.setTargetAtTime(b,E,w),S},setValueAtTime(b,E){return U===null&&k.flush(f.context.currentTime),k.add(u(b,E)),g.setValueAtTime(b,E),S},setValueCurveAtTime(b,E,w){let H=b instanceof Float32Array?b:new Float32Array(b);if(d!==null&&d.name==="webkitAudioContext"){let ee=E+w,B=f.context.sampleRate,j=Math.ceil(E*B),te=Math.floor(ee*B),A=te-j,T=new Float32Array(A);for(let M=0;M<A;M+=1){let W=(H.length-1)/w*((j+M)/B-E),q=Math.floor(W),L=Math.ceil(W);T[M]=q===L?H[q]:(1-(W-q))*H[q]+(1-(L-W))*H[L]}U===null&&k.flush(f.context.currentTime),k.add(l(T,E,w)),g.setValueCurveAtTime(T,E,w);let I=te/B;I<ee&&p(S,T[T.length-1],I),p(S,H[H.length-1],ee)}else U===null&&k.flush(f.context.currentTime),k.add(l(H,E,w)),g.setValueCurveAtTime(H,E,w);return S}};return n.set(S,g),e.set(S,f),t(S,U),S};var _b=t=>({replay(e){for(let n of t)if(n.type==="exponentialRampToValue"){let{endTime:r,value:o}=n;e.exponentialRampToValueAtTime(o,r)}else if(n.type==="linearRampToValue"){let{endTime:r,value:o}=n;e.linearRampToValueAtTime(o,r)}else if(n.type==="setTarget"){let{startTime:r,target:o,timeConstant:i}=n;e.setTargetAtTime(o,r,i)}else if(n.type==="setValue"){let{startTime:r,value:o}=n;e.setValueAtTime(o,r)}else if(n.type==="setValueCurve"){let{duration:r,startTime:o,values:i}=n;e.setValueCurveAtTime(i,o,r)}else throw new Error("Can't apply an unknown automation.")}});var Ks=class{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,o)=>e.call(n,r,o,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}};var BV={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},vb=(t,e,n,r,o,i,s,a,c,u,l,d,p,f)=>class extends e{constructor(g,m,_){var N;let k=a(g),U=c(k),S=l(v(v({},BV),_));p(S);let b=uu.get(k),E=b?.get(m),w=U||k.state!=="closed"?k:(N=s(k))!==null&&N!==void 0?N:k,H=o(w,U?null:g.baseLatency,u,m,E,S),ee=U?r(m,S,E):null;super(g,!0,H,ee);let B=[];H.parameters.forEach((te,A)=>{let T=n(this,U,te);B.push([A,T])}),this._nativeAudioWorkletNode=H,this._onprocessorerror=null,this._parameters=new Ks(B),U&&t(k,this);let{activeInputs:j}=i(this);d(H,j)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(g){let m=typeof g=="function"?f(this,g):null;this._nativeAudioWorkletNode.onprocessorerror=m;let _=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=_!==null&&_===m?g:_}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Js(t,e,n,r,o){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,o);else{let i=t.getChannelData(r);if(e[n].byteLength===0)e[n]=i.slice(o,o+128);else{let s=new Float32Array(i.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(s)}}}var Af=(t,e,n,r,o)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,o):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],o)};var ea=(t,e)=>{let n=[];for(let r=0;r<t;r+=1){let o=[],i=typeof e=="number"?e:e[r];for(let s=0;s<i;s+=1)o.push(new Float32Array(128));n.push(o)}return n};var yb=(t,e)=>{let n=mt(lu,t),r=He(e);return mt(n,r)};var UV=async(t,e,n,r,o,i,s)=>{let a=e===null?Math.ceil(t.context.length/128)*128:e.length,c=r.channelCount*r.numberOfInputs,u=o.reduce((m,_)=>m+_,0),l=u===0?null:n.createBuffer(u,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");let d=Dt(t),p=await yb(n,t),f=ea(r.numberOfInputs,r.channelCount),h=ea(r.numberOfOutputs,o),g=Array.from(t.parameters.keys()).reduce((m,_)=>V(v({},m),{[_]:new Float32Array(128)}),{});for(let m=0;m<a;m+=128){if(r.numberOfInputs>0&&e!==null)for(let _=0;_<r.numberOfInputs;_+=1)for(let N=0;N<r.channelCount;N+=1)Js(e,f[_],N,N,m);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:_},N)=>{Js(e,g,_,c+N,m)});for(let _=0;_<r.numberOfInputs;_+=1)for(let N=0;N<o[_];N+=1)h[_][N].byteLength===0&&(h[_][N]=new Float32Array(128));try{let _=f.map((k,U)=>d.activeInputs[U].size===0?[]:k),N=s(m/n.sampleRate,n.sampleRate,()=>p.process(_,h,g));if(l!==null)for(let k=0,U=0;k<r.numberOfOutputs;k+=1){for(let S=0;S<o[k];S+=1)Af(l,h[k],S,U+S,m);U+=o[k]}if(!N)break}catch(_){t.dispatchEvent(new ErrorEvent("processorerror",{colno:_.colno,filename:_.filename,lineno:_.lineno,message:_.message}));break}}return l},xb=(t,e,n,r,o,i,s,a,c,u,l,d,p,f,h,g)=>(m,_,N)=>{let k=new WeakMap,U=null,S=async(b,E)=>{let w=l(b),H=null,ee=Oe(w,E),B=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(d===null){let j=B.reduce((I,M)=>I+M,0),te=o(E,{channelCount:Math.max(1,j),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,j)}),A=[];for(let I=0;I<b.numberOfOutputs;I+=1)A.push(r(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:B[I]}));let T=s(E,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1});T.connect=e.bind(null,A),T.disconnect=c.bind(null,A),H=[te,A,T]}else ee||(w=new d(E,m));if(k.set(E,H===null?w:H[2]),H!==null){if(U===null){if(N===void 0)throw new Error("Missing the processor constructor.");if(p===null)throw new Error("Missing the native OfflineAudioContext constructor.");let M=b.channelCount*b.numberOfInputs,W=N.parameterDescriptors===void 0?0:N.parameterDescriptors.length,q=M+W;U=UV(b,q===0?null:await(async()=>{let we=new p(q,Math.ceil(b.context.length/128)*128,E.sampleRate),Me=[],We=[];for(let Ie=0;Ie<_.numberOfInputs;Ie+=1)Me.push(s(we,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),We.push(o(we,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));let Mt=await Promise.all(Array.from(b.parameters.values()).map(async Ie=>{let ue=i(we,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Ie.value});return await f(we,Ie,ue.offset),ue})),xt=r(we,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,M+W)});for(let Ie=0;Ie<_.numberOfInputs;Ie+=1){Me[Ie].connect(We[Ie]);for(let ue=0;ue<_.channelCount;ue+=1)We[Ie].connect(xt,ue,Ie*_.channelCount+ue)}for(let[Ie,ue]of Mt.entries())ue.connect(xt,0,M+Ie),ue.start(0);return xt.connect(we.destination),await Promise.all(Me.map(Ie=>h(b,we,Ie))),g(we)})(),E,_,B,N,u)}let j=await U,te=n(E,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[A,T,I]=H;j!==null&&(te.buffer=j,te.start(0)),te.connect(A);for(let M=0,W=0;M<b.numberOfOutputs;M+=1){let q=T[M];for(let L=0;L<B[M];L+=1)A.connect(q,W+L,L);W+=B[M]}return I}if(ee)for(let[j,te]of b.parameters.entries())await t(E,te,w.parameters.get(j));else for(let[j,te]of b.parameters.entries())await f(E,te,w.parameters.get(j));return await h(b,E,w),w};return{render(b,E){a(E,b);let w=k.get(E);return w!==void 0?Promise.resolve(w):S(b,E)}}};var Eb=(t,e,n,r,o,i,s,a,c,u,l,d,p,f,h,g,m,_,N,k)=>class extends h{constructor(S,b){super(S,b),this._nativeContext=S,this._audioWorklet=t===void 0?void 0:{addModule:(E,w)=>t(this,E,w)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new o(this)}createBuffer(S,b,E){return new n({length:b,numberOfChannels:S,sampleRate:E})}createBufferSource(){return new r(this)}createChannelMerger(S=6){return new i(this,{numberOfInputs:S})}createChannelSplitter(S=6){return new s(this,{numberOfOutputs:S})}createConstantSource(){return new a(this)}createConvolver(){return new c(this)}createDelay(S=1){return new l(this,{maxDelayTime:S})}createDynamicsCompressor(){return new d(this)}createGain(){return new p(this)}createIIRFilter(S,b){return new f(this,{feedback:b,feedforward:S})}createOscillator(){return new g(this)}createPanner(){return new m(this)}createPeriodicWave(S,b,E={disableNormalization:!1}){return new _(this,V(v({},E),{imag:b,real:S}))}createStereoPanner(){return new N(this)}createWaveShaper(){return new k(this)}decodeAudioData(S,b,E){return u(this._nativeContext,S).then(w=>(typeof b=="function"&&b(w),w),w=>{throw typeof E=="function"&&E(w),w})}};var qV={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},wb=(t,e,n,r,o,i,s,a)=>class extends t{constructor(u,l){let d=i(u),p=v(v({},qV),l),f=o(d,p),h=s(d),g=h?n():null;super(u,!1,f,g),this._Q=e(this,h,f.Q,ot,st),this._detune=e(this,h,f.detune,1200*Math.log2(ot),-1200*Math.log2(ot)),this._frequency=e(this,h,f.frequency,u.sampleRate/2,0),this._gain=e(this,h,f.gain,40*Math.log10(ot),st),this._nativeBiquadFilterNode=f,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,l,d){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,l,d)}catch(p){throw p.code===11?r():p}if(u.length!==l.length||l.length!==d.length)throw r()}};var Cb=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=async(a,c)=>{let u=n(a),l=Oe(u,c);if(!l){let d={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(c,d)}return i.set(c,u),l?(await t(c,a.Q,u.Q),await t(c,a.detune,u.detune),await t(c,a.frequency,u.frequency),await t(c,a.gain,u.gain)):(await r(c,a.Q,u.Q),await r(c,a.detune,u.detune),await r(c,a.frequency,u.frequency),await r(c,a.gain,u.gain)),await o(a,c,u),u};return{render(a,c){let u=i.get(c);return u!==void 0?Promise.resolve(u):s(a,c)}}};var Db=(t,e)=>(n,r)=>{let o=e.get(n);if(o!==void 0)return o;let i=t.get(n);if(i!==void 0)return i;try{let s=r();return s instanceof Promise?(t.set(n,s),s.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,s),s)}catch{return e.set(n,!1),!1}};var HV={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},bb=(t,e,n,r,o)=>class extends t{constructor(s,a){let c=r(s),u=v(v({},HV),a),l=n(c,u),d=o(c)?e():null;super(s,!1,l,d)}};var Tb=(t,e,n)=>()=>{let r=new WeakMap,o=async(i,s)=>{let a=e(i);if(!Oe(a,s)){let u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(s,u)}return r.set(s,a),await n(i,s,a),a};return{render(i,s){let a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}};var $V={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Sb=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let u=r(a),l=i(v(v({},$V),c)),d=n(u,l),p=o(u)?e():null;super(a,!1,d,p)}};var Ib=(t,e,n)=>()=>{let r=new WeakMap,o=async(i,s)=>{let a=e(i);if(!Oe(a,s)){let u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(s,u)}return r.set(s,a),await n(i,s,a),a};return{render(i,s){let a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}};var Ab=t=>(e,n,r)=>t(n,e,r);var Mb=t=>(e,n,r=0,o=0)=>{let i=e[r];if(i===void 0)throw t();return ki(n)?i.connect(n,0,o):i.connect(n,0)};var Nb=t=>(e,n)=>{let r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=e.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}};var WV={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Ob=(t,e,n,r,o,i,s)=>class extends t{constructor(c,u){let l=o(c),d=v(v({},WV),u),p=r(l,d),f=i(l),h=f?n():null;super(c,!1,p,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=p,this._offset=e(this,f,p.offset,ot,st),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(c){let u=typeof c=="function"?s(this,c):null;this._nativeConstantSourceNode.onended=u;let l=this._nativeConstantSourceNode.onended;this._onended=l!==null&&l===u?c:l}start(c=0){if(this._nativeConstantSourceNode.start(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=c),this.context.state!=="closed"){sr(this);let u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),en(this)&&Lr(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(c=0){this._nativeConstantSourceNode.stop(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=c)}};var Rb=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=null,a=null,c=async(u,l)=>{let d=n(u),p=Oe(d,l);if(!p){let f={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value};d=e(l,f),s!==null&&d.start(s),a!==null&&d.stop(a)}return i.set(l,d),p?await t(l,u.offset,d.offset):await r(l,u.offset,d.offset),await o(u,l,d),d};return{set start(u){s=u},set stop(u){a=u},render(u,l){let d=i.get(l);return d!==void 0?Promise.resolve(d):c(u,l)}}};var kb=t=>e=>(t[0]=e,t[0]);var GV={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Fb=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let u=r(a),l=v(v({},GV),c),d=n(u,l),f=o(u)?e():null;super(a,!1,d,f),this._isBufferNullified=!1,this._nativeConvolverNode=d,l.buffer!==null&&i(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){let c=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=c.createBuffer(1,1,c.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}};var Pb=(t,e,n)=>()=>{let r=new WeakMap,o=async(i,s)=>{let a=e(i);if(!Oe(a,s)){let u={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(s,u)}return r.set(s,a),Gn(a)?await n(i,s,a.inputs[0]):await n(i,s,a),a};return{render(i,s){let a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}};var Lb=(t,e)=>(n,r,o)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,o)}catch(i){throw i.name==="SyntaxError"?t():i}};var Vb=()=>new DOMException("","DataCloneError");var Y_=t=>{let{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{let o=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>o();try{e.postMessage(t,[t])}catch{}finally{o()}})};var jb=(t,e,n,r,o,i,s,a,c,u,l)=>(d,p)=>{let f=s(d)?d:i(d);if(o.has(p)){let h=n();return Promise.reject(h)}try{o.add(p)}catch{}return e(c,()=>c(f))?f.decodeAudioData(p).then(h=>(Y_(p).catch(()=>{}),e(a,()=>a(h))||l(h),t.add(h),h)):new Promise((h,g)=>{let m=async()=>{try{await Y_(p)}catch{}},_=N=>{g(N),m()};try{f.decodeAudioData(p,N=>{typeof N.copyFromChannel!="function"&&(u(N),Zs(N)),t.add(N),m().then(()=>h(N))},N=>{_(N===null?r():N)})}catch(N){_(N)}})};var Bb=(t,e,n,r,o,i,s,a)=>(c,u)=>{let l=e.get(c);if(l===void 0)throw new Error("Missing the expected cycle count.");let d=i(c.context),p=a(d);if(l===u){if(e.delete(c),!p&&s(c)){let f=r(c),{outputs:h}=n(c);for(let g of h)if(Uo(g)){let m=r(g[0]);t(f,m,g[1],g[2])}else{let m=o(g[0]);f.connect(m,g[1])}}}else e.set(c,l-u)};var zV={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Ub=(t,e,n,r,o,i,s)=>class extends t{constructor(c,u){let l=o(c),d=v(v({},zV),u),p=r(l,d),f=i(l),h=f?n(d.maxDelayTime):null;super(c,!1,p,h),this._delayTime=e(this,f,p.delayTime),s(this,d.maxDelayTime)}get delayTime(){return this._delayTime}};var qb=(t,e,n,r,o)=>i=>{let s=new WeakMap,a=async(c,u)=>{let l=n(c),d=Oe(l,u);if(!d){let p={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,delayTime:l.delayTime.value,maxDelayTime:i};l=e(u,p)}return s.set(u,l),d?await t(u,c.delayTime,l.delayTime):await r(u,c.delayTime,l.delayTime),await o(c,u,l),l};return{render(c,u){let l=s.get(u);return l!==void 0?Promise.resolve(l):a(c,u)}}};var Hb=t=>(e,n,r,o)=>t(e[o],i=>i[0]===n&&i[1]===r);var $b=t=>(e,n)=>{t(e).delete(n)};var Wb=t=>"delayTime"in t;var Gb=(t,e,n)=>function r(o,i){let s=Oi(i)?i:n(t,i);if(Wb(s))return[];if(o[0]===s)return[o];if(o.includes(s))return[];let{outputs:a}=e(s);return Array.from(a).map(c=>r([...o,s],c[0])).reduce((c,u)=>c.concat(u),[])};var Mf=(t,e,n)=>{let r=e[n];if(r===void 0)throw t();return r},zb=t=>(e,n=void 0,r=void 0,o=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?Mf(t,e,n).disconnect():ki(n)?r===void 0?e.forEach(i=>i.disconnect(n)):o===void 0?Mf(t,e,r).disconnect(n,0):Mf(t,e,r).disconnect(n,0,o):r===void 0?e.forEach(i=>i.disconnect(n)):Mf(t,e,r).disconnect(n,0);var ZV={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Zb=(t,e,n,r,o,i,s,a)=>class extends t{constructor(u,l){let d=i(u),p=v(v({},ZV),l),f=r(d,p),h=s(d),g=h?n():null;super(u,!1,f,g),this._attack=e(this,h,f.attack),this._knee=e(this,h,f.knee),this._nativeDynamicsCompressorNode=f,this._ratio=e(this,h,f.ratio),this._release=e(this,h,f.release),this._threshold=e(this,h,f.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){let l=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=l,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){let l=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=l,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}};var Yb=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=async(a,c)=>{let u=n(a),l=Oe(u,c);if(!l){let d={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(c,d)}return i.set(c,u),l?(await t(c,a.attack,u.attack),await t(c,a.knee,u.knee),await t(c,a.ratio,u.ratio),await t(c,a.release,u.release),await t(c,a.threshold,u.threshold)):(await r(c,a.attack,u.attack),await r(c,a.knee,u.knee),await r(c,a.ratio,u.ratio),await r(c,a.release,u.release),await r(c,a.threshold,u.threshold)),await o(a,c,u),u};return{render(a,c){let u=i.get(c);return u!==void 0?Promise.resolve(u):s(a,c)}}};var Qb=()=>new DOMException("","EncodingError");var Xb=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}let o=t.document.head;if(o===null)r(new SyntaxError);else{let i=t.document.createElement("script"),s=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(s),c=t.onerror,u=()=>{t.onerror=c,URL.revokeObjectURL(a)};t.onerror=(l,d,p,f,h)=>{if(d===a||d===t.location.href&&p===1&&f===1)return u(),r(h),!1;if(c!==null)return c(l,d,p,f,h)},i.onerror=()=>{u(),r(new SyntaxError)},i.onload=()=>{u(),n()},i.src=a,i.type="module",o.appendChild(i)}});var Kb=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,o){if(r!==null){let i=this._listeners.get(r);i===void 0&&(i=t(this,r),typeof r=="function"&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(n,i,o)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,o){let i=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,o)}};var Jb=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}};var eT=t=>async e=>{try{let n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()};var YV={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},tT=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let u=o(a),l=v(v({},YV),c),d=r(u,l),p=i(u),f=p?n():null;super(a,!1,d,f),this._gain=e(this,p,d.gain,ot,st)}get gain(){return this._gain}};var nT=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=async(a,c)=>{let u=n(a),l=Oe(u,c);if(!l){let d={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(c,d)}return i.set(c,u),l?await t(c,a.gain,u.gain):await r(c,a.gain,u.gain),await o(a,c,u),u};return{render(a,c){let u=i.get(c);return u!==void 0?Promise.resolve(u):s(a,c)}}};var rT=(t,e)=>n=>e(t,n);var oT=t=>e=>{let n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer};var iT=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0};var sT=t=>e=>{let n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer};var aT=t=>e=>t.get(e);var Ke=()=>new DOMException("","InvalidStateError");var cT=t=>e=>{let n=t.get(e);if(n===void 0)throw Ke();return n};var uT=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r};var lT=t=>e=>{let n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n};var ta=()=>new DOMException("","InvalidAccessError");var dT=t=>{t.getFrequencyResponse=(e=>(n,r,o)=>{if(n.length!==r.length||r.length!==o.length)throw ta();return e.call(t,n,r,o)})(t.getFrequencyResponse)};var QV={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},fT=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let u=r(a),l=o(u),d=v(v({},QV),c),p=e(u,l?null:a.baseLatency,d),f=l?n(d.feedback,d.feedforward):null;super(a,!1,p,f),dT(p),this._nativeIIRFilterNode=p,i(this,1)}getFrequencyResponse(a,c,u){return this._nativeIIRFilterNode.getFrequencyResponse(a,c,u)}};var Nf=(t,e,n,r,o,i,s,a,c,u,l)=>{let d=u.length,p=a;for(let f=0;f<d;f+=1){let h=n[0]*u[f];for(let g=1;g<o;g+=1){let m=p-g&c-1;h+=n[g]*i[m],h-=t[g]*s[m]}for(let g=o;g<r;g+=1)h+=n[g]*i[p-g&c-1];for(let g=o;g<e;g+=1)h-=t[g]*s[p-g&c-1];i[p]=u[f],s[p]=h,p=p+1&c-1,l[f]=h}return p};var XV=(t,e,n,r)=>{let o=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),s=o.length,a=i.length,c=Math.min(s,a);if(o[0]!==1){for(let h=0;h<s;h+=1)i[h]/=o[0];for(let h=1;h<a;h+=1)o[h]/=o[0]}let u=32,l=new Float32Array(u),d=new Float32Array(u),p=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),f=t.numberOfChannels;for(let h=0;h<f;h+=1){let g=t.getChannelData(h),m=p.getChannelData(h);l.fill(0),d.fill(0),Nf(o,s,i,a,c,l,d,0,u,g,m)}return p},pT=(t,e,n,r,o)=>(i,s)=>{let a=new WeakMap,c=null,u=async(l,d)=>{let p=null,f=e(l),h=Oe(f,d);if(d.createIIRFilter===void 0?p=t(d,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):h||(f=d.createIIRFilter(s,i)),a.set(d,p===null?f:p),p!==null){if(c===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");let m=new n(l.context.destination.channelCount,l.context.length,d.sampleRate);c=(async()=>{await r(l,m,m.destination);let _=await o(m);return XV(_,d,i,s)})()}let g=await c;return p.buffer=g,p.start(0),p}return await r(l,d,f),f};return{render(l,d){let p=a.get(d);return p!==void 0?Promise.resolve(p):u(l,d)}}};var hT=(t,e,n,r,o,i)=>s=>(a,c)=>{let u=t.get(a);if(u===void 0){if(!s&&i(a)){let l=r(a),{outputs:d}=n(a);for(let p of d)if(Uo(p)){let f=r(p[0]);e(l,f,p[1],p[2])}else{let f=o(p[0]);l.disconnect(f,p[1])}}t.set(a,c)}else t.set(a,u+c)};var mT=(t,e)=>n=>{let r=t.get(n);return e(r)||e(n)};var gT=(t,e)=>n=>t.has(n)||e(n);var _T=(t,e)=>n=>t.has(n)||e(n);var vT=(t,e)=>n=>{let r=t.get(n);return e(r)||e(n)};var yT=t=>e=>t!==null&&e instanceof t;var xT=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode;var ET=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam;var wT=(t,e)=>n=>t(n)||e(n);var CT=t=>e=>t!==null&&e instanceof t;var DT=t=>t!==null&&t.isSecureContext;var bT=(t,e,n,r)=>class extends t{constructor(i,s){let a=n(i),c=e(a,s);if(r(a))throw TypeError();super(i,!0,c,null),this._nativeMediaElementAudioSourceNode=c}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}};var KV={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},TT=(t,e,n,r)=>class extends t{constructor(i,s){let a=n(i);if(r(a))throw new TypeError;let c=v(v({},KV),s),u=e(a,c);super(i,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}};var ST=(t,e,n,r)=>class extends t{constructor(i,s){let a=n(i),c=e(a,s);if(r(a))throw new TypeError;super(i,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}};var IT=(t,e,n)=>class extends t{constructor(o,i){let s=n(o),a=e(s,i);super(o,!0,a,null)}};var AT=(t,e,n,r,o)=>class extends r{constructor(s={}){if(o===null)throw new Error("Missing the native AudioContext constructor.");let a;try{a=new o(s)}catch(l){throw l.code===12&&l.message==="sampleRate is not in range"?e():l}if(a===null)throw n();if(!Sf(s.latencyHint))throw new TypeError(`The provided value '${s.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(s.sampleRate!==void 0&&a.sampleRate!==s.sampleRate)throw e();super(a,2);let{latencyHint:c}=s,{sampleRate:u}=a;if(this._baseLatency=typeof a.baseLatency=="number"?a.baseLatency:c==="balanced"?512/u:c==="interactive"||c===void 0?256/u:c==="playback"?1024/u:Math.max(2,Math.min(128,Math.round(c*u/128)))*128/u,this._nativeAudioContext=a,o.name==="webkitAudioContext"?(this._nativeGainNode=a.createGain(),this._nativeOscillatorNode=a.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(a.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,a.state==="running"){this._state="suspended";let l=()=>{this._state==="suspended"&&(this._state=null),a.removeEventListener("statechange",l)};a.addEventListener("statechange",l)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Bo(this)}))}resume(){return this._state==="suspended"?new Promise((s,a)=>{let c=()=>{this._nativeAudioContext.removeEventListener("statechange",c),this._nativeAudioContext.state==="running"?s():this.resume().then(s,a)};this._nativeAudioContext.addEventListener("statechange",c)}):this._nativeAudioContext.resume().catch(s=>{throw s===void 0||s.code===15?t():s})}suspend(){return this._nativeAudioContext.suspend().catch(s=>{throw s===void 0?t():s})}};var MT=(t,e,n,r,o,i)=>class extends n{constructor(a,c){super(a),this._nativeContext=a,Gs.set(this,a),r(a)&&o.set(a,new Set),this._destination=new t(this,c),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){let c=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=c;let u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===c?a:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}};var cr=t=>{let e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{let n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1};var JV={numberOfChannels:1},NT=(t,e,n,r,o)=>class extends r{constructor(s){let{length:a,numberOfChannels:c,sampleRate:u}=v(v({},JV),s),l=n(c,a,u);t(cr,()=>cr(l))||l.addEventListener("statechange",(()=>{let d=0,p=f=>{this._state==="running"&&(d>0?(l.removeEventListener("statechange",p),f.stopImmediatePropagation(),this._waitForThePromiseToSettle(f)):d+=1)};return p})()),super(l,c),this._length=a,this._nativeOfflineAudioContext=l,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(e()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Bo(this)}))}_waitForThePromiseToSettle(s){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(s):setTimeout(()=>this._waitForThePromiseToSettle(s))}};var OT=(t,e)=>(n,r,o)=>{let i=new Set;return n.connect=(s=>(a,c=0,u=0)=>{let l=i.size===0;if(e(a))return s.call(n,a,c,u),t(i,[a,c,u],d=>d[0]===a&&d[1]===c&&d[2]===u,!0),l&&r(),a;s.call(n,a,c),t(i,[a,c],d=>d[0]===a&&d[1]===c,!0),l&&r()})(n.connect),n.disconnect=(s=>(a,c,u)=>{let l=i.size>0;if(a===void 0)s.apply(n),i.clear();else if(typeof a=="number"){s.call(n,a);for(let p of i)p[1]===a&&i.delete(p)}else{e(a)?s.call(n,a,c,u):s.call(n,a,c);for(let p of i)p[0]===a&&(c===void 0||p[1]===c)&&(u===void 0||p[2]===u)&&i.delete(p)}let d=i.size===0;l&&d&&o()})(n.disconnect),n};var Re=(t,e,n)=>{let r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)};var be=(t,e)=>{Re(t,e,"channelCount"),Re(t,e,"channelCountMode"),Re(t,e,"channelInterpretation")};var Q_=t=>typeof t.getFloatTimeDomainData=="function";var RT=t=>{t.getFloatTimeDomainData=e=>{let n=new Uint8Array(e.length);t.getByteTimeDomainData(n);let r=Math.max(n.length,t.fftSize);for(let o=0;o<r;o+=1)e[o]=(n[o]-128)*.0078125;return e}};var kT=(t,e)=>(n,r)=>{let o=n.createAnalyser();if(be(o,r),!(r.maxDecibels>r.minDecibels))throw e();return Re(o,r,"fftSize"),Re(o,r,"maxDecibels"),Re(o,r,"minDecibels"),Re(o,r,"smoothingTimeConstant"),t(Q_,()=>Q_(o))||RT(o),o};var FT=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null;var Le=(t,e,n)=>{let r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)};var PT=t=>{t.start=(e=>{let n=!1;return(r=0,o=0,i)=>{if(n)throw Ke();e.call(t,r,o,i),n=!0}})(t.start)};var na=t=>{t.start=(e=>(n=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,o)})(t.start)};var ra=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)};var LT=(t,e,n,r,o,i,s,a,c,u,l)=>(d,p)=>{let f=d.createBufferSource();return be(f,p),Le(f,p,"playbackRate"),Re(f,p,"buffer"),Re(f,p,"loop"),Re(f,p,"loopEnd"),Re(f,p,"loopStart"),e(n,()=>n(d))||PT(f),e(r,()=>r(d))||c(f),e(o,()=>o(d))||u(f,d),e(i,()=>i(d))||na(f),e(s,()=>s(d))||l(f,d),e(a,()=>a(d))||ra(f),t(d,f),f};var VT=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null;var jT=(t,e)=>(n,r,o)=>{let i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}o&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});let s=t(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(s,"channelCount",a=>()=>a.call(s),a=>c=>{a.call(s,c);try{i.channelCount=c}catch(u){if(c>i.maxChannelCount)throw u}}),e(s,"channelCountMode",a=>()=>a.call(s),a=>c=>{a.call(s,c),i.channelCountMode=c}),e(s,"channelInterpretation",a=>()=>a.call(s),a=>c=>{a.call(s,c),i.channelInterpretation=c}),Object.defineProperty(s,"maxChannelCount",{get:()=>i.maxChannelCount}),s.connect(i),s};var BT=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null;var UT=t=>{let{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}};var qT=(t,e,n,r,o)=>(i,s,a,c,u,l)=>{if(a!==null)try{let d=new a(i,c,l),p=new Map,f=null;if(Object.defineProperties(d,{channelCount:{get:()=>l.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>f,set:h=>{typeof f=="function"&&d.removeEventListener("processorerror",f),f=typeof h=="function"?h:null,typeof f=="function"&&d.addEventListener("processorerror",f)}}}),d.addEventListener=(h=>(...g)=>{if(g[0]==="processorerror"){let m=typeof g[1]=="function"?g[1]:typeof g[1]=="object"&&g[1]!==null&&typeof g[1].handleEvent=="function"?g[1].handleEvent:null;if(m!==null){let _=p.get(g[1]);_!==void 0?g[1]=_:(g[1]=N=>{N.type==="error"?(Object.defineProperties(N,{type:{value:"processorerror"}}),m(N)):m(new ErrorEvent(g[0],v({},N)))},p.set(m,g[1]))}}return h.call(d,"error",g[1],g[2]),h.call(d,...g)})(d.addEventListener),d.removeEventListener=(h=>(...g)=>{if(g[0]==="processorerror"){let m=p.get(g[1]);m!==void 0&&(p.delete(g[1]),g[1]=m)}return h.call(d,"error",g[1],g[2]),h.call(d,g[0],g[1],g[2])})(d.removeEventListener),l.numberOfOutputs!==0){let h=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return d.connect(h).connect(i.destination),o(d,()=>h.disconnect(),()=>h.connect(i.destination))}return d}catch(d){throw d.code===11?r():d}if(u===void 0)throw r();return UT(l),e(i,s,u,l)};var Of=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e)))));var HT=t=>new Promise((e,n)=>{let{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),o.close(),e(i)},r.onmessageerror=({data:i})=>{r.close(),o.close(),n(i)},o.postMessage(t)});var $T=async(t,e)=>{let n=await HT(e);return new t(n)};var WT=(t,e,n,r)=>{let o=lu.get(t);o===void 0&&(o=new WeakMap,lu.set(t,o));let i=$T(n,r);return o.set(e,i),i};var GT=(t,e,n,r,o,i,s,a,c,u,l,d,p)=>(f,h,g,m)=>{if(m.numberOfInputs===0&&m.numberOfOutputs===0)throw c();let _=Array.isArray(m.outputChannelCount)?m.outputChannelCount:Array.from(m.outputChannelCount);if(_.some(Y=>Y<1))throw c();if(_.length!==m.numberOfOutputs)throw e();if(m.channelCountMode!=="explicit")throw c();let N=m.channelCount*m.numberOfInputs,k=_.reduce((Y,de)=>Y+de,0),U=g.parameterDescriptors===void 0?0:g.parameterDescriptors.length;if(N+U>6||k>6)throw c();let S=new MessageChannel,b=[],E=[];for(let Y=0;Y<m.numberOfInputs;Y+=1)b.push(s(f,{channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:1})),E.push(o(f,{channelCount:m.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:m.channelCount}));let w=[];if(g.parameterDescriptors!==void 0)for(let{defaultValue:Y,maxValue:de,minValue:Et,name:Je}of g.parameterDescriptors){let ke=i(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:m.parameterData[Je]!==void 0?m.parameterData[Je]:Y===void 0?0:Y});Object.defineProperties(ke.offset,{defaultValue:{get:()=>Y===void 0?0:Y},maxValue:{get:()=>de===void 0?ot:de},minValue:{get:()=>Et===void 0?st:Et}}),w.push(ke)}let H=r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,N+U)}),ee=Of(h,f.sampleRate),B=a(f,ee,N+U,Math.max(1,k)),j=o(f,{channelCount:Math.max(1,k),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,k)}),te=[];for(let Y=0;Y<m.numberOfOutputs;Y+=1)te.push(r(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:_[Y]}));for(let Y=0;Y<m.numberOfInputs;Y+=1){b[Y].connect(E[Y]);for(let de=0;de<m.channelCount;de+=1)E[Y].connect(H,de,Y*m.channelCount+de)}let A=new Ks(g.parameterDescriptors===void 0?[]:g.parameterDescriptors.map(({name:Y},de)=>{let Et=w[de];return Et.connect(H,0,N+de),Et.start(0),[Y,Et.offset]}));H.connect(B);let T=m.channelInterpretation,I=null,M=m.numberOfOutputs===0?[B]:te,W={get bufferSize(){return ee},get channelCount(){return m.channelCount},set channelCount(Y){throw n()},get channelCountMode(){return m.channelCountMode},set channelCountMode(Y){throw n()},get channelInterpretation(){return T},set channelInterpretation(Y){for(let de of b)de.channelInterpretation=Y;T=Y},get context(){return B.context},get inputs(){return b},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get onprocessorerror(){return I},set onprocessorerror(Y){typeof I=="function"&&W.removeEventListener("processorerror",I),I=typeof Y=="function"?Y:null,typeof I=="function"&&W.addEventListener("processorerror",I)},get parameters(){return A},get port(){return S.port2},addEventListener(...Y){return B.addEventListener(Y[0],Y[1],Y[2])},connect:t.bind(null,M),disconnect:u.bind(null,M),dispatchEvent(...Y){return B.dispatchEvent(Y[0])},removeEventListener(...Y){return B.removeEventListener(Y[0],Y[1],Y[2])}},q=new Map;S.port1.addEventListener=(Y=>(...de)=>{if(de[0]==="message"){let Et=typeof de[1]=="function"?de[1]:typeof de[1]=="object"&&de[1]!==null&&typeof de[1].handleEvent=="function"?de[1].handleEvent:null;if(Et!==null){let Je=q.get(de[1]);Je!==void 0?de[1]=Je:(de[1]=ke=>{l(f.currentTime,f.sampleRate,()=>Et(ke))},q.set(Et,de[1]))}}return Y.call(S.port1,de[0],de[1],de[2])})(S.port1.addEventListener),S.port1.removeEventListener=(Y=>(...de)=>{if(de[0]==="message"){let Et=q.get(de[1]);Et!==void 0&&(q.delete(de[1]),de[1]=Et)}return Y.call(S.port1,de[0],de[1],de[2])})(S.port1.removeEventListener);let L=null;Object.defineProperty(S.port1,"onmessage",{get:()=>L,set:Y=>{typeof L=="function"&&S.port1.removeEventListener("message",L),L=typeof Y=="function"?Y:null,typeof L=="function"&&(S.port1.addEventListener("message",L),S.port1.start())}}),g.prototype.port=S.port1;let we=null;WT(f,W,g,m).then(Y=>we=Y);let We=ea(m.numberOfInputs,m.channelCount),Mt=ea(m.numberOfOutputs,_),xt=g.parameterDescriptors===void 0?[]:g.parameterDescriptors.reduce((Y,{name:de})=>V(v({},Y),{[de]:new Float32Array(128)}),{}),Ie=!0,ue=()=>{m.numberOfOutputs>0&&B.disconnect(j);for(let Y=0,de=0;Y<m.numberOfOutputs;Y+=1){let Et=te[Y];for(let Je=0;Je<_[Y];Je+=1)j.disconnect(Et,de+Je,Je);de+=_[Y]}},Xn=new Map;B.onaudioprocess=({inputBuffer:Y,outputBuffer:de})=>{if(we!==null){let Et=d(W);for(let Je=0;Je<ee;Je+=128){for(let ke=0;ke<m.numberOfInputs;ke+=1)for(let nt=0;nt<m.channelCount;nt+=1)Js(Y,We[ke],nt,nt,Je);g.parameterDescriptors!==void 0&&g.parameterDescriptors.forEach(({name:ke},nt)=>{Js(Y,xt,ke,N+nt,Je)});for(let ke=0;ke<m.numberOfInputs;ke+=1)for(let nt=0;nt<_[ke];nt+=1)Mt[ke][nt].byteLength===0&&(Mt[ke][nt]=new Float32Array(128));try{let ke=We.map((Pn,yo)=>{if(Et[yo].size>0)return Xn.set(yo,ee/128),Pn;let gp=Xn.get(yo);return gp===void 0?[]:(Pn.every(oA=>oA.every(iA=>iA===0))&&(gp===1?Xn.delete(yo):Xn.set(yo,gp-1)),Pn)});Ie=l(f.currentTime+Je/f.sampleRate,f.sampleRate,()=>we.process(ke,Mt,xt));for(let Pn=0,yo=0;Pn<m.numberOfOutputs;Pn+=1){for(let Aa=0;Aa<_[Pn];Aa+=1)Af(de,Mt[Pn],Aa,yo+Aa,Je);yo+=_[Pn]}}catch(ke){Ie=!1,W.dispatchEvent(new ErrorEvent("processorerror",{colno:ke.colno,filename:ke.filename,lineno:ke.lineno,message:ke.message}))}if(!Ie){for(let ke=0;ke<m.numberOfInputs;ke+=1){b[ke].disconnect(E[ke]);for(let nt=0;nt<m.channelCount;nt+=1)E[Je].disconnect(H,nt,ke*m.channelCount+nt)}if(g.parameterDescriptors!==void 0){let ke=g.parameterDescriptors.length;for(let nt=0;nt<ke;nt+=1){let Pn=w[nt];Pn.disconnect(H,0,N+nt),Pn.stop()}}H.disconnect(B),B.onaudioprocess=null,gr?ue():Fn();break}}}};let gr=!1,ne=s(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Wr=()=>B.connect(ne).connect(f.destination),Fn=()=>{B.disconnect(ne),ne.disconnect()},_r=()=>{if(Ie){Fn(),m.numberOfOutputs>0&&B.connect(j);for(let Y=0,de=0;Y<m.numberOfOutputs;Y+=1){let Et=te[Y];for(let Je=0;Je<_[Y];Je+=1)j.connect(Et,de+Je,Je);de+=_[Y]}}gr=!0},vo=()=>{Ie&&(Wr(),ue()),gr=!1};return Wr(),p(W,_r,vo)};var X_=(t,e)=>{let n=t.createBiquadFilter();return be(n,e),Le(n,e,"Q"),Le(n,e,"detune"),Le(n,e,"frequency"),Le(n,e,"gain"),Re(n,e,"type"),n};var zT=(t,e)=>(n,r)=>{let o=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,o),be(o,r),o};var ZT=t=>{let e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Ke()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Ke()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Ke()}})};var oa=(t,e)=>{let n=t.createChannelSplitter(e.numberOfOutputs);return be(n,e),ZT(n),n};var YT=(t,e,n,r,o)=>(i,s)=>{if(i.createConstantSource===void 0)return n(i,s);let a=i.createConstantSource();return be(a,s),Le(a,s,"offset"),e(r,()=>r(i))||na(a),e(o,()=>o(i))||ra(a),t(i,a),a};var zn=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t);var QT=(t,e,n,r)=>(o,a)=>{var c=a,{offset:i}=c,s=vr(c,["offset"]);let u=o.createBuffer(1,2,44100),l=e(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=n(o,V(v({},s),{gain:i})),p=u.getChannelData(0);p[0]=1,p[1]=1,l.buffer=u,l.loop=!0;let f={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(m){d.channelCount=m},get channelCountMode(){return d.channelCountMode},set channelCountMode(m){d.channelCountMode=m},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(m){d.channelInterpretation=m},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return l.onended},set onended(m){l.onended=m},addEventListener(...m){return l.addEventListener(m[0],m[1],m[2])},dispatchEvent(...m){return l.dispatchEvent(m[0])},removeEventListener(...m){return l.removeEventListener(m[0],m[1],m[2])},start(m=0){l.start.call(l,m)},stop(m=0){l.stop.call(l,m)}},h=()=>l.connect(d),g=()=>l.disconnect(d);return t(o,l),r(zn(f,d),h,g)};var XT=(t,e)=>(n,r)=>{let o=n.createConvolver();if(be(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),Re(o,r,"buffer"),r.channelCount>2||(e(o,"channelCount",i=>()=>i.call(o),i=>s=>{if(s>2)throw t();return i.call(o,s)}),r.channelCountMode==="max"))throw t();return e(o,"channelCountMode",i=>()=>i.call(o),i=>s=>{if(s==="max")throw t();return i.call(o,s)}),o};var K_=(t,e)=>{let n=t.createDelay(e.maxDelayTime);return be(n,e),Le(n,e,"delayTime"),n};var KT=t=>(e,n)=>{let r=e.createDynamicsCompressor();if(be(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return Le(r,n,"attack"),Le(r,n,"knee"),Le(r,n,"ratio"),Le(r,n,"release"),Le(r,n,"threshold"),r};var tn=(t,e)=>{let n=t.createGain();return be(n,e),Le(n,e,"gain"),n};var JT=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);let o=e.createIIRFilter(r.feedforward,r.feedback);return be(o,r),o};function e2(t,e){let n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function t2(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function eS(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=t2(n,e),n[0]+=t[r];return n}var tS=(t,e,n,r)=>(o,i,{channelCount:s,channelCountMode:a,channelInterpretation:c,feedback:u,feedforward:l})=>{let d=Of(i,o.sampleRate),p=u instanceof Float64Array?u:new Float64Array(u),f=l instanceof Float64Array?l:new Float64Array(l),h=p.length,g=f.length,m=Math.min(h,g);if(h===0||h>20)throw r();if(p[0]===0)throw e();if(g===0||g>20)throw r();if(f[0]===0)throw e();if(p[0]!==1){for(let w=0;w<g;w+=1)f[w]/=p[0];for(let w=1;w<h;w+=1)p[w]/=p[0]}let _=n(o,d,s,s);_.channelCount=s,_.channelCountMode=a,_.channelInterpretation=c;let N=32,k=[],U=[],S=[];for(let w=0;w<s;w+=1){k.push(0);let H=new Float32Array(N),ee=new Float32Array(N);H.fill(0),ee.fill(0),U.push(H),S.push(ee)}_.onaudioprocess=w=>{let H=w.inputBuffer,ee=w.outputBuffer,B=H.numberOfChannels;for(let j=0;j<B;j+=1){let te=H.getChannelData(j),A=ee.getChannelData(j);k[j]=Nf(p,h,f,g,m,U[j],S[j],k[j],N,te,A)}};let b=o.sampleRate/2;return zn({get bufferSize(){return d},get channelCount(){return _.channelCount},set channelCount(w){_.channelCount=w},get channelCountMode(){return _.channelCountMode},set channelCountMode(w){_.channelCountMode=w},get channelInterpretation(){return _.channelInterpretation},set channelInterpretation(w){_.channelInterpretation=w},get context(){return _.context},get inputs(){return[_]},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},addEventListener(...w){return _.addEventListener(w[0],w[1],w[2])},dispatchEvent(...w){return _.dispatchEvent(w[0])},getFrequencyResponse(w,H,ee){if(w.length!==H.length||H.length!==ee.length)throw t();let B=w.length;for(let j=0;j<B;j+=1){let te=-Math.PI*(w[j]/b),A=[Math.cos(te),Math.sin(te)],T=eS(f,A),I=eS(p,A),M=e2(T,I);H[j]=Math.sqrt(M[0]*M[0]+M[1]*M[1]),ee[j]=Math.atan2(M[1],M[0])}},removeEventListener(...w){return _.removeEventListener(w[0],w[1],w[2])}},_)};var nS=(t,e)=>t.createMediaElementSource(e.mediaElement);var rS=(t,e)=>{let n=t.createMediaStreamDestination();return be(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n};var oS=(t,{mediaStream:e})=>{let n=e.getAudioTracks();n.sort((i,s)=>i.id<s.id?-1:i.id>s.id?1:0);let r=n.slice(0,1),o=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:e}),o};var iS=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);let o=new MediaStream([r]),i=n.createMediaStreamSource(o);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return i};var sS=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null;var aS=(t,e,n,r,o,i)=>(s,a)=>{let c=s.createOscillator();return be(c,a),Le(c,a,"detune"),Le(c,a,"frequency"),a.periodicWave!==void 0?c.setPeriodicWave(a.periodicWave):Re(c,a,"type"),e(n,()=>n(s))||na(c),e(r,()=>r(s))||i(c,s),e(o,()=>o(s))||ra(c),t(s,c),c};var cS=t=>(e,n)=>{let r=e.createPanner();return r.orientationX===void 0?t(e,n):(be(r,n),Le(r,n,"orientationX"),Le(r,n,"orientationY"),Le(r,n,"orientationZ"),Le(r,n,"positionX"),Le(r,n,"positionY"),Le(r,n,"positionZ"),Re(r,n,"coneInnerAngle"),Re(r,n,"coneOuterAngle"),Re(r,n,"coneOuterGain"),Re(r,n,"distanceModel"),Re(r,n,"maxDistance"),Re(r,n,"panningModel"),Re(r,n,"refDistance"),Re(r,n,"rolloffFactor"),r)};var uS=(t,e,n,r,o,i,s,a,c,u)=>(l,ee)=>{var B=ee,{coneInnerAngle:d,coneOuterAngle:p,coneOuterGain:f,distanceModel:h,maxDistance:g,orientationX:m,orientationY:_,orientationZ:N,panningModel:k,positionX:U,positionY:S,positionZ:b,refDistance:E,rolloffFactor:w}=B,H=vr(B,["coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","orientationX","orientationY","orientationZ","panningModel","positionX","positionY","positionZ","refDistance","rolloffFactor"]);let j=l.createPanner();if(H.channelCount>2||H.channelCountMode==="max")throw s();be(j,H);let te={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},A=n(l,V(v({},te),{channelInterpretation:"speakers",numberOfInputs:6})),T=r(l,V(v({},H),{gain:1})),I=r(l,V(v({},te),{gain:1})),M=r(l,V(v({},te),{gain:0})),W=r(l,V(v({},te),{gain:0})),q=r(l,V(v({},te),{gain:0})),L=r(l,V(v({},te),{gain:0})),we=r(l,V(v({},te),{gain:0})),Me=o(l,256,6,1),We=i(l,V(v({},te),{curve:new Float32Array([1,1]),oversample:"none"})),Mt=[m,_,N],xt=[U,S,b],Ie=new Float32Array(1);Me.onaudioprocess=({inputBuffer:ne})=>{let Wr=[c(ne,Ie,0),c(ne,Ie,1),c(ne,Ie,2)];Wr.some((_r,vo)=>_r!==Mt[vo])&&(j.setOrientation(...Wr),Mt=Wr);let Fn=[c(ne,Ie,3),c(ne,Ie,4),c(ne,Ie,5)];Fn.some((_r,vo)=>_r!==xt[vo])&&(j.setPosition(...Fn),xt=Fn)},Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(W.gain,"defaultValue",{get:()=>0}),Object.defineProperty(q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(L.gain,"defaultValue",{get:()=>0}),Object.defineProperty(we.gain,"defaultValue",{get:()=>0});let ue={get bufferSize(){},get channelCount(){return j.channelCount},set channelCount(ne){if(ne>2)throw s();T.channelCount=ne,j.channelCount=ne},get channelCountMode(){return j.channelCountMode},set channelCountMode(ne){if(ne==="max")throw s();T.channelCountMode=ne,j.channelCountMode=ne},get channelInterpretation(){return j.channelInterpretation},set channelInterpretation(ne){T.channelInterpretation=ne,j.channelInterpretation=ne},get coneInnerAngle(){return j.coneInnerAngle},set coneInnerAngle(ne){j.coneInnerAngle=ne},get coneOuterAngle(){return j.coneOuterAngle},set coneOuterAngle(ne){j.coneOuterAngle=ne},get coneOuterGain(){return j.coneOuterGain},set coneOuterGain(ne){if(ne<0||ne>1)throw e();j.coneOuterGain=ne},get context(){return j.context},get distanceModel(){return j.distanceModel},set distanceModel(ne){j.distanceModel=ne},get inputs(){return[T]},get maxDistance(){return j.maxDistance},set maxDistance(ne){if(ne<0)throw new RangeError;j.maxDistance=ne},get numberOfInputs(){return j.numberOfInputs},get numberOfOutputs(){return j.numberOfOutputs},get orientationX(){return I.gain},get orientationY(){return M.gain},get orientationZ(){return W.gain},get panningModel(){return j.panningModel},set panningModel(ne){j.panningModel=ne},get positionX(){return q.gain},get positionY(){return L.gain},get positionZ(){return we.gain},get refDistance(){return j.refDistance},set refDistance(ne){if(ne<0)throw new RangeError;j.refDistance=ne},get rolloffFactor(){return j.rolloffFactor},set rolloffFactor(ne){if(ne<0)throw new RangeError;j.rolloffFactor=ne},addEventListener(...ne){return T.addEventListener(ne[0],ne[1],ne[2])},dispatchEvent(...ne){return T.dispatchEvent(ne[0])},removeEventListener(...ne){return T.removeEventListener(ne[0],ne[1],ne[2])}};d!==ue.coneInnerAngle&&(ue.coneInnerAngle=d),p!==ue.coneOuterAngle&&(ue.coneOuterAngle=p),f!==ue.coneOuterGain&&(ue.coneOuterGain=f),h!==ue.distanceModel&&(ue.distanceModel=h),g!==ue.maxDistance&&(ue.maxDistance=g),m!==ue.orientationX.value&&(ue.orientationX.value=m),_!==ue.orientationY.value&&(ue.orientationY.value=_),N!==ue.orientationZ.value&&(ue.orientationZ.value=N),k!==ue.panningModel&&(ue.panningModel=k),U!==ue.positionX.value&&(ue.positionX.value=U),S!==ue.positionY.value&&(ue.positionY.value=S),b!==ue.positionZ.value&&(ue.positionZ.value=b),E!==ue.refDistance&&(ue.refDistance=E),w!==ue.rolloffFactor&&(ue.rolloffFactor=w),(Mt[0]!==1||Mt[1]!==0||Mt[2]!==0)&&j.setOrientation(...Mt),(xt[0]!==0||xt[1]!==0||xt[2]!==0)&&j.setPosition(...xt);let Xn=()=>{T.connect(j),t(T,We,0,0),We.connect(I).connect(A,0,0),We.connect(M).connect(A,0,1),We.connect(W).connect(A,0,2),We.connect(q).connect(A,0,3),We.connect(L).connect(A,0,4),We.connect(we).connect(A,0,5),A.connect(Me).connect(l.destination)},gr=()=>{T.disconnect(j),a(T,We,0,0),We.disconnect(I),I.disconnect(A),We.disconnect(M),M.disconnect(A),We.disconnect(W),W.disconnect(A),We.disconnect(q),q.disconnect(A),We.disconnect(L),L.disconnect(A),We.disconnect(we),we.disconnect(A),A.disconnect(Me),Me.disconnect(l.destination)};return u(zn(ue,j),Xn,gr)};var lS=t=>(e,{disableNormalization:n,imag:r,real:o})=>{let i=r instanceof Float32Array?r:new Float32Array(r),s=o instanceof Float32Array?o:new Float32Array(o),a=e.createPeriodicWave(s,i,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a};var ia=(t,e,n,r)=>t.createScriptProcessor(e,n,r);var dS=(t,e)=>(n,r)=>{let o=r.channelCountMode;if(o==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);let i=n.createStereoPanner();return be(i,r),Le(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>o,set:s=>{if(s!==o)throw e()}}),i};var fS=(t,e,n,r,o,i)=>{let a=new Float32Array([1,1]),c=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},l=V(v({},u),{oversample:"none"}),d=(h,g,m,_)=>{let N=new Float32Array(16385),k=new Float32Array(16385);for(let H=0;H<16385;H+=1){let ee=H/16384*c;N[H]=Math.cos(ee),k[H]=Math.sin(ee)}let U=n(h,V(v({},u),{gain:0})),S=r(h,V(v({},l),{curve:N})),b=r(h,V(v({},l),{curve:a})),E=n(h,V(v({},u),{gain:0})),w=r(h,V(v({},l),{curve:k}));return{connectGraph(){g.connect(U),g.connect(b.inputs===void 0?b:b.inputs[0]),g.connect(E),b.connect(m),m.connect(S.inputs===void 0?S:S.inputs[0]),m.connect(w.inputs===void 0?w:w.inputs[0]),S.connect(U.gain),w.connect(E.gain),U.connect(_,0,0),E.connect(_,0,1)},disconnectGraph(){g.disconnect(U),g.disconnect(b.inputs===void 0?b:b.inputs[0]),g.disconnect(E),b.disconnect(m),m.disconnect(S.inputs===void 0?S:S.inputs[0]),m.disconnect(w.inputs===void 0?w:w.inputs[0]),S.disconnect(U.gain),w.disconnect(E.gain),U.disconnect(_,0,0),E.disconnect(_,0,1)}}},p=(h,g,m,_)=>{let N=new Float32Array(16385),k=new Float32Array(16385),U=new Float32Array(16385),S=new Float32Array(16385),b=Math.floor(16385/2);for(let M=0;M<16385;M+=1)if(M>b){let W=(M-b)/(16384-b)*c;N[M]=Math.cos(W),k[M]=Math.sin(W),U[M]=0,S[M]=1}else{let W=M/(16384-b)*c;N[M]=1,k[M]=0,U[M]=Math.cos(W),S[M]=Math.sin(W)}let E=e(h,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),w=n(h,V(v({},u),{gain:0})),H=r(h,V(v({},l),{curve:N})),ee=n(h,V(v({},u),{gain:0})),B=r(h,V(v({},l),{curve:k})),j=r(h,V(v({},l),{curve:a})),te=n(h,V(v({},u),{gain:0})),A=r(h,V(v({},l),{curve:U})),T=n(h,V(v({},u),{gain:0})),I=r(h,V(v({},l),{curve:S}));return{connectGraph(){g.connect(E),g.connect(j.inputs===void 0?j:j.inputs[0]),E.connect(w,0),E.connect(ee,0),E.connect(te,1),E.connect(T,1),j.connect(m),m.connect(H.inputs===void 0?H:H.inputs[0]),m.connect(B.inputs===void 0?B:B.inputs[0]),m.connect(A.inputs===void 0?A:A.inputs[0]),m.connect(I.inputs===void 0?I:I.inputs[0]),H.connect(w.gain),B.connect(ee.gain),A.connect(te.gain),I.connect(T.gain),w.connect(_,0,0),te.connect(_,0,0),ee.connect(_,0,1),T.connect(_,0,1)},disconnectGraph(){g.disconnect(E),g.disconnect(j.inputs===void 0?j:j.inputs[0]),E.disconnect(w,0),E.disconnect(ee,0),E.disconnect(te,1),E.disconnect(T,1),j.disconnect(m),m.disconnect(H.inputs===void 0?H:H.inputs[0]),m.disconnect(B.inputs===void 0?B:B.inputs[0]),m.disconnect(A.inputs===void 0?A:A.inputs[0]),m.disconnect(I.inputs===void 0?I:I.inputs[0]),H.disconnect(w.gain),B.disconnect(ee.gain),A.disconnect(te.gain),I.disconnect(T.gain),w.disconnect(_,0,0),te.disconnect(_,0,0),ee.disconnect(_,0,1),T.disconnect(_,0,1)}}},f=(h,g,m,_,N)=>{if(g===1)return d(h,m,_,N);if(g===2)return p(h,m,_,N);throw o()};return(h,k)=>{var U=k,{channelCount:g,channelCountMode:m,pan:_}=U,N=vr(U,["channelCount","channelCountMode","pan"]);if(m==="max")throw o();let S=t(h,V(v({},N),{channelCount:1,channelCountMode:m,numberOfInputs:2})),b=n(h,V(v({},N),{channelCount:g,channelCountMode:m,gain:1})),E=n(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:_}),{connectGraph:w,disconnectGraph:H}=f(h,g,b,E,S);Object.defineProperty(E.gain,"defaultValue",{get:()=>0}),Object.defineProperty(E.gain,"maxValue",{get:()=>1}),Object.defineProperty(E.gain,"minValue",{get:()=>-1});let ee={get bufferSize(){},get channelCount(){return b.channelCount},set channelCount(A){b.channelCount!==A&&(B&&H(),{connectGraph:w,disconnectGraph:H}=f(h,A,b,E,S),B&&w()),b.channelCount=A},get channelCountMode(){return b.channelCountMode},set channelCountMode(A){if(A==="clamped-max"||A==="max")throw o();b.channelCountMode=A},get channelInterpretation(){return b.channelInterpretation},set channelInterpretation(A){b.channelInterpretation=A},get context(){return b.context},get inputs(){return[b]},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get pan(){return E.gain},addEventListener(...A){return b.addEventListener(A[0],A[1],A[2])},dispatchEvent(...A){return b.dispatchEvent(A[0])},removeEventListener(...A){return b.removeEventListener(A[0],A[1],A[2])}},B=!1,j=()=>{w(),B=!0},te=()=>{H(),B=!1};return i(zn(ee,S),j,te)}};var pS=(t,e,n,r,o,i,s)=>(a,c)=>{let u=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,c);be(u,c);let l=c.curve===null||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(l!==null&&l.length<2)throw e();Re(u,{curve:l},"curve"),Re(u,c,"oversample");let d=null,p=!1;return s(u,"curve",g=>()=>g.call(u),g=>m=>(g.call(u,m),p&&(r(m)&&d===null?d=t(a,u):!r(m)&&d!==null&&(d(),d=null)),m)),o(u,()=>{p=!0,r(u.curve)&&(d=t(a,u))},()=>{p=!1,d!==null&&(d(),d=null)})};var hS=(t,e,n,r,o)=>(i,u)=>{var l=u,{curve:s,oversample:a}=l,c=vr(l,["curve","oversample"]);let d=i.createWaveShaper(),p=i.createWaveShaper();be(d,c),be(p,c);let f=n(i,V(v({},c),{gain:1})),h=n(i,V(v({},c),{gain:-1})),g=n(i,V(v({},c),{gain:1})),m=n(i,V(v({},c),{gain:-1})),_=null,N=!1,k=null,U={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(E){f.channelCount=E,h.channelCount=E,d.channelCount=E,g.channelCount=E,p.channelCount=E,m.channelCount=E},get channelCountMode(){return d.channelCountMode},set channelCountMode(E){f.channelCountMode=E,h.channelCountMode=E,d.channelCountMode=E,g.channelCountMode=E,p.channelCountMode=E,m.channelCountMode=E},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(E){f.channelInterpretation=E,h.channelInterpretation=E,d.channelInterpretation=E,g.channelInterpretation=E,p.channelInterpretation=E,m.channelInterpretation=E},get context(){return d.context},get curve(){return k},set curve(E){if(E!==null&&E.length<2)throw e();if(E===null)d.curve=E,p.curve=E;else{let w=E.length,H=new Float32Array(w+2-w%2),ee=new Float32Array(w+2-w%2);H[0]=E[0],ee[0]=-E[w-1];let B=Math.ceil((w+1)/2),j=(w+1)/2-1;for(let te=1;te<B;te+=1){let A=te/B*j,T=Math.floor(A),I=Math.ceil(A);H[te]=T===I?E[T]:(1-(A-T))*E[T]+(1-(I-A))*E[I],ee[te]=T===I?-E[w-1-T]:-((1-(A-T))*E[w-1-T])-(1-(I-A))*E[w-1-I]}H[B]=w%2===1?E[B-1]:(E[B-2]+E[B-1])/2,d.curve=H,p.curve=ee}k=E,N&&(r(k)&&_===null?_=t(i,f):_!==null&&(_(),_=null))},get inputs(){return[f]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(E){d.oversample=E,p.oversample=E},addEventListener(...E){return f.addEventListener(E[0],E[1],E[2])},dispatchEvent(...E){return f.dispatchEvent(E[0])},removeEventListener(...E){return f.removeEventListener(E[0],E[1],E[2])}};s!==null&&(U.curve=s instanceof Float32Array?s:new Float32Array(s)),a!==U.oversample&&(U.oversample=a);let S=()=>{f.connect(d).connect(g),f.connect(h).connect(p).connect(m).connect(g),N=!0,r(k)&&(_=t(i,f))},b=()=>{f.disconnect(d),d.disconnect(g),f.disconnect(h),h.disconnect(p),p.disconnect(m),m.disconnect(g),N=!1,_!==null&&(_(),_=null)};return o(zn(U,g),S,b)};var Ft=()=>new DOMException("","NotSupportedError");var n2={numberOfChannels:1},mS=(t,e,n,r,o)=>class extends t{constructor(s,a,c){let u;if(typeof s=="number"&&a!==void 0&&c!==void 0)u={length:a,numberOfChannels:s,sampleRate:c};else if(typeof s=="object")u=s;else throw new Error("The given parameters are not valid.");let{length:l,numberOfChannels:d,sampleRate:p}=v(v({},n2),u),f=r(d,l,p);e(cr,()=>cr(f))||f.addEventListener("statechange",(()=>{let h=0,g=m=>{this._state==="running"&&(h>0?(f.removeEventListener("statechange",g),m.stopImmediatePropagation(),this._waitForThePromiseToSettle(m)):h+=1)};return g})()),super(f,d),this._length=l,this._nativeOfflineAudioContext=f,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Bo(this)}))}_waitForThePromiseToSettle(s){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(s):setTimeout(()=>this._waitForThePromiseToSettle(s))}};var r2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},gS=(t,e,n,r,o,i,s)=>class extends t{constructor(c,u){let l=o(c),d=v(v({},r2),u),p=n(l,d),f=i(l),h=f?r():null,g=c.sampleRate/2;super(c,!1,p,h),this._detune=e(this,f,p.detune,153600,-153600),this._frequency=e(this,f,p.frequency,g,-g),this._nativeOscillatorNode=p,this._onended=null,this._oscillatorNodeRenderer=h,this._oscillatorNodeRenderer!==null&&d.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=d.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(c){let u=typeof c=="function"?s(this,c):null;this._nativeOscillatorNode.onended=u;let l=this._nativeOscillatorNode.onended;this._onended=l!==null&&l===u?c:l}get type(){return this._nativeOscillatorNode.type}set type(c){this._nativeOscillatorNode.type=c,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(c){this._nativeOscillatorNode.setPeriodicWave(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=c)}start(c=0){if(this._nativeOscillatorNode.start(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=c),this.context.state!=="closed"){sr(this);let u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),en(this)&&Lr(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(c=0){this._nativeOscillatorNode.stop(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=c)}};var _S=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=null,a=null,c=null,u=async(l,d)=>{let p=n(l),f=Oe(p,d);if(!f){let h={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,detune:p.detune.value,frequency:p.frequency.value,periodicWave:s===null?void 0:s,type:p.type};p=e(d,h),a!==null&&p.start(a),c!==null&&p.stop(c)}return i.set(d,p),f?(await t(d,l.detune,p.detune),await t(d,l.frequency,p.frequency)):(await r(d,l.detune,p.detune),await r(d,l.frequency,p.frequency)),await o(l,d,p),p};return{set periodicWave(l){s=l},set start(l){a=l},set stop(l){c=l},render(l,d){let p=i.get(d);return p!==void 0?Promise.resolve(p):u(l,d)}}};var o2={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},vS=(t,e,n,r,o,i,s)=>class extends t{constructor(c,u){let l=o(c),d=v(v({},o2),u),p=n(l,d),f=i(l),h=f?r():null;super(c,!1,p,h),this._nativePannerNode=p,this._orientationX=e(this,f,p.orientationX,ot,st),this._orientationY=e(this,f,p.orientationY,ot,st),this._orientationZ=e(this,f,p.orientationZ,ot,st),this._positionX=e(this,f,p.positionX,ot,st),this._positionY=e(this,f,p.positionY,ot,st),this._positionZ=e(this,f,p.positionZ,ot,st),s(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(c){this._nativePannerNode.coneInnerAngle=c}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(c){this._nativePannerNode.coneOuterAngle=c}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(c){this._nativePannerNode.coneOuterGain=c}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(c){this._nativePannerNode.distanceModel=c}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(c){this._nativePannerNode.maxDistance=c}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(c){this._nativePannerNode.panningModel=c}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(c){this._nativePannerNode.refDistance=c}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(c){this._nativePannerNode.rolloffFactor=c}};var yS=(t,e,n,r,o,i,s,a,c,u)=>()=>{let l=new WeakMap,d=null,p=async(f,h)=>{let g=null,m=i(f),_={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},N=V(v({},_),{coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor}),k=Oe(m,h);if("bufferSize"in m)g=r(h,V(v({},_),{gain:1}));else if(!k){let U=V(v({},N),{orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value});m=o(h,U)}if(l.set(h,g===null?m:g),g!==null){if(d===null){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");let B=new s(6,f.context.length,h.sampleRate),j=e(B,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});j.connect(B.destination),d=(async()=>{let te=await Promise.all([f.orientationX,f.orientationY,f.orientationZ,f.positionX,f.positionY,f.positionZ].map(async(A,T)=>{let I=n(B,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:T===0?1:0});return await a(B,A,I.offset),I}));for(let A=0;A<6;A+=1)te[A].connect(j,0,A),te[A].start(0);return u(B)})()}let U=await d,S=r(h,V(v({},_),{gain:1}));await c(f,h,S);let b=[];for(let B=0;B<U.numberOfChannels;B+=1)b.push(U.getChannelData(B));let E=[b[0][0],b[1][0],b[2][0]],w=[b[3][0],b[4][0],b[5][0]],H=r(h,V(v({},_),{gain:1})),ee=o(h,V(v({},N),{orientationX:E[0],orientationY:E[1],orientationZ:E[2],positionX:w[0],positionY:w[1],positionZ:w[2]}));S.connect(H).connect(ee.inputs[0]),ee.connect(g);for(let B=128;B<U.length;B+=128){let j=[b[0][B],b[1][B],b[2][B]],te=[b[3][B],b[4][B],b[5][B]];if(j.some((A,T)=>A!==E[T])||te.some((A,T)=>A!==w[T])){E=j,w=te;let A=B/h.sampleRate;H.gain.setValueAtTime(0,A),H=r(h,V(v({},_),{gain:0})),ee=o(h,V(v({},N),{orientationX:E[0],orientationY:E[1],orientationZ:E[2],positionX:w[0],positionY:w[1],positionZ:w[2]})),H.gain.setValueAtTime(1,A),S.connect(H).connect(ee.inputs[0]),ee.connect(g)}}return g}return k?(await t(h,f.orientationX,m.orientationX),await t(h,f.orientationY,m.orientationY),await t(h,f.orientationZ,m.orientationZ),await t(h,f.positionX,m.positionX),await t(h,f.positionY,m.positionY),await t(h,f.positionZ,m.positionZ)):(await a(h,f.orientationX,m.orientationX),await a(h,f.orientationY,m.orientationY),await a(h,f.orientationZ,m.orientationZ),await a(h,f.positionX,m.positionX),await a(h,f.positionY,m.positionY),await a(h,f.positionZ,m.positionZ)),Gn(m)?await c(f,h,m.inputs[0]):await c(f,h,m),m};return{render(f,h){let g=l.get(h);return g!==void 0?Promise.resolve(g):p(f,h)}}};var i2={disableNormalization:!1},xS=(t,e,n,r)=>class ES{constructor(i,s){let a=e(i),c=r(v(v({},i2),s)),u=t(a,c);return n.add(u),u}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===ES.prototype||n.has(i)}};var wS=(t,e)=>(n,r,o)=>(t(r).replay(o),e(r,n,o));var CS=(t,e,n)=>async(r,o,i)=>{let s=t(r);await Promise.all(s.activeInputs.map((a,c)=>Array.from(a).map(async([u,l])=>{let p=await e(u).render(u,o),f=r.context.destination;!n(u)&&(r!==f||!n(r))&&p.connect(i,l,c)})).reduce((a,c)=>[...a,...c],[]))};var DS=(t,e,n)=>async(r,o,i)=>{let s=e(r);await Promise.all(Array.from(s.activeInputs).map(async([a,c])=>{let l=await t(a).render(a,o);n(a)||l.connect(i,c)}))};var bS=(t,e,n,r)=>o=>t(cr,()=>cr(o))?Promise.resolve(t(r,r)).then(i=>{if(!i){let s=n(o,512,0,1);o.oncomplete=()=>{s.onaudioprocess=null,s.disconnect()},s.onaudioprocess=()=>o.currentTime,s.connect(o.destination)}return o.startRendering()}):new Promise(i=>{let s=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=a=>{s.disconnect(),i(a.renderedBuffer)},s.connect(o.destination),o.startRendering()});var TS=t=>(e,n)=>{t.set(e,n)};var SS=t=>(e,n)=>t.set(e,n);var IS=(t,e,n,r,o,i,s,a)=>(c,u)=>n(c).render(c,u).then(()=>Promise.all(Array.from(r(u)).map(l=>n(l).render(l,u)))).then(()=>o(u)).then(l=>(typeof l.copyFromChannel!="function"?(s(l),Zs(l)):e(i,()=>i(l))||a(l),t.add(l),l));var s2={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},AS=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let u=o(a),l=v(v({},s2),c),d=n(u,l),p=i(u),f=p?r():null;super(a,!1,d,f),this._pan=e(this,p,d.pan)}get pan(){return this._pan}};var MS=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=async(a,c)=>{let u=n(a),l=Oe(u,c);if(!l){let d={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(c,d)}return i.set(c,u),l?await t(c,a.pan,u.pan):await r(c,a.pan,u.pan),Gn(u)?await o(a,c,u.inputs[0]):await o(a,c,u),u};return{render(a,c){let u=i.get(c);return u!==void 0?Promise.resolve(u):s(a,c)}}};var NS=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0};var OS=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;let n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),o=URL.createObjectURL(n),i=!1,s=!1;try{await r.audioWorklet.addModule(o);let a=new t(r,"a",{numberOfOutputs:0}),c=r.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>s=!0,c.connect(a),c.start(0),await r.startRendering(),await new Promise(u=>setTimeout(u))}catch{}finally{URL.revokeObjectURL(o)}return i&&!s};var RS=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);let n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{n.oncomplete=()=>{r.disconnect(),o(n.currentTime!==0)},n.startRendering()})};var J_=()=>new DOMException("","UnknownError");var a2={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},kS=(t,e,n,r,o,i,s)=>class extends t{constructor(c,u){let l=o(c),d=v(v({},a2),u),p=n(l,d),h=i(l)?r():null;super(c,!0,p,h),this._isCurveNullified=!1,this._nativeWaveShaperNode=p,s(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(c){if(c===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(c.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=c}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(c){this._nativeWaveShaperNode.oversample=c}};var FS=(t,e,n)=>()=>{let r=new WeakMap,o=async(i,s)=>{let a=e(i);if(!Oe(a,s)){let u={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(s,u)}return r.set(s,a),Gn(a)?await n(i,s,a.inputs[0]):await n(i,s,a),a};return{render(i,s){let a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}};var PS=()=>typeof window>"u"?null:window;var LS=(t,e)=>n=>{n.copyFromChannel=(r,o,i=0)=>{let s=t(i),a=t(o);if(a>=n.numberOfChannels)throw e();let c=n.length,u=n.getChannelData(a),l=r.length;for(let d=s<0?-s:0;d+s<c&&d<l;d+=1)r[d]=u[d+s]},n.copyToChannel=(r,o,i=0)=>{let s=t(i),a=t(o);if(a>=n.numberOfChannels)throw e();let c=n.length,u=n.getChannelData(a),l=r.length;for(let d=s<0?-s:0;d+s<c&&d<l;d+=1)u[d+s]=r[d]}};var VS=t=>e=>{e.copyFromChannel=(n=>(r,o,i=0)=>{let s=t(i),a=t(o);if(s<e.length)return n.call(e,r,a,s)})(e.copyFromChannel),e.copyToChannel=(n=>(r,o,i=0)=>{let s=t(i),a=t(o);if(s<e.length)return n.call(e,r,a,s)})(e.copyToChannel)};var jS=t=>(e,n)=>{let r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",o=>()=>{let i=o.call(e);return i===r?null:i},o=>i=>o.call(e,i===null?r:i))};var BS=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});let o=n.createBufferSource();e(r,()=>{let a=r.numberOfInputs;for(let c=0;c<a;c+=1)o.connect(r,0,c)},()=>o.disconnect(r))};var ev=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]);var tv=t=>{if(t===null)return!1;let e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0};var sa=(t,e,n,r)=>{let o=t;for(;!o.hasOwnProperty(e);)o=Object.getPrototypeOf(o);let{get:i,set:s}=Object.getOwnPropertyDescriptor(o,e);Object.defineProperty(t,e,{get:n(i),set:r(s)})};var US=t=>V(v({},t),{outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)});var qS=t=>V(v({},t),{channelCount:t.numberOfOutputs});var HS=t=>{let{imag:e,real:n}=t;return e===void 0?n===void 0?V(v({},t),{imag:[0,0],real:[0,0]}):V(v({},t),{imag:Array.from(n,()=>0),real:n}):n===void 0?V(v({},t),{imag:e,real:Array.from(e,()=>0)}):V(v({},t),{imag:e,real:n})};var nv=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;nv(t,e,n+1e-7)}};var $S=t=>{let e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1};var WS=t=>{let e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0};var GS=t=>{let e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0};var Rf=t=>{let e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1};var rv=t=>{let e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}};var kf=t=>{let e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1};var zS=t=>{let{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}};var ZS=t=>{t.start=(e=>(n=0,r=0,o)=>{let i=t.buffer,s=i===null?r:Math.min(i.duration,r);i!==null&&s>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,s,o)})(t.start)};var ov=(t,e)=>{let n=e.createGain();t.connect(n);let r=(o=>()=>{o.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),zn(t,n),t.stop=(o=>{let i=!1;return(s=0)=>{if(i)try{o.call(t,s)}catch{n.gain.setValueAtTime(0,s)}else o.call(t,s),i=!0}})(t.stop)};var Fi=(t,e)=>n=>{let r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)};var c2=LD(ar),u2=zD(ar),l2=Hb(Vo),QS=new WeakMap,d2=iT(QS),Zn=Db(new Map,new WeakMap),Vr=PS(),XS=kT(Zn,Wn),iv=oT(Dt),Pt=CS(Dt,iv,fo),f2=XD(XS,He,Pt),Ze=cT(Gs),po=sS(Vr),$e=CT(po),KS=new WeakMap,JS=Kb(Fi),aa=VT(Vr),sv=yT(aa),av=xT(Vr),eI=ET(Vr),fu=BT(Vr),at=hb(VD(Ef),GD(c2,u2,Ys,l2,Qs,Dt,d2,Pr,He,ar,en,fo,Xs),Zn,hT(cu,Qs,Dt,He,Ri,en),Wn,ta,Ft,Bb(Ys,cu,Dt,He,Ri,Ze,en,$e),Gb(KS,Dt,mt),JS,Ze,sv,av,eI,$e,fu),p2=QD(at,f2,Wn,XS,Ze,$e);var cv=new WeakSet,YS=FT(Vr),tI=kb(new Uint32Array(1)),uv=LS(tI,Wn),lv=VS(tI),dv=KD(cv,Zn,Ft,YS,po,NS(YS),uv,lv);var Ff=ZD(tn),nI=DS(iv,jo,fo),jr=Ab(nI),ca=LT(Ff,Zn,$S,WS,GS,Rf,rv,kf,ZS,jS(sa),ov),Br=wS(sT(jo),nI),h2=tb(jr,ca,He,Br,Pt),ur=gb(jD(wf),KS,au,_b,hn.createCancelAndHoldAutomationEvent,hn.createCancelScheduledValuesAutomationEvent,hn.createExponentialRampToValueAutomationEvent,hn.createLinearRampToValueAutomationEvent,hn.createSetTargetAutomationEvent,hn.createSetValueAutomationEvent,hn.createSetValueCurveAutomationEvent,aa,nv),m2=eb(at,h2,ur,Ke,ca,Ze,$e,Fi);var g2=ub(at,lb,Wn,Ke,jT(tn,sa),Ze,$e,Pt),_2=Cb(jr,X_,He,Br,Pt),Pi=SS(QS),v2=wb(at,ur,_2,ta,X_,Ze,$e,Pi),qo=OT(ar,av),y2=BS(Ke,qo),Ho=zT(aa,y2),x2=Tb(Ho,He,Pt),E2=bb(at,x2,Ho,Ze,$e),w2=Ib(oa,He,Pt),C2=Sb(at,w2,oa,Ze,$e,qS),D2=QT(Ff,ca,tn,qo),ua=YT(Ff,Zn,D2,Rf,kf),b2=Rb(jr,ua,He,Br,Pt),T2=Ob(at,ur,b2,ua,Ze,$e,Fi),rI=XT(Ft,sa),S2=Pb(rI,He,Pt),I2=Fb(at,S2,rI,Ze,$e,Pi),A2=qb(jr,K_,He,Br,Pt),M2=Ub(at,ur,A2,K_,Ze,$e,Pi),oI=KT(Ft),N2=Yb(jr,oI,He,Br,Pt),O2=Zb(at,ur,N2,oI,Ft,Ze,$e,Pi),R2=nT(jr,tn,He,Br,Pt),k2=tT(at,ur,R2,tn,Ze,$e),F2=tS(ta,Ke,ia,Ft),Pf=bS(Zn,tn,ia,RS(tn,po)),P2=pT(ca,He,po,Pt,Pf),L2=JT(F2),V2=fT(at,L2,P2,Ze,$e,Pi),j2=db(ur,Ho,ua,ia,Ft,ev,$e,sa),iI=new WeakMap,fv=MT(g2,j2,JS,$e,iI,Fi),sI=aS(Ff,Zn,Rf,rv,kf,ov),B2=_S(jr,sI,He,Br,Pt),U2=gS(at,ur,sI,B2,Ze,$e,Fi),aI=Nb(ca),q2=hS(aI,Ke,tn,tv,qo),Lf=pS(aI,Ke,q2,tv,qo,aa,sa),H2=uS(Ys,Ke,Ho,tn,ia,Lf,Ft,Qs,ev,qo),cI=cS(H2),$2=yS(jr,Ho,ua,tn,cI,He,po,Br,Pt,Pf),W2=vS(at,ur,cI,$2,Ze,$e,Pi),G2=lS(Wn),z2=xS(G2,Ze,new WeakSet,HS),Z2=fS(Ho,oa,tn,Lf,Ft,qo),uI=dS(Z2,Ft),Y2=MS(jr,uI,He,Br,Pt),Q2=AS(at,ur,uI,Y2,Ze,$e),X2=FS(Lf,He,Pt),K2=kS(at,Ke,Lf,X2,Ze,$e,Pi),lI=DT(Vr),pv=Jb(Vr),dI=new WeakMap,J2=uT(dI,po),ej=lI?WD(Zn,Ft,Xb(Vr),pv,eT(PD),Ze,J2,$e,fu,new WeakMap,new WeakMap,OS(fu,po),Vr):void 0,tj=wT(sv,$e),nj=jb(cv,Zn,Vb,Qb,new WeakSet,Ze,tj,zs,cr,uv,lv),fI=Eb(ej,p2,dv,m2,v2,E2,C2,T2,I2,nj,M2,O2,k2,V2,fv,U2,W2,z2,Q2,K2),rj=bT(at,nS,Ze,$e),oj=TT(at,rS,Ze,$e),ij=ST(at,oS,Ze,$e),sj=iS(Ke,$e),aj=IT(at,sj,Ze),pI=cb(fI,Ke,Ft,J_,rj,oj,ij,aj,aa);var hv=lT(iI),cj=YD(hv),hI=Mb(Wn),uj=$b(hv),mI=zb(Wn),gI=new WeakMap,lj=rT(gI,mt),dj=GT(hI,Wn,Ke,Ho,oa,ua,tn,ia,Ft,mI,pv,lj,qo),fj=qT(Ke,dj,tn,Ft,qo),pj=xb(jr,hI,ca,Ho,oa,ua,tn,uj,mI,pv,He,fu,po,Br,Pt,Pf),hj=aT(dI),mj=TS(gI),mv=lI?vb(cj,at,ur,pj,fj,Dt,hj,Ze,$e,fu,US,mj,zS,Fi):void 0;var jye=AT(Ke,Ft,J_,fv,aa);var _I=Lb(Ft,po),vI=IS(cv,Zn,iv,hv,Pf,zs,uv,lv),Bye=NT(Zn,Ke,_I,fv,vI);var yI=mS(fI,Zn,Ke,_I,vI);var xI=mT(Gs,sv),EI=gT(Ws,av),wI=_T(au,eI),CI=vT(Gs,$e);function ct(t){return t===void 0}function ce(t){return t!==void 0}function DI(t){return typeof t=="function"}function nn(t){return typeof t=="number"}function lr(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function gv(t){return typeof t=="boolean"}function ut(t){return Array.isArray(t)}function Gt(t){return typeof t=="string"}function pu(t){return Gt(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function J(t,e){if(!t)throw new Error(e)}function At(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Vf(t){!t.isOffline&&t.state!=="running"&&la('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}var TI=!1,bI=!1;function _v(t){TI=t}function SI(t){ct(t)&&TI&&!bI&&(bI=!0,la("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}var II=console;function AI(...t){II.log(...t)}function la(...t){II.warn(...t)}function MI(t){return new pI(t)}function NI(t,e,n){return new yI(t,e,n)}var zt=typeof self=="object"?self:null,OI=zt&&(zt.hasOwnProperty("AudioContext")||zt.hasOwnProperty("webkitAudioContext"));function RI(t,e,n){return J(ce(mv),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof zt?.BaseAudioContext?zt?.AudioWorkletNode:mv)(t,e,n)}var jf=class{constructor(e,n,r,o){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){let e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}};function dr(t){return wI(t)}function Ur(t){return EI(t)}function da(t){return CI(t)}function $o(t){return xI(t)}function kI(t){return t instanceof dv}function vj(t,e){return t==="value"||dr(e)||Ur(e)||kI(e)}function fr(t,...e){if(!e.length)return t;let n=e.shift();if(lr(t)&&lr(n))for(let r in n)vj(r,n[r])?t[r]=n[r]:lr(n[r])?(t[r]||Object.assign(t,{[r]:{}}),fr(t[r],n[r])):Object.assign(t,{[r]:n[r]});return fr(t,...e)}function FI(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function C(t,e,n=[],r){let o={},i=Array.from(e);if(lr(i[0])&&r&&!Reflect.has(i[0],r)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(fr(o,{[r]:i[0]}),n.splice(n.indexOf(r),1),i.shift())),i.length===1&&lr(i[0]))fr(o,i[0]);else for(let s=0;s<n.length;s++)ce(i[s])&&(o[n[s]]=i[s]);return fr(t,o)}function PI(t){return t.constructor.getDefaults()}function Mn(t,e){return ct(t)?e:t}function qr(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}var Zt=(()=>{class t{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...n){(this.debug||zt&&this.toString()===zt.TONE_DEBUG_CLASS)&&AI(this,...n)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}return t.version=Qc,t})();function ho(t,e){return t>e+1e-6}function hu(t,e){return ho(t,e)||rn(t,e)}function Li(t,e){return t+1e-6<e}function rn(t,e){return Math.abs(t-e)<1e-6}function vv(t,e,n){return Math.max(Math.min(t,n),e)}var gt=class t extends Zt{constructor(){super(),this.name="Timeline",this._timeline=[];let e=C(t.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(J(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){let n=this._timeline[this.length-1];J(hu(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{let n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){let n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){let n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){let r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){let r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){let n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];let r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(rn(this._timeline[n].time,e)){for(let r=n;r>=0&&rn(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&hu(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){let n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){let n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0,o=this._timeline.length,i=o;if(o>0&&this._timeline[o-1][n]<=e)return o-1;for(;r<i;){let s=Math.floor(r+(i-r)/2),a=this._timeline[s],c=this._timeline[s+1];if(rn(a[n],e)){for(let u=s;u<this._timeline.length;u++){let l=this._timeline[u];if(rn(l[n],e))s=u;else break}return s}else{if(Li(a[n],e)&&ho(c[n],e))return s;ho(a[n],e)?i=s:r=s+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){let r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){let r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let o=this._search(e),i=this._search(n);return o!==-1&&i!==-1?(this._timeline[o].time!==e&&(o+=1),this._timeline[i].time===n&&(i-=1),this._iterate(r,o,i)):o===-1&&this._iterate(r,0,i),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){let r=this._search(e);if(r!==-1&&rn(this._timeline[r].time,e)){let o=r;for(let i=r;i>=0&&rn(this._timeline[i].time,e);i--)o=i;this._iterate(i=>{n(i)},o,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}};var LI=[];function Wo(t){LI.push(t)}function VI(t){LI.forEach(e=>e(t))}var jI=[];function Go(t){jI.push(t)}function BI(t){jI.forEach(e=>e(t))}var zo=class t extends Zt{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(o=>{ct(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(n)}),this}once(e,n){let r=(...o)=>{n(...o),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(o=>{if(ct(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(ct(n))this._events[o]=[];else{let i=this._events[o];for(let s=i.length-1;s>=0;s--)i[s]===n&&i.splice(s,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){let r=this._events[e].slice(0);for(let o=0,i=r.length;o<i;o++)r[o].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{let r=Object.getOwnPropertyDescriptor(t.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}};var fa=class extends zo{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}};var Vi=class t extends fa{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new gt,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;let r=C(t.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=MI({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new jf(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(VI(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return J($o(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return J($o(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return J($o(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){J(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){J(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){J(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){J(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return RI(this.rawContext,e,n)}addAudioWorkletModule(e){return Se(this,void 0,void 0,function*(){J(ce(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return Se(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return $o(this._context)?this._context.resume():Promise.resolve()}close(){return Se(this,void 0,void 0,function*(){$o(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&BI(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{let n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let i=0;i<r.length;i++)r[i]=e;let o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=n,o.loop=!0,o.start(0),this._constants.set(e,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){let e=this.now();this._timeouts.forEachBefore(e,n=>{n.callback(),this._timeouts.remove(n)})}setTimeout(e,n){this._timeoutIds++;let r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){let r=++this._timeoutIds,o=()=>{let i=this.now();this._timeouts.add({callback:()=>{e(),o()},id:r,time:i+n})};return o(),r}};var Bf=class extends fa{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return Se(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}};function Z(t,e){ut(e)?e.forEach(n=>Z(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function pa(t,e){ut(e)?e.forEach(n=>pa(t,n)):Object.defineProperty(t,e,{writable:!0})}var le=()=>{};var on=(()=>{class t extends Zt{constructor(){super(),this.name="ToneAudioBuffer",this.onload=le;let n=C(t.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=n.reverse,this.onload=n.onload,Gt(n.url)?this.load(n.url).catch(n.onerror):n.url&&this.set(n.url)}static getDefaults(){return{onerror:le,onload:le,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:lt().sampleRate}set(n){return n instanceof t?n.loaded?this._buffer=n.get():n.onload=()=>{this.set(n),this.onload(this)}:this._buffer=n,this._reversed&&this._reverse(),this}get(){return this._buffer}load(n){return Se(this,void 0,void 0,function*(){let r=t.load(n).then(o=>{this.set(o),this.onload(this)});t.downloads.push(r);try{yield r}finally{let o=t.downloads.indexOf(r);t.downloads.splice(o,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(n){let r=ut(n)&&n[0].length>0,o=r?n.length:1,i=r?n[0].length:n.length,s=lt(),a=s.createBuffer(o,i,s.sampleRate),c=!r&&o===1?[n]:n;for(let u=0;u<o;u++)a.copyToChannel(c[u],u);return this._buffer=a,this}toMono(n){if(nn(n))this.fromArray(this.toArray(n));else{let r=new Float32Array(this.length),o=this.numberOfChannels;for(let i=0;i<o;i++){let s=this.toArray(i);for(let a=0;a<s.length;a++)r[a]+=s[a]}r=r.map(i=>i/o),this.fromArray(r)}return this}toArray(n){if(nn(n))return this.getChannelData(n);if(this.numberOfChannels===1)return this.toArray(0);{let r=[];for(let o=0;o<this.numberOfChannels;o++)r[o]=this.getChannelData(o);return r}}getChannelData(n){return this._buffer?this._buffer.getChannelData(n):new Float32Array(0)}slice(n,r=this.duration){J(this.loaded,"Buffer is not loaded");let o=Math.floor(n*this.sampleRate),i=Math.floor(r*this.sampleRate);J(o<i,"The start time must be less than the end time");let s=i-o,a=lt().createBuffer(this.numberOfChannels,s,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)a.copyToChannel(this.getChannelData(c).subarray(o,i),c);return new t(a)}_reverse(){if(this.loaded)for(let n=0;n<this.numberOfChannels;n++)this.getChannelData(n).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(n){this._reversed!==n&&(this._reversed=n,this._reverse())}static fromArray(n){return new t().fromArray(n)}static fromUrl(n){return Se(this,void 0,void 0,function*(){return yield new t().load(n)})}static load(n){return Se(this,void 0,void 0,function*(){let r=t.baseUrl===""||t.baseUrl.endsWith("/")?t.baseUrl:t.baseUrl+"/",o=yield fetch(r+n);if(!o.ok)throw new Error(`could not load url: ${n}`);let i=yield o.arrayBuffer();return yield lt().decodeAudioData(i)})}static supportsType(n){let r=n.split("."),o=r[r.length-1];return document.createElement("audio").canPlayType("audio/"+o)!==""}static loaded(){return Se(this,void 0,void 0,function*(){for(yield Promise.resolve();t.downloads.length;)yield t.downloads[0]})}}return t.baseUrl="",t.downloads=[],t})();var Hr=class extends Vi{constructor(){super({clockSource:"offline",context:da(arguments[0])?arguments[0]:NI(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:da(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=da(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return Se(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;let r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return Se(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);let n=yield this._context.startRendering();return new on(n)})}close(){return Promise.resolve()}};var UI=new Bf,ha=UI;function lt(){return ha===UI&&OI&&yv(new Vi),ha}function yv(t,e=!1){e&&ha.dispose(),$o(t)?ha=new Vi(t):da(t)?ha=new Hr(t):ha=t}if(zt&&!zt.TONE_SILENCE_LOGGING){let t="v";Qc==="dev"&&(t="");let e=` * Tone.js ${t}${Qc} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function ma(t){return Math.pow(10,t/20)}function ga(t){return 20*(Math.log(t)/Math.LN10)}function ji(t){return Math.pow(2,t/12)}var Uf=440;function qI(){return Uf}function HI(t){Uf=t}function Bi(t){return Math.round(xv(t))}function xv(t){return 69+12*Math.log2(t/Uf)}function qf(t){return Uf*Math.pow(2,(t-69)/12)}var Hf=class t extends Zt{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{let r=parseInt(e,10),o=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/r)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{let n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let o=0;return e&&e!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(o+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(o+=this._beatsToUnits(parseFloat(r)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof t&&this.fromType(this._val),ct(this._val))return this._noArg();if(Gt(this._val)&&ct(this._units)){for(let e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(lr(this._val)){let e=0;for(let n in this._val)if(ce(this._val[n])){let r=this._val[n],o=new this.constructor(this.context,n).valueOf()*r;e+=o}return e}if(ce(this._units)){let e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return Gt(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}};var Nn=class t extends Hf{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{let n=new t(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){let r=new this.constructor(this.context,e).valueOf(),o=this.valueOf(),a=Math.round(o/r)*r-o;return o+a*n}toNotation(){let e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){let s=Math.pow(2,i);n.push(s+"n."),n.push(s+"n"),n.push(s+"t")}n.push("0");let r=n[0],o=new t(this.context,n[0]).toSeconds();return n.forEach(i=>{let s=new t(this.context,i).toSeconds();Math.abs(s-e)<Math.abs(o-e)&&(r=i,o=s)}),r}toBarsBeatsSixteenths(){let e=this._beatsToUnits(1),n=this.valueOf()/e;n=parseFloat(n.toFixed(4));let r=Math.floor(n/this._getTimeSignature()),o=n%1*4;n=Math.floor(n)%this._getTimeSignature();let i=o.toString();return i.length>3&&(o=parseFloat(parseFloat(i).toFixed(3))),[r,n,o].join(":")}toTicks(){let e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Bi(this.toFrequency())}_now(){return this.context.now()}};var mn=class t extends Nn{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return qI()}static set A4(e){HI(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:t.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){let o=yj[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?o:t.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let o=1;return e&&e!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(o*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(o*=this._beatsToUnits(parseFloat(r)/4)),o}}})}transpose(e){return new t(this.context,this.valueOf()*ji(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return Bi(this.valueOf())}toNote(){let e=this.toFrequency(),n=Math.log2(e/t.A4),r=Math.round(12*n)+57,o=Math.floor(r/12);return o<0&&(r+=-12*o),xj[r%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){let e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return qf(e)}static ftom(e){return Bi(e)}},yj={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},xj=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];var Yn=class extends Nn{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}};var _t=class t extends Zt{constructor(){super();let e=C(t.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:lt()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return SI(e),new Nn(this.context,e).toSeconds()}toFrequency(e){return new mn(this.context,e).toFrequency()}toTicks(e){return new Yn(this.context,e).toTicks()}_getPartialProperties(e){let n=this.get();return Object.keys(n).forEach(r=>{ct(e[r])&&delete n[r]}),n}get(){let e=PI(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){let r=this[n];ce(r)&&ce(r.value)&&ce(r.setValueAtTime)?e[n]=r.value:r instanceof t?e[n]=r._getPartialProperties(e[n]):ut(r)||nn(r)||Gt(r)||gv(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&ce(this[n])&&(this[n]&&ce(this[n].value)&&ce(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof t?this[n].set(e[n]):this[n]=e[n])}),this}};var $r=class extends gt{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){let n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return At(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){let r=this._search(n);for(let o=r;o>=0;o--){let i=this._timeline[o];if(i.state===e)return i}}getNextState(e,n){let r=this._search(n);if(r!==-1)for(let o=r;o<this._timeline.length;o++){let i=this._timeline[o];if(i.state===e)return i}}};var De=class t extends _t{constructor(){let e=C(t.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,J(ce(e.param)&&(dr(e.param)||e.param instanceof t),"param must be an AudioParam");!dr(e.param);)e.param=e.param._param;this._swappable=ce(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new gt(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,ce(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(_t.getDefaults(),{convert:!0,units:"number"})}get value(){let e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return ce(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return ce(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return ce(this.maxValue)&&ce(this.minValue)&&At(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?ma(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?ga(e):e}setValueAtTime(e,n){let r=this.toSeconds(n),o=this._fromType(e);return J(isFinite(o)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,r),this}getValueAtTime(e){let n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),o=this._events.get(n),i=this._initialValue;if(o===null)i=this._initialValue;else if(o.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){let s=this._events.getBefore(o.time),a;s===null?a=this._initialValue:a=s.value,o.type==="setTargetAtTime"&&(i=this._exponentialApproach(o.time,a,o.value,o.constant,n))}else if(r===null)i=o.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let s=o.value;if(o.type==="setTargetAtTime"){let a=this._events.getBefore(o.time);a===null?s=this._initialValue:s=a.value}r.type==="linearRampToValueAtTime"?i=this._linearInterpolate(o.time,s,r.time,r.value,n):i=this._exponentialInterpolate(o.time,s,r.time,r.value,n)}else i=o.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){let r=this._fromType(e),o=this.toSeconds(n);return J(isFinite(r)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:o,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,o),this._param.linearRampToValueAtTime(r,o),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=rn(r,0)?this._minOutput:r,this._assertRange(r);let o=this.toSeconds(n);return J(isFinite(r)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,o),this._param.exponentialRampToValueAtTime(r,o),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);let o=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,o),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){let o=this._fromType(e);J(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");let i=this.toSeconds(n);return this._assertRange(o),J(isFinite(o)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:i,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",e,i,r),this._param.setTargetAtTime(o,i,r),this}setValueCurveAtTime(e,n,r,o=1){r=this.toSeconds(r),n=this.toSeconds(n);let i=this._fromType(e[0])*o;this.setValueAtTime(this._toType(i),n);let s=r/(e.length-1);for(let a=1;a<e.length;a++){let c=this._fromType(e[a])*o;this.linearRampToValueAtTime(this._toType(c),n+a*s)}return this}cancelScheduledValues(e){let n=this.toSeconds(e);return J(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){let n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));J(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);let o=this._events.get(n),i=this._events.getAfter(n);return o&&rn(o.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){let n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);let r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){let o=this._events.getAfter(r.time),i=o?o.time:n+2,s=(i-n)/10;for(let a=n;a<i;a+=s)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?e.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?e.setTargetAtTime(o.value,o.time,o.constant):e[o.type](o.value,o.time)}),this}setParam(e){J(this._swappable,"The Param must be assigned as 'swappable' in the constructor");let n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,o,i){return r+(n-r)*Math.exp(-(i-e)/o)}_linearInterpolate(e,n,r,o,i){return n+(o-n)*((i-e)/(r-e))}_exponentialInterpolate(e,n,r,o,i){return n*Math.pow(o/n,(i-e)/(r-e))}};var $=class t extends _t{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return ce(this.input)?dr(this.input)||this.input instanceof De?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ce(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return ce(e)&&(e instanceof t||Ur(e))}_getInternalNodes(){let e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){let e=this._getInternalNodes();J(e.length>0,"ToneAudioNode does not have any internal nodes");let n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){let n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){let n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){let n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return sn(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return la("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return $I(this,e,n,r),this}chain(...e){return pr(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),ce(this.input)&&(this.input instanceof t?this.input.dispose():Ur(this.input)&&this.input.disconnect()),ce(this.output)&&(this.output instanceof t?this.output.dispose():Ur(this.output)&&this.output.disconnect()),this._internalChannels=[],this}};function pr(...t){let e=t.shift();t.reduce((n,r)=>(n instanceof $?n.connect(r):Ur(n)&&sn(n,r),r),e)}function sn(t,e,n=0,r=0){for(J(ce(t),"Cannot connect from undefined node"),J(ce(e),"Cannot connect to undefined node"),(e instanceof $||Ur(e))&&J(e.numberOfInputs>0,"Cannot connect to node with no inputs"),J(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof $||e instanceof De;)ce(e.input)&&(e=e.input);for(;t instanceof $;)ce(t.output)&&(t=t.output);dr(e)?t.connect(e,n):t.connect(e,n,r)}function $I(t,e,n=0,r=0){if(ce(e))for(;e instanceof $;)e=e.input;for(;!Ur(t);)ce(t.output)&&(t=t.output);dr(e)?t.disconnect(e,n):Ur(e)?t.disconnect(e,n,r):t.disconnect()}var ie=class t extends ${constructor(){let e=C(t.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new De({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Z(this,"gain")}static getDefaults(){return Object.assign($.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}};var hr=class extends ${constructor(e){super(e),this.onended=le,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ie({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){let r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign($.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:le})}_startGain(e,n=1){J(this._startTime===-1,"Source cannot be started more than once");let r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){J(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();let n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{let r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==le&&(this.onended(this),this.onended=le,!this.context.isOffline)){let e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),J(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=le,this}};var mu=class t extends hr{constructor(){let e=C(t.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),sn(this._source,this._gainNode),this.offset=new De({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(hr.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){let n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}};var fe=class t extends ${constructor(){let e=C(t.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new mu({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign($.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return _a(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,o){return this._param.setValueCurveAtTime(e,n,r,o),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}};function _a(t,e,n,r){(e instanceof De||dr(e)||e instanceof fe&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof fe&&(e.overridden=!0)),sn(t,e,n,r)}var $f=class t extends De{constructor(){let e=C(t.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new gt(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(De.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);let o=this._fromType(e),i=this._events.get(n),s=Math.round(Math.max(1/r,1));for(let a=0;a<=s;a++){let c=r*a+n,u=this._exponentialApproach(i.time,i.value,o,r,c);this.linearRampToValueAtTime(this._toType(u),c)}return this}setValueAtTime(e,n){let r=this.toSeconds(n);super.setValueAtTime(e,n);let o=this._events.get(r),i=this._events.previousEvent(o),s=this._getTicksUntilEvent(i,r);return o.ticks=Math.max(s,0),this}linearRampToValueAtTime(e,n){let r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);let o=this._events.get(r),i=this._events.previousEvent(o),s=this._getTicksUntilEvent(i,r);return o.ticks=Math.max(s,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);let r=this._fromType(e),o=this._events.get(n),i=Math.round(Math.max((n-o.time)*10,1)),s=(n-o.time)/i;for(let a=0;a<=i;a++){let c=s*a+o.time,u=this._exponentialInterpolate(o.time,o.value,n,r,c);this.linearRampToValueAtTime(this._toType(u),c)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(ct(e.ticks)){let s=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(s,e.time)}let r=this._fromType(this.getValueAtTime(e.time)),o=this._fromType(this.getValueAtTime(n)),i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+o)+e.ticks}getTicksAtTime(e){let n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){let r=this.toSeconds(n),o=this.getTicksAtTime(n);return this.getTimeOfTick(o+e)-r}getTimeOfTick(e){let n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){let o=this._fromType(this.getValueAtTime(n.time)),s=(this._fromType(this.getValueAtTime(r.time))-o)/(r.time-n.time),a=Math.sqrt(Math.pow(o,2)-2*s*(n.ticks-e)),c=(-o+a)/s,u=(-o-a)/s;return(c>0?c:u)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){let r=this.toSeconds(n),o=this.toSeconds(e),i=this.getTicksAtTime(r);return this.getTicksAtTime(r+o)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){let n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}};var Wf=class t extends fe{constructor(){let e=C(t.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new $f({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(fe.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}};var Gf=class t extends _t{constructor(){let e=C(t.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new $r,this._tickOffset=new gt,this._ticksAtTime=new gt,this._secondsAtTime=new gt,this.frequency=new Wf({context:this.context,units:e.units,value:e.frequency}),Z(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},_t.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){let r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),ce(n)&&this.setTicksAtTime(n,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){let n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){let r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){let n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){let n=this.toSeconds(e),r=this._state.getLastState("stopped",n),o=this._ticksAtTime.get(n),i={state:"paused",time:n};this._state.add(i);let s=o||r,a=o?o.ticks:0,c=null;return this._state.forEachBetween(s.time,n+this.sampleTime,u=>{let l=s.time,d=this._tickOffset.get(u.time);d&&d.time>=s.time&&(a=d.ticks,l=d.time),s.state==="started"&&u.state!=="started"&&(a+=this.frequency.getTicksAtTime(u.time)-this.frequency.getTicksAtTime(l),u.time!==i.time&&(c={state:u.state,time:u.time,ticks:a})),s=u}),this._state.remove(i),c&&this._ticksAtTime.add(c),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){let n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);let n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);let o=this._secondsAtTime.get(e),i=o||n,s=o?o.seconds:0,a=null;return this._state.forEachBetween(i.time,e+this.sampleTime,c=>{let u=i.time,l=this._tickOffset.get(c.time);l&&l.time>=i.time&&(s=l.seconds,u=l.time),i.state==="started"&&c.state!=="started"&&(s+=c.time-u,c.time!==r.time&&(a={state:c.state,time:c.time,seconds:s})),i=c}),this._state.remove(r),a&&this._secondsAtTime.add(a),s}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){let r=this._tickOffset.get(n),o=this._state.get(n),i=Math.max(r.time,o.time),s=this.frequency.getTicksAtTime(i)+e-r.ticks;return this.frequency.getTimeOfTick(s)}forEachTickBetween(e,n,r){let o=this._state.get(e);this._state.forEachBetween(e,n,s=>{o&&o.state==="started"&&s.state!=="started"&&this.forEachTickBetween(Math.max(o.time,e),s.time-this.sampleTime,r),o=s});let i=null;if(o&&o.state==="started"){let s=Math.max(o.time,e),a=this.frequency.getTicksAtTime(s),c=this.frequency.getTicksAtTime(o.time),u=a-c,l=Math.ceil(u)-u;l=rn(l,1)?0:l;let d=this.frequency.getTimeOfTick(a+l);for(;d<n;){try{r(d,Math.round(this.getTicksAtTime(d)))}catch(p){i=p;break}d+=this.frequency.getDurationOfTicks(1,d)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}};var va=class t extends _t{constructor(){let e=C(t.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=le,this._lastUpdate=0,this._state=new $r("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Gf({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Z(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(_t.getDefaults(),{callback:le,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){Vf(this.context);let r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){let n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){let n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){let r=this.toSeconds(n),o=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(o+e,r)}_loop(){let e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":let o=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,o);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,o)=>{this.callback(r,o)}))}getStateAtTime(e){let n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}};zo.mixin(va);var Qn=class t extends ${constructor(){let e=C(t.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new ie({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Z(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign($.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}};var Ev=class t extends ${constructor(){let e=C(t.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Qn({context:this.context}),this.output=new ie({context:this.context}),this.volume=this.input.volume,pr(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign($.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),pr(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}};Wo(t=>{t.destination=new Ev({context:t})});Go(t=>{t.destination.dispose()});var wv=class extends ${constructor(){super(...arguments),this.name="Listener",this.positionX=new De({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new De({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new De({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new De({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new De({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new De({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new De({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new De({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new De({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign($.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}};Wo(t=>{t.listener=new wv({context:t})});Go(t=>{t.listener.dispose()});var ya=class t extends Zt{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;let e=C(t.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;let r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:le,onload:le,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return J(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=le,o=le){return Gt(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new on(this.baseUrl+n,r,o))):this._buffers.set(e.toString(),new on(n,r,o)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}};var On=class extends Yn{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}};var Cv=class extends _t{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new gt,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){let e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,n=>{e-n.time<=this.expiration&&n.callback(),this._events.remove(n)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}};Wo(t=>{t.draw=new Cv({context:t})});Go(t=>{t.draw.dispose()});var zf=class extends Zt{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){J(ce(e.time),"Events must have a time property"),J(ce(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new Dv(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){let n=[];this._root.search(e.time,n);for(let r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{let n=e.getBalance(),r,o=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,o=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,o=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,o=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,o=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),o&&this._rebalance(o)}e.dispose()}_rotateLeft(e){let n=e.parent,r=e.isLeftChild(),o=e.right;o&&(e.right=o.left,o.left=e),n!==null?r?n.left=o:n.right=o:this._setRoot(o)}_rotateRight(e){let n=e.parent,r=e.isLeftChild(),o=e.left;o&&(e.left=o.right,o.right=e),n!==null?r?n.left=o:n.right=o:this._setRoot(o)}_rebalance(e){let n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){let n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let o=1;o<n.length;o++)n[o].low>r.low&&(r=n[o]);return r.event}}return null}forEach(e){if(this._root!==null){let n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){let r=[];this._root.search(e,r),r.forEach(o=>{o.event&&n(o.event)})}return this}forEachFrom(e,n){if(this._root!==null){let r=[];this._root.searchAfter(e,r),r.forEach(o=>{o.event&&n(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}},Dv=class{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}};var Zf=class extends Zt{constructor(e){super(),this.name="TimelineValue",this._timeline=new gt({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){let n=this._timeline.get(e);return n?n.value:this._initialValue}};var an=class t extends ${constructor(){super(C(t.getDefaults(),arguments,["context"]))}connect(e,n=0,r=0){return _a(this,e,n,r),this}};var Rn=class t extends an{constructor(){let e=C(t.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,ut(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):DI(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(fe.getDefaults(),{length:1024})}setMap(e,n=1024){let r=new Float32Array(n);for(let o=0,i=n;o<i;o++){let s=o/(i-1)*2-1;r[o]=e(s,o)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){let n=["none","2x","4x"].some(r=>r.includes(e));J(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}};var xa=class t extends an{constructor(){let e=C(t.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Rn({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(an.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}};var Ea=(()=>{class t{constructor(n,r){this.id=t._eventId++,this._remainderTime=0;let o=Object.assign(t.getDefaults(),r);this.transport=n,this.callback=o.callback,this._once=o.once,this.time=Math.floor(o.time),this._remainderTime=o.time-this.time}static getDefaults(){return{callback:le,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(n){if(this.callback){let r=this.transport.bpm.getDurationOfTicks(1,n);this.callback(n+this._remainderTime*r),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}return t._eventId=0,t})();var Yf=class t extends Ea{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);let r=Object.assign(t.getDefaults(),n);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Ea.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Li(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new On(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Li(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new On(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;let n=this.transport.getTicksAtTime(e);ho(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}};var Qf=class t extends _t{constructor(){let e=C(t.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new Zf(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new gt,this._repeatedEvents=new zf,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new va({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Z(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(_t.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){let r=n%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(r*Math.PI)*this._swingAmount;e+=new On(this.context,this._swingTicks*2/3).toSeconds()*o}_v(!0),this._timeline.forEachAtTime(n,r=>r.invoke(e)),_v(!1)}schedule(e,n){let r=new Ea(this,{callback:e,time:new Yn(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,o=1/0){let i=new Yf(this,{callback:e,duration:new Nn(this.context,o).toTicks(),interval:new Nn(this.context,n).toTicks(),time:new Yn(this.context,r).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){let r=new Ea(this,{callback:e,once:!0,time:new Yn(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){let n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){let n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new On(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let r;return ce(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){ut(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Nn(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Nn(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new On(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){let e=this.now(),n=this._clock.getTicksAtTime(e);return new On(this.context,n).toBarsBeatsSixteenths()}set position(e){let n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){let n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){let e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){let n=this.now();if(this.state==="started"){let r=this._clock.getTicksAtTime(n),o=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),i=n+o;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{let n=this.now(),r=this.getTicksAtTime(n),o=e-r%e;return this._clock.nextTickTime(o,n)}}syncSignal(e,n){let r=this.now(),o=this.bpm,i=1/(60/o.getValueAtTime(r)/this.PPQ),s=[];if(e.units==="time"){let c=.015625/i,u=new ie(c),l=new xa(-1),d=new ie(c);o.chain(u,l,d),o=d,i=1/i,s=[u,l,d]}n||(e.getValueAtTime(r)!==0?n=e.getValueAtTime(r)/i:n=0);let a=new ie(n);return o.connect(a),a.connect(e._param),s.push(a),this._syncedSignals.push({initial:e.value,nodes:s,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){let r=this._syncedSignals[n];r.signal===e&&(r.nodes.forEach(o=>o.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),pa(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}};zo.mixin(Qf);Wo(t=>{t.transport=new Qf({context:t})});Go(t=>{t.transport.dispose()});var Be=class extends ${constructor(e){super(e),this.input=void 0,this._state=new $r("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=le,this._syncedStop=le,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Qn({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Z(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign($.getDefaults(),{mute:!1,onstop:le,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let o=ct(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")J(ho(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,n,r);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){let i=this._state.get(o);i&&(i.offset=this.toSeconds(Mn(n,0)),i.duration=r?this.toSeconds(r):void 0);let s=this.context.transport.schedule(a=>{this._start(a,n,r)},o);this._scheduled.push(s),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else Vf(this.context),this._start(o,n,r);return this}stop(e){let n=ct(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||ce(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{let r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(ho(n,0)){let r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){let o=n-this.toSeconds(r.time),i;r.duration&&(i=this.toSeconds(r.duration)-o),this._start(e,this.toSeconds(r.offset)+o,i)}}},this._syncedStop=e=>{let n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=le,this.unsync(),this._volume.dispose(),this._state.dispose(),this}};var mo=class t extends hr{constructor(){let e=C(t.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,sn(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new De({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new on(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(hr.getDefaults(),{url:new on,loop:!1,loopEnd:0,loopStart:0,onload:le,onerror:le,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,o=1){J(this.buffer.loaded,"buffer is either not set or not loaded");let i=this.toSeconds(e);this._startGain(i,o),this.loop?n=Mn(n,this.loopStart):n=Mn(n,0);let s=Math.max(this.toSeconds(n),0);if(this.loop){let a=this.toSeconds(this.loopEnd)||this.buffer.duration,c=this.toSeconds(this.loopStart),u=a-c;hu(s,a)&&(s=(s-c)%u+c),rn(s,this.buffer.duration)&&(s=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Li(s,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,s)),ce(r)){let a=this.toSeconds(r);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}};var xDe=44100*5;function gn(t,e){return Se(this,void 0,void 0,function*(){let n=e/t.context.sampleRate,r=new Hr(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}var gu=class t extends hr{constructor(){let e=C(t.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],sn(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new De({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new De({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Z(this,["frequency","detune"])}static getDefaults(){return Object.assign(hr.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){let n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}};var vt=(()=>{class t extends Be{constructor(){let n=C(t.getDefaults(),arguments,["frequency","type"]);super(n),this.name="Oscillator",this._oscillator=null,this.frequency=new fe({context:this.context,units:"frequency",value:n.frequency}),Z(this,"frequency"),this.detune=new fe({context:this.context,units:"cents",value:n.detune}),Z(this,"detune"),this._partials=n.partials,this._partialCount=n.partialCount,this._type=n.type,n.partialCount&&n.type!=="custom"&&(this._type=this.baseType+n.partialCount.toString()),this.phase=n.phase}static getDefaults(){return Object.assign(Be.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(n){let r=this.toSeconds(n),o=new gu({context:this.context,onended:()=>this.onstop(this)});this._oscillator=o,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(r)}_stop(n){let r=this.toSeconds(n);this._oscillator&&this._oscillator.stop(r)}_restart(n){let r=this.toSeconds(n);return this.log("restart",r),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(r),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return t._periodicWaveCache.find(r=>r.phase===this._phase&&FI(r.partials,this._partials));{let n=t._periodicWaveCache.find(r=>r.type===this._type&&r.phase===this._phase);return this._partialCount=n?n.partialCount:this._partialCount,n}}get type(){return this._type}set type(n){this._type=n;let r=["sine","square","sawtooth","triangle"].indexOf(n)!==-1;if(this._phase===0&&r)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=n);else{let o=this._getCachedPeriodicWave();if(ce(o)){let{partials:i,wave:s}=o;this._wave=s,this._partials=i,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{let[i,s]=this._getRealImaginary(n,this._phase),a=this.context.createPeriodicWave(i,s);this._wave=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),t._periodicWaveCache.push({imag:s,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:i,type:this._type,wave:this._wave}),t._periodicWaveCache.length>100&&t._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(n){this.partialCount&&this._type!=="custom"&&n!=="custom"?this.type=n+this.partialCount:this.type=n}get partialCount(){return this._partialCount}set partialCount(n){At(n,0);let r=this._type,o=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(o&&(r=o[1]),this._type!=="custom")n===0?this.type=r:this.type=r+n.toString();else{let i=new Float32Array(n);this._partials.forEach((s,a)=>i[a]=s),this._partials=Array.from(i),this.type=this._type}}_getRealImaginary(n,r){let i=2048,s=new Float32Array(i),a=new Float32Array(i),c=1;if(n==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,i=c,this._partials.length===0)return[s,a]}else{let u=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(n);u?(c=parseInt(u[2],10)+1,this._partialCount=parseInt(u[2],10),n=u[1],c=Math.max(c,2),i=c):this._partialCount=0,this._partials=[]}for(let u=1;u<i;++u){let l=2/(u*Math.PI),d;switch(n){case"sine":d=u<=c?1:0,this._partials[u-1]=d;break;case"square":d=u&1?2*l:0,this._partials[u-1]=d;break;case"sawtooth":d=l*(u&1?1:-1),this._partials[u-1]=d;break;case"triangle":u&1?d=2*(l*l)*(u-1>>1&1?-1:1):d=0,this._partials[u-1]=d;break;case"custom":d=this._partials[u-1];break;default:throw new TypeError("Oscillator: invalid type: "+n)}d!==0?(s[u]=-d*Math.sin(r*u),a[u]=d*Math.cos(r*u)):(s[u]=0,a[u]=0)}return[s,a]}_inverseFFT(n,r,o){let i=0,s=n.length;for(let a=0;a<s;a++)i+=n[a]*Math.cos(a*o)+r[a]*Math.sin(a*o);return i}getInitialValue(){let[n,r]=this._getRealImaginary(this._type,0),o=0,i=Math.PI*2,s=32;for(let a=0;a<s;a++)o=Math.max(this._inverseFFT(n,r,a/s*i),o);return vv(-this._inverseFFT(n,r,this._phase)/o,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(n){this._phase=n*Math.PI/180,this.type=this._type}asArray(){return Se(this,arguments,void 0,function*(n=1024){return gn(this,n)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}return t._periodicWaveCache=[],t})();var wa=class extends an{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Rn({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}};var yt=class t extends fe{constructor(){let e=C(t.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new ie({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(fe.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}};var _u=class t extends Be{constructor(){let e=C(t.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new wa({context:this.context}),this._modulationNode=new ie({context:this.context}),this._carrier=new vt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new vt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new yt({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Z(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(vt.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Se(this,arguments,void 0,function*(e=1024){return gn(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}};var Ca=class t extends Be{constructor(){let e=C(t.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new ie({context:this.context,gain:0}),this._carrier=new vt({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new fe({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new vt({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new yt({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new yt({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Z(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(vt.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return Se(this,arguments,void 0,function*(e=1024){return gn(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}};var Ui=class t extends Be{constructor(){let e=C(t.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new ie({context:this.context,gain:0}),this._thresh=new Rn({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new fe({context:this.context,units:"audioRange",value:e.width}),this._triangle=new vt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Z(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Be.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return Se(this,arguments,void 0,function*(e=1024){return gn(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}};var vu=class t extends Be{constructor(){let e=C(t.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new fe({context:this.context,units:"frequency",value:e.frequency}),this.detune=new fe({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Z(this,["frequency","detune"])}static getDefaults(){return Object.assign(vt.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){let n=-e/2,r=e/(this._oscillators.length-1);this._forEach((o,i)=>o.detune.value=n+r*i)}}get count(){return this._oscillators.length}set count(e){if(At(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){let r=new vt({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):le});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return Se(this,arguments,void 0,function*(e=1024){return gn(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}};var yu=class t extends Be{constructor(){let e=C(t.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new yt({context:this.context,value:2}),this._pulse=new Ui({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new vt({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Z(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Be.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return Se(this,arguments,void 0,function*(e=1024){return gn(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}};var WI={am:_u,fat:vu,fm:Ca,oscillator:vt,pulse:Ui,pwm:yu},qi=class t extends Be{constructor(){let e=C(t.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new fe({context:this.context,units:"frequency",value:e.frequency}),this.detune=new fe({context:this.context,units:"cents",value:e.detune}),Z(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(vt.getDefaults(),Ca.getDefaults(),_u.getDefaults(),vu.getDefaults(),Ui.getDefaults(),yu.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;let n=WI[e],r=this.now();if(this._oscillator){let o=this._oscillator;o.stop(r),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof WI[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&nn(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&nn(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Gt(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return Se(this,arguments,void 0,function*(e=1024){return gn(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}};function Kf(t,e=1/0){let n=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){At(i,t,e),n.set(this,i)}})}}function _n(t,e=1/0){let n=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){At(this.toSeconds(i),t,e),n.set(this,i)}})}}var xu=class t extends Be{constructor(){let e=C(t.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new on({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Be.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:le,onerror:le,playbackRate:1,reverse:!1})}load(e){return Se(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=le){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=Mn(n,this._loopStart):n=Mn(n,0);let o=this.toSeconds(n),i=r;r=Mn(r,Math.max(this._buffer.duration-o,0));let s=this.toSeconds(r);s=s/this._playbackRate,e=this.toSeconds(e);let a=new mo({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+s),this._state.setStateAtTime("stopped",e+s,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&ct(i)?a.start(e,o):a.start(e,o,s-this.toSeconds(this.fadeOut))}_stop(e){let n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(e),this._start(e,n,r)}seek(e,n){let r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){let o=this.toSeconds(e);this._stop(r),this._start(r,o)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&At(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&At(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){let n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;let n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}};jt([_n(0)],xu.prototype,"fadeIn",void 0);jt([_n(0)],xu.prototype,"fadeOut",void 0);var cn=class t extends ${constructor(){let e=C(t.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new fe({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign($.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(Gt(e))return e;{let r;for(r in Jf)if(Jf[r][n]===e)return r;return e}}_setCurve(e,n,r){if(Gt(r)&&Reflect.has(Jf,r)){let o=Jf[r];lr(o)?e!=="_decayCurve"&&(this[e]=o[n]):this[e]=o}else if(ut(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let o=this.toSeconds(this.attack),i=this.toSeconds(this.decay),s=this.getValueAtTime(e);if(s>0){let a=1/o;o=(1-s)/a}if(o<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,o,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,o,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let c=1;c<a.length;c++)if(a[c-1]<=s&&s<=a[c]){a=this._attackCurve.slice(c),a[0]=s;break}this._sig.setValueCurveAtTime(a,e,o,n)}if(i&&this.sustain<1){let a=n*this.sustain,c=e+o;this.log("decay",c),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+c):this._sig.exponentialApproachValueAtTime(a,c,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);let n=this.getValueAtTime(e);if(n>0){let r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(J(ut(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return _a(this,e,n,r),this}asArray(){return Se(this,arguments,void 0,function*(e=1024){let n=e/this.context.sampleRate,r=new Hr(1,n,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=o+this.toSeconds(this.release),s=i*.1,a=i+s,c=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:r}));return c._sig.toDestination(),c.triggerAttackRelease(n*(o+s)/a,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}};jt([_n(0)],cn.prototype,"attack",void 0);jt([_n(0)],cn.prototype,"decay",void 0);jt([Kf(0,1)],cn.prototype,"sustain",void 0);jt([_n(0)],cn.prototype,"release",void 0);var Jf=(()=>{let e,n,r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));let o=[],i=6.4;for(e=0;e<127;e++){n=e/127;let p=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;o[e]=p/10+n*.83}o[127]=1;let s=[],a=5;for(e=0;e<128;e++)s[e]=Math.ceil(e/127*a)/a;let c=[];for(e=0;e<128;e++)n=e/127,c[e]=.5*(1-Math.cos(Math.PI*n));let u=[];for(e=0;e<128;e++){n=e/127;let p=Math.pow(n,3)*4+.2,f=Math.cos(p*Math.PI*2*n);u[e]=Math.abs(f*(1-n))}function l(p){let f=new Array(p.length);for(let h=0;h<p.length;h++)f[h]=1-p[h];return f}function d(p){return p.slice(0).reverse()}return{bounce:{In:l(u),Out:u},cosine:{In:r,Out:d(r)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:l(o)},sine:{In:c,Out:l(c)},step:{In:s,Out:l(s)}}})();var mr=class t extends ${constructor(){let e=C(t.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new Qn({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Z(this,"volume")}static getDefaults(){return Object.assign($.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){let r=this["_original_"+e]=this[e];this[e]=(...o)=>{let i=o[n],s=this.context.transport.schedule(a=>{o[n]=a,r.apply(this,o)},i);this._scheduledEvents.push(s)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,r,o){let i=this.toSeconds(r),s=this.toSeconds(n);return this.triggerAttack(e,i,o),this.triggerRelease(i+s),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}};var kn=class t extends mr{constructor(){let e=C(t.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(mr.getDefaults(),{detune:0,onsilence:le,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);let o=this.toSeconds(n);return this._triggerEnvelopeAttack(o,r),this.setNote(e,o),this}triggerRelease(e){this.log("triggerRelease",e);let n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){let r=this.toSeconds(n),o=e instanceof mn?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){let i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,i,r)}else this.frequency.setValueAtTime(o,r);return this}};jt([_n(0)],kn.prototype,"portamento",void 0);var Da=class t extends cn{constructor(){super(C(t.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new ie({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}};var go=class t extends kn{constructor(){let e=C(t.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new qi(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Da(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Z(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(kn.getDefaults(),{envelope:Object.assign(qr(cn.getDefaults(),Object.keys($.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(qr(qi.getDefaults(),[...Object.keys(Be.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){let r=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+o)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}};var tp=class t extends go{constructor(){let e=C(t.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Z(this,["oscillator","envelope"])}static getDefaults(){return fr(kn.getDefaults(),go.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){let r=this.toSeconds(n),o=this.toFrequency(e instanceof mn?e.toFrequency():e),i=o*this.octaves;return this.oscillator.frequency.setValueAtTime(i,r),this.oscillator.frequency.exponentialRampToValueAtTime(o,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}};jt([Kf(0)],tp.prototype,"octaves",void 0);jt([_n(0)],tp.prototype,"pitchDecay",void 0);var zI=new Set;function Ta(t){zI.add(t)}function np(t,e){let n=`registerProcessor("${t}", ${e})`;zI.add(n)}var Cj=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Ta(Cj);var Dj=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Ta(Dj);var bj=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Ta(bj);var ZI="feedback-comb-filter",Tj=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;np(ZI,Tj);var rp=class t extends mr{constructor(){let e=C(t.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;let n={};Object.keys(e.urls).forEach(r=>{let o=parseInt(r,10);if(J(pu(r)||nn(o)&&isFinite(o),`url key is neither a note or midi pitch: ${r}`),pu(r)){let i=new mn(this.context,r).toMidi();n[i]=e.urls[r]}else nn(o)&&isFinite(o)&&(n[o]=e.urls[o])}),this._buffers=new ya({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(mr.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:le,onerror:le,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(o=>{let i=xv(new mn(this.context,o).toFrequency()),s=Math.round(i),a=i-s,c=this._findClosest(s),u=s-c,l=this._buffers.get(u),d=ji(c+a),p=new mo({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:d}).connect(this.output);p.start(n,0,l.duration/d,r),ut(this._activeSources.get(s))||this._activeSources.set(s,[]),this._activeSources.get(s).push(p),p.onended=()=>{if(this._activeSources&&this._activeSources.has(s)){let f=this._activeSources.get(s),h=f.indexOf(p);h!==-1&&f.splice(h,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{let o=new mn(this.context,r).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){let i=this._activeSources.get(o);n=this.toSeconds(n),i.forEach(s=>{s.stop(n)}),this._activeSources.set(o,[])}}),this}releaseAll(e){let n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,o=1){let i=this.toSeconds(r);return this.triggerAttack(e,i,o),ut(n)?(J(ut(e),"notes must be an array when duration is array"),e.forEach((s,a)=>{let c=n[Math.min(a,n.length-1)];this.triggerRelease(s,i+this.toSeconds(c))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,r){if(J(pu(e)||isFinite(e),`note must be a pitch or midi: ${e}`),pu(e)){let o=new mn(this.context,e).toMidi();this._buffers.add(o,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}};jt([_n(0)],rp.prototype,"attack",void 0);jt([_n(0)],rp.prototype,"release",void 0);var Eu=class t extends ${constructor(){let e=C(t.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new De({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Z(this,"pan")}static getDefaults(){return Object.assign($.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}};var XI="bit-crusher",Rj=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;np(XI,Rj);var uke=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100];var _ke=[1687/25e3,1601/25e3,2053/25e3,2251/25e3];var Sa=class t extends ${constructor(){let e=C(t.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new ie({context:this.context}),t._allSolos.has(this.context)||t._allSolos.set(this.context,new Set),t._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign($.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),t._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){t._soloed.has(this.context)||t._soloed.set(this.context,new Set),t._soloed.get(this.context).add(this)}_removeSolo(){t._soloed.has(this.context)&&t._soloed.get(this.context).delete(this)}_isSoloed(){return t._soloed.has(this.context)&&t._soloed.get(this.context).has(this)}_noSolos(){return!t._soloed.has(this.context)||t._soloed.has(this.context)&&t._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),t._allSolos.get(this.context).delete(this),this._removeSolo(),this}};Sa._allSolos=new Map;Sa._soloed=new Map;var ap=class t extends ${constructor(){let e=C(t.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Eu({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Qn({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Z(this,["pan","volume"])}static getDefaults(){return Object.assign($.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}};var Av=class t extends ${constructor(){let e=C(t.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Sa({solo:e.solo,context:this.context}),this._panVol=this.output=new ap({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Z(this,["pan","volume"])}static getDefaults(){return Object.assign($.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return t.buses.has(e)||t.buses.set(e,new ie({context:this.context})),t.buses.get(e)}send(e,n=0){let r=this._getBus(e),o=new ie({context:this.context,units:"decibels",gain:n});return this.connect(o),o.connect(r),o}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}};Av.buses=new Map;var n2e=lt().transport;var r2e=lt().destination,o2e=lt().destination;var i2e=lt().listener;var s2e=lt().draw;var a2e=lt();function Uj(t,e){if(t&1&&(y(0,"div",5)(1,"span"),D(2),x()()),t&2){let n=e.index,r=O();R(2),Ye(" ",r.noteValidation[n]?"\u{1F7E2}":"\u26AA"," ")}}function qj(t,e){if(t&1){let n=he();y(0,"div",6),re("click",function(){let o=G(n).$implicit,i=O();return z(i.playNote(o))}),x()}if(t&2){let n=e.$implicit;Oo("black",n.includes("#"))}}var cp=class t{expectedSequence=[];unlocked=new it;notes=["E4","F4","F#4","G4","G#4","A4","A#4","B4","C5","C#5","D5","D#5","E5"];userSequence=[];userNote="";noteValidation=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1];progress=0;synth=new go().toDestination();constructor(){console.log(this.expectedSequence)}playNote(e){this.synth.triggerAttackRelease(e,"8n"),this.userNote=e,this.checkSequence()}checkSequence(){this.userNote==this.expectedSequence[this.progress]?(this.noteValidation[this.progress]=!0,this.progress++):(this.noteValidation=new Array(10).fill(!1),this.progress=0),this.progress==this.expectedSequence.length&&(this.unlocked.emit(),this.noteValidation=new Array(10).fill(!1),this.progress=0)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=kt({type:t,selectors:[["app-piano"]],inputs:{expectedSequence:"expectedSequence"},outputs:{unlocked:"unlocked"},decls:5,vars:2,consts:[[1,"content"],[1,"progress"],["class","circle",4,"ngFor","ngForOf"],[1,"piano"],["class","key",3,"black","click",4,"ngFor","ngForOf"],[1,"circle"],[1,"key",3,"click"]],template:function(n,r){n&1&&(y(0,"div",0)(1,"div",1),je(2,Uj,3,1,"div",2),x(),y(3,"div",3),je(4,qj,1,2,"div",4),x()()),n&2&&(R(2),Q("ngForOf",r.noteValidation),R(2),Q("ngForOf",r.notes))},dependencies:[Fo,As],styles:['@charset "UTF-8";.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-top:20px;padding-bottom:20px}.progress[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;height:50px}.circle[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;justify-content:center;align-items:center}.piano[_ngcontent-%COMP%]{display:flex}.key[_ngcontent-%COMP%]{width:40px;border-radius:0 0 8px 8px;height:150px;margin:1px;background:#fff;border:1px solid #000;display:flex;align-items:flex-end;justify-content:center;cursor:pointer}.key.black[_ngcontent-%COMP%]{background:#000;width:25px;height:100px;margin-left:-12px;margin-right:-12px;color:#fff;z-index:1}']})};var up=[{id:0,nom:"Chasse au tr\xE9sor",description:"",format:"texte",reponse:"",encours:!0,validee:!1,display:!0},{id:1,nom:"Mise en bouche",description:"",format:"texte",reponse:"IKEA, pug, avoine",encours:!1,validee:!1,display:!1},{id:2,nom:"L\xE0 o\xF9 tout commence",description:"",format:"texte",reponse:"Opera, Muses, Les Muses",encours:!1,validee:!1,display:!1},{id:3,nom:"Tequila & tunning",description:"",format:"texte",reponse:"8523",encours:!1,validee:!1,display:!1},{id:4,nom:"Copilote",description:"",format:"texte",reponse:"Pancakes, pancake",encours:!1,validee:!1,display:!1},{id:5,nom:"Kiffeuse de pictos va",description:"",format:"texte",reponse:"C\xE9lestins",encours:!1,validee:!1,display:!1},{id:6,nom:"Le\xE7on de piano",description:"",format:"texte",reponse:"",encours:!1,validee:!1,display:!1},{id:7,nom:"Plif Plouf",description:"",format:"texte",reponse:"72",encours:!1,validee:!1,display:!1},{id:8,nom:"A l'ancienne",description:"",format:"texte",reponse:"Parc arch\xE9ologique, Vieux Lyon",encours:!1,validee:!1,display:!1},{id:9,nom:"Mille-pattes",description:"",format:"texte",reponse:"Mandelot, Rue Mandelot",encours:!1,validee:!1,display:!1},{id:10,nom:"Petit plaisir",description:"",format:"texte",reponse:"1020",encours:!1,validee:!1,display:!1},{id:11,nom:"Jolie coursive",description:"",format:"texte",reponse:"Philibert Delorme",encours:!1,validee:!1,display:!1},{id:12,nom:"Le juste prix",description:"",format:"texte",reponse:"2231",encours:!1,validee:!1,display:!1},{id:13,nom:"Fish & Chips",description:"",format:"texte",reponse:"FOOD-CRAFT BEER-WHISKY",encours:!1,validee:!1,display:!1},{id:14,nom:"On approche de la fin",description:"",format:"texte",reponse:"Puppy yoga",encours:!1,validee:!1,display:!1},{id:15,nom:"Clap de fin",description:"",format:"texte",reponse:"",encours:!1,validee:!1,display:!1},{id:16,nom:"Fais tes affaires",description:"",format:"texte",reponse:"",encours:!1,validee:!1,display:!1},{id:17,nom:"Bon anniversaire !",description:"",format:"texte",reponse:"",encours:!1,validee:!1,display:!1}];var lp=class t{steps=[];currentStepIndex=0;constructor(){this.loadSteps()}loadSteps(){if(typeof window<"u"&&window.localStorage){let e=localStorage.getItem("steps");e?(this.steps=JSON.parse(e),this.currentStepIndex=this.steps.findIndex(n=>!n.encours),this.currentStepIndex===-1&&(this.currentStepIndex=0)):(this.steps=up,this.currentStepIndex=0,this.saveSteps())}else this.steps=up,this.currentStepIndex=0}saveSteps(){typeof window<"u"&&window.localStorage&&localStorage.setItem("steps",JSON.stringify(this.steps))}getSteps(){return this.steps}getCurrentStep(){return this.steps[this.currentStepIndex]}nextStep(e){e<this.steps.length-1&&(this.steps[e].display=!1,this.steps[e+1].encours=!0,this.steps[e+1].display=!0,this.saveSteps())}completeStep(e){this.steps[e].validee=!0,this.steps[e].encours=!1,this.saveSteps()}resetSteps(){this.steps=up.map(e=>V(v({},e),{completed:!1})),this.currentStepIndex=0,this.saveSteps()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})};var $j=()=>["C5","F4","G#4","G#4","F4","F4","D#5","C#5","C5","G#4"];function Wj(t,e){if(t&1){let n=he();y(0,"div",4)(1,"div",5)(2,"h3"),D(3),x()(),y(4,"div",6),P(5,"br"),y(6,"p"),D(7," Un grand jour implique de grandes activit\xE9s ! "),x(),P(8,"br"),y(9,"p"),D(10," Je t'emm\xE8ne avec moi faire un tour de notre histoire et de 2/3 endroits sympas, histoire de se rappeler quelques bons souvenirs (y aura peut-\xEAtre des trucs \xE0 grignoter sur le chemin). "),x(),P(11,"br"),y(12,"p"),D(13," Si t'es partante, je te laisse aller mettre un slip (t'as toujours pas le droit de sortir habill\xE9e comme \xE7a) et cliquer sur ce petit bouton fort sympathique pour se lancer \xE0 l'aventure : "),x(),P(14,"br")(15,"br"),y(16,"div")(17,"button",7),re("click",function(){G(n);let o=O();return z(o.validateStep(0))}),D(18,"J'ai mis mon slip \u{1FA72} "),x()()(),P(19,"div",8),x()}if(t&2){let n=O();R(3),Ar(n.steps[0].nom)}}function Gj(t,e){if(t&1){let n=he();y(0,"div",8)(1,"p"),D(2," Une fois trouv\xE9, devine le mot de passe pour aller \xE0 l'\xE9tape suivante."),x(),P(3,"br"),y(4,"input",11),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.reponseText,o)||(i.reponseText=o),z(o)}),x(),P(5,"br")(6,"br"),y(7,"div")(8,"button",7),re("click",function(){G(n);let o=O(2);return z(o.checkResponseText(1))}),D(9,"C'est good pour moi \u2705"),x()()()}if(t&2){let n=O(2);R(4),Ge("ngModel",n.reponseText)}}function zj(t,e){if(t&1){let n=he();y(0,"div",12),P(1,"br"),y(2,"p",13),D(3,"Et oui c'est bien jou\xE9 !"),x(),P(4,"br"),y(5,"p"),D(6,"Maintenant que t'as compris comment \xE7a va marcher, clique l\xE0 la star : "),x(),P(7,"br"),y(8,"div")(9,"button",7),re("click",function(){G(n);let o=O(2);return z(o.nextStep(1))}),D(10,"Je suis \xE0 fond \u{1F938}"),x()()()}}function Zj(t,e){if(t&1&&(y(0,"div",4)(1,"div",5)(2,"h3"),D(3),x()(),y(4,"div",6),P(5,"br"),y(6,"p"),D(7,"Commen\xE7ons simplement : un classique chaud/froid qui va t'emmener \xE0 un petit cadeau."),x(),P(8,"br"),x(),je(9,Gj,10,1,"div",9)(10,zj,11,0,"div",10),x()),t&2){let n=O();R(3),Ye("#1 - ",n.steps[1].nom),R(6),Q("ngIf",n.steps[1].encours),R(),Q("ngIf",n.steps[1].validee)}}function Yj(t,e){if(t&1){let n=he();y(0,"div",8)(1,"input",11),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.reponseText,o)||(i.reponseText=o),z(o)}),x(),P(2,"br")(3,"br"),y(4,"div")(5,"button",7),re("click",function(){G(n);let o=O(2);return z(o.checkResponseText(2))}),D(6,"C'est mon dernier mot \u2705"),x()()()}if(t&2){let n=O(2);R(),Ge("ngModel",n.reponseText)}}function Qj(t,e){if(t&1){let n=he();y(0,"div",12),P(1,"br"),y(2,"p",13),D(3,"Et oui c'est bien jou\xE9 !"),x(),P(4,"br")(5,"br"),y(6,"div")(7,"button",7),re("click",function(){G(n);let o=O(2);return z(o.nextStep(2))}),D(8,"Clique quand t'es arriv\xE9e \u{1F4CD}"),x()()()}}function Xj(t,e){if(t&1&&(y(0,"div",4)(1,"div",5)(2,"h3"),D(3),x()(),y(4,"div",6),P(5,"br"),y(6,"p"),D(7," Commen\xE7ons par le commencement : o\xF9 est-ce que j'ai eu l'occasion de voir tes naseaux pour la premi\xE8re fois ? "),x(),P(8,"br"),x(),je(9,Yj,7,1,"div",9)(10,Qj,9,0,"div",10),x()),t&2){let n=O();R(3),Ye("#2 - ",n.steps[2].nom),R(6),Q("ngIf",n.steps[2].encours),R(),Q("ngIf",n.steps[2].validee)}}function Kj(t,e){if(t&1){let n=he();y(0,"div",8),P(1,"br"),y(2,"div",14)(3,"p"),D(4," Comme tu l'as si bien dit "),y(5,"strong"),D(6,` "maintenant tu as d'autres trous \xE0 t'occuper"`),x(),D(7,"."),P(8,"br"),D(9," Il y a 4 chiffres qui ont jou\xE9 un r\xF4le crucial pour m'en ouvrir les portes. "),x(),P(10,"br"),y(11,"p"),D(12," Lesquels? "),x(),P(13,"br"),y(14,"div",15)(15,"input",16),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.code[0],o)||(i.code[0]=o),z(o)}),re("input",function(o){G(n);let i=O(2);return z(i.focusNext(o,1))}),x(),y(16,"input",16),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.code[1],o)||(i.code[1]=o),z(o)}),re("input",function(o){G(n);let i=O(2);return z(i.focusNext(o,2))}),x(),y(17,"input",16),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.code[2],o)||(i.code[2]=o),z(o)}),re("input",function(o){G(n);let i=O(2);return z(i.focusNext(o,3))}),x(),y(18,"input",17),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.code[3],o)||(i.code[3]=o),z(o)}),x()(),y(19,"div")(20,"button",7),re("click",function(){G(n);let o=O(2);return z(o.checkCode(3))}),D(21,"\xC7a part \u{1F512}"),x()()()()}if(t&2){let n=O(2);R(15),Ge("ngModel",n.code[0]),R(),Ge("ngModel",n.code[1]),R(),Ge("ngModel",n.code[2]),R(),Ge("ngModel",n.code[3])}}function Jj(t,e){if(t&1){let n=he();y(0,"div",12),P(1,"br"),y(2,"p",13),D(3,"Et oui c'est bien jou\xE9 !"),x(),y(4,"p"),D(5,"Maintenant va au d\xE9but de la rue Romarin (l\xE0 o\xF9 t'es all\xE9e \xE0 la pharmacie en tatanes)"),x(),P(6,"br")(7,"br"),y(8,"div")(9,"button",7),re("click",function(){G(n);let o=O(2);return z(o.nextStep(3))}),D(10,"Jissui \u{1F4CD}"),x()()()}}function eB(t,e){if(t&1&&(y(0,"div",4)(1,"div",5)(2,"h3"),D(3),x()(),y(4,"div",6),P(5,"br"),y(6,"p"),D(7," Rejoins cet endroit o\xF9 on a pass\xE9 notre premi\xE8re nuit et r\xE9pond \xE0 l'\xE9nigme une fois arriv\xE9e. "),x()(),je(8,Kj,22,4,"div",9)(9,Jj,11,0,"div",10),x()),t&2){let n=O();R(3),Ye("#3 - ",n.steps[3].nom),R(5),Q("ngIf",n.steps[3].encours),R(),Q("ngIf",n.steps[3].validee)}}function tB(t,e){if(t&1){let n=he();y(0,"div",8),P(1,"br"),y(2,"div",14),P(3,"br"),y(4,"p",18),D(5,"\u2B06\uFE0F \u2B06\uFE0F \u2B06\uFE0F \u2B05\uFE0F \u27A1\uFE0F \u2B05\uFE0F \u2B06\uFE0F \u27A1\uFE0F \u2B06\uFE0F \u2B05\uFE0F \u2B06\uFE0F \u2B05\uFE0F \u2B06\uFE0F"),x(),P(6,"br"),y(7,"input",19),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.reponseText,o)||(i.reponseText=o),z(o)}),x(),P(8,"br")(9,"br"),y(10,"div")(11,"button",7),re("click",function(){G(n);let o=O(2);return z(o.checkResponseText(4))}),D(12,"J'ai faim \u{1F374}"),x()()()()}if(t&2){let n=O(2);R(7),Ge("ngModel",n.reponseText)}}function nB(t,e){if(t&1){let n=he();y(0,"div",12),P(1,"br"),y(2,"p",13),D(3,"Et oui c'est bien jou\xE9 !"),x(),P(4,"br"),y(5,"p"),D(6,"Pause pancakes bien m\xE9rit\xE9e"),x(),P(7,"br"),y(8,"div")(9,"button",7),re("click",function(){G(n);let o=O(2);return z(o.nextStep(4))}),D(10,"J'ai fini de manger \u{1F95E} "),x()()()}}function rB(t,e){if(t&1&&(y(0,"div",4)(1,"div",5)(2,"h3"),D(3),x()(),y(4,"div",6),P(5,"br"),y(6,"p"),D(7,"Ca commence \xE0 faire beaucoup de km tous les deux en voiture (et en van!). Est-ce que tu sauras mettre en pratique tes comp\xE9tences de copilote jusqu'au prochain step ?"),x()(),je(8,tB,13,1,"div",9)(9,nB,11,0,"div",10),x()),t&2){let n=O();R(3),Ye("#4 - ",n.steps[4].nom),R(5),Q("ngIf",n.steps[4].encours),R(),Q("ngIf",n.steps[4].validee)}}function oB(t,e){if(t&1){let n=he();y(0,"div",8)(1,"div",14)(2,"p"),D(3,"Ca te fait penser \xE0 quel endroit \xE7a :"),x(),P(4,"br"),y(5,"p"),D(6,"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F468} \u2192 \u{1F3D9}\uFE0F\u2600\uFE0F \u2192 \u{1F962}\u{1F35C} \u2192 \u{1F333}\u{1F3AD} \u2192 \u{1F336}\uFE0F\u{1F975}"),x(),P(7,"br")(8,"br"),y(9,"input",20),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.reponseText,o)||(i.reponseText=o),z(o)}),x(),P(10,"br")(11,"br"),y(12,"div")(13,"button",7),re("click",function(){G(n);let o=O(2);return z(o.checkResponseText(5))}),D(14,"Go \u{1F3AD}"),x()()()()}if(t&2){let n=O(2);R(9),Ge("ngModel",n.reponseText)}}function iB(t,e){if(t&1){let n=he();y(0,"div",12)(1,"p",13),D(2,"Et oui c'est bien jou\xE9 !"),x(),P(3,"br")(4,"br"),y(5,"div")(6,"button",7),re("click",function(){G(n);let o=O(2);return z(o.nextStep(5))}),D(7,"Je suis aux C\xE9lestins \u{1F3AD}"),x()()()}}function sB(t,e){if(t&1&&(y(0,"div",4)(1,"div",5)(2,"h3"),D(3),x()(),y(4,"div",6),P(5,"br"),y(6,"p"),D(7,"J'ai jamais autant utilis\xE9 de pictos que depuis que je suis avec toi. On va voir si je les choisis bien."),x(),P(8,"br"),x(),je(9,oB,15,1,"div",9)(10,iB,8,0,"div",10),x()),t&2){let n=O();R(3),Ye("#5 - ",n.steps[5].nom),R(6),Q("ngIf",n.steps[5].encours),R(),Q("ngIf",n.steps[5].validee)}}function aB(t,e){if(t&1){let n=he();y(0,"div",8)(1,"app-piano",21),re("unlocked",function(){G(n);let o=O(2);return z(o.validateStep(6))}),x()()}t&2&&(R(),Q("expectedSequence",vg(1,$j)))}function cB(t,e){if(t&1){let n=he();y(0,"div",12)(1,"p",13),D(2,"Et oui c'est bien jou\xE9 !"),x(),P(3,"br")(4,"br"),y(5,"div")(6,"button",7),re("click",function(){G(n);let o=O(2);return z(o.nextStep(6))}),D(7,"La suite \u{1F3B9}"),x()()()}}function uB(t,e){if(t&1&&(y(0,"div",4)(1,"div",5)(2,"h3"),D(3),x()(),y(4,"div",6),P(5,"br"),y(6,"p"),D(7,"On n'est jamais all\xE9s au bout, mais je suis s\xFBr que tu as quelques souvenirs d'un chouette morceau qu'on a appris au piano."),x(),P(8,"br"),x(),je(9,aB,2,2,"div",9)(10,cB,8,0,"div",10),x()),t&2){let n=O();R(3),Ye("#6 - ",n.steps[6].nom),R(6),Q("ngIf",n.steps[6].encours),R(),Q("ngIf",n.steps[6].validee)}}function lB(t,e){if(t&1){let n=he();y(0,"div",8)(1,"div",14)(2,"p"),D(3,"Regarde autour de toi: combien on est \xE0 faire plif-plouf ?"),x(),P(4,"br"),y(5,"div",15)(6,"input",16),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.code[0],o)||(i.code[0]=o),z(o)}),re("input",function(o){G(n);let i=O(2);return z(i.focusNext(o,1))}),x(),y(7,"input",17),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.code[1],o)||(i.code[1]=o),z(o)}),x()(),y(8,"div")(9,"button",7),re("click",function(){G(n);let o=O(2);return z(o.checkCode(7))}),D(10,"C'est ma derni\xE8re bafouille \u{1F4A7}"),x()()()()}if(t&2){let n=O(2);R(6),Ge("ngModel",n.code[0]),R(),Ge("ngModel",n.code[1])}}function dB(t,e){if(t&1){let n=he();y(0,"div",12),P(1,"br"),y(2,"p",13),D(3,"Et oui c'est bien jou\xE9 !"),x(),P(4,"br"),y(5,"div")(6,"button",7),re("click",function(){G(n);let o=O(2);return z(o.nextStep(7))}),D(7,"La suite \u{1F4A7}"),x()()()}}function fB(t,e){if(t&1&&(y(0,"div",4)(1,"div",5)(2,"h3"),D(3),x()(),y(4,"div",6),P(5,"br"),y(6,"p"),D(7,"L'\xE9t\xE9 est bien chaud cette ann\xE9e, on travaille dur pour vous rafra\xEEchir."),x(),P(8,"br"),x(),je(9,lB,11,2,"div",9)(10,dB,8,0,"div",10),x()),t&2){let n=O();R(3),Ye("#7 - ",n.steps[7].nom),R(6),Q("ngIf",n.steps[7].encours),R(),Q("ngIf",n.steps[7].validee)}}function pB(t,e){if(t&1){let n=he();y(0,"div",8)(1,"div",14)(2,"p"),D(3,"On va o\xF9 maintenant ?"),x(),P(4,"br"),y(5,"input",22),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.reponseText,o)||(i.reponseText=o),z(o)}),x(),P(6,"br")(7,"br"),y(8,"div")(9,"button",7),re("click",function(){G(n);let o=O(2);return z(o.checkResponseText(8))}),D(10,"Go \u{1F333}"),x()()()()}if(t&2){let n=O(2);R(5),Ge("ngModel",n.reponseText)}}function hB(t,e){if(t&1){let n=he();y(0,"div",12)(1,"p",13),D(2,"Et oui c'est bien jou\xE9 !"),x(),P(3,"br")(4,"br"),y(5,"div")(6,"button",7),re("click",function(){G(n);let o=O(2);return z(o.nextStep(8))}),D(7,"Je suis au parc Arch\xE9ologique \u{1F333}"),x()()()}}function mB(t,e){if(t&1&&(y(0,"div",4)(1,"div",5)(2,"h3"),D(3),x()(),y(4,"div",6),P(5,"br"),y(6,"p"),D(7,"On en a pass\xE9 des petits moment l\xE0-bas : des bisous avant ton premier d\xE9part en Portugal, aux sandwichs choucroute et en passant via beaucoup de petits chiens rigolos."),x(),P(8,"br"),x(),je(9,pB,11,1,"div",9)(10,hB,8,0,"div",10),x()),t&2){let n=O();R(3),Ye("#8 - ",n.steps[8].nom),R(6),Q("ngIf",n.steps[8].encours),R(),Q("ngIf",n.steps[8].validee)}}function gB(t,e){if(t&1){let n=he();y(0,"div",8)(1,"div",14)(2,"p"),D(3,"Tu sauras trouver notre adresse ?"),x(),P(4,"br"),y(5,"input",23),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.reponseText,o)||(i.reponseText=o),z(o)}),x(),P(6,"br")(7,"br"),y(8,"div")(9,"button",7),re("click",function(){G(n);let o=O(2);return z(o.checkResponseText(9))}),D(10,"Go \u{1F41B}"),x()()()()}if(t&2){let n=O(2);R(5),Ge("ngModel",n.reponseText)}}function _B(t,e){if(t&1){let n=he();y(0,"div",12)(1,"p",13),D(2,"Et oui c'est bien jou\xE9 !"),x(),P(3,"br")(4,"br"),y(5,"div")(6,"button",7),re("click",function(){G(n);let o=O(2);return z(o.nextStep(9))}),D(7,"La suite \u{1F41B}"),x()()()}}function vB(t,e){if(t&1&&(y(0,"div",4)(1,"div",5)(2,"h3"),D(3),x()(),y(4,"div",6),P(5,"br"),y(6,"p"),D(7,"Vous \xEAtes souvent venus, vous ne nous aviez jamais vus, et pourtant on \xE9tait juste devant vous."),x(),P(8,"br"),x(),je(9,gB,11,1,"div",9)(10,_B,8,0,"div",10),x()),t&2){let n=O();R(3),Ye("#9 - ",n.steps[9].nom),R(6),Q("ngIf",n.steps[9].encours),R(),Q("ngIf",n.steps[9].validee)}}function yB(t,e){if(t&1){let n=he();y(0,"div",8)(1,"div",14)(2,"p"),D(3,"Ca me co\xFBterait combien un petit voyage dans les \xEEles ? "),x(),P(4,"br"),y(5,"div",15)(6,"input",16),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.code[0],o)||(i.code[0]=o),z(o)}),re("input",function(o){G(n);let i=O(2);return z(i.focusNext(o,1))}),x(),y(7,"input",16),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.code[1],o)||(i.code[1]=o),z(o)}),re("input",function(o){G(n);let i=O(2);return z(i.focusNext(o,2))}),x(),y(8,"span",24),D(9,","),x(),y(10,"input",16),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.code[2],o)||(i.code[2]=o),z(o)}),re("input",function(o){G(n);let i=O(2);return z(i.focusNext(o,3))}),x(),y(11,"input",17),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.code[3],o)||(i.code[3]=o),z(o)}),x(),y(12,"span",25),D(13,"\u20AC"),x()(),y(14,"div")(15,"button",7),re("click",function(){G(n);let o=O(2);return z(o.checkCode(10))}),D(16," C'est cher \u{1F366}"),x()()()()}if(t&2){let n=O(2);R(6),Ge("ngModel",n.code[0]),R(),Ge("ngModel",n.code[1]),R(3),Ge("ngModel",n.code[2]),R(),Ge("ngModel",n.code[3])}}function xB(t,e){if(t&1){let n=he();y(0,"div",12)(1,"p",13),D(2,"Et oui c'est bien jou\xE9 !"),x(),P(3,"br"),y(4,"div")(5,"button",7),re("click",function(){G(n);let o=O(2);return z(o.nextStep(10))}),D(6,"La suite \u{1F366}"),x()()()}}function EB(t,e){if(t&1&&(y(0,"div",4)(1,"div",5)(2,"h3"),D(3),x()(),y(4,"div",6),P(5,"br"),y(6,"p"),D(7,"Il fait bien chaud (en vrai j'en sais rien, je suis en train d'\xE9crire \xE7a devant la clim, je sais pas quelle m\xE9t\xE9o il fera dans 2 semaines). On se ferait pas un petit plaisir comme quand j'\xE9tais petit ?"),x(),P(8,"br"),x(),je(9,yB,17,4,"div",9)(10,xB,7,0,"div",10),x()),t&2){let n=O();R(3),Ye("#10 - ",n.steps[10].nom),R(6),Q("ngIf",n.steps[10].encours),R(),Q("ngIf",n.steps[10].validee)}}function wB(t,e){if(t&1){let n=he();y(0,"div",8)(1,"div",14)(2,"p"),D(3,"Qui a eu le plaisir de faire l'architecture de ce beau point de d\xE9part?"),x(),P(4,"br"),y(5,"input",26),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.reponseText,o)||(i.reponseText=o),z(o)}),x(),P(6,"br")(7,"br"),y(8,"div")(9,"button",7),re("click",function(){G(n);let o=O(2);return z(o.checkResponseText(11))}),D(10,"Go \u{1F3DB}\uFE0F"),x()()()()}if(t&2){let n=O(2);R(5),Ge("ngModel",n.reponseText)}}function CB(t,e){if(t&1){let n=he();y(0,"div",12)(1,"p",13),D(2,"Et oui c'est bien jou\xE9 !"),x(),P(3,"br")(4,"br"),y(5,"div")(6,"button",7),re("click",function(){G(n);let o=O(2);return z(o.nextStep(11))}),D(7,"Je vais poser mes fesses \u{1F3DB}\uFE0F"),x()()()}}function DB(t,e){if(t&1&&(y(0,"div",4)(1,"div",5)(2,"h3"),D(3),x()(),y(4,"div",6),P(5,"br"),y(6,"p"),D(7,"Mattheus adore Lyon et il a un petit parcours f\xE9tiche, qui a un bien joli point de d\xE9part."),x(),P(8,"br"),x(),je(9,wB,11,1,"div",9)(10,CB,8,0,"div",10),x()),t&2){let n=O();R(3),Ye("#11 - ",n.steps[11].nom),R(6),Q("ngIf",n.steps[11].encours),R(),Q("ngIf",n.steps[11].validee)}}function bB(t,e){t&1&&(y(0,"p"),D(1," Tente ta chance ! "),x())}function TB(t,e){if(t&1&&(y(0,"p",29),D(1),x()),t&2){let n=O(3);R(),Ye(" C'est plus que ",n.bufferCode," ")}}function SB(t,e){if(t&1&&(y(0,"p",29),D(1),x()),t&2){let n=O(3);R(),Ye(" C'est moins que ",n.bufferCode)}}function IB(t,e){if(t&1){let n=he();y(0,"div",8),P(1,"br"),y(2,"div",14)(3,"p"),D(4," A ton avis, combien de jours aujourd'hui ? "),x(),P(5,"br"),y(6,"div",15)(7,"input",16),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.code[0],o)||(i.code[0]=o),z(o)}),re("input",function(o){G(n);let i=O(2);return z(i.focusNext(o,1))}),x(),y(8,"input",16),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.code[1],o)||(i.code[1]=o),z(o)}),re("input",function(o){G(n);let i=O(2);return z(i.focusNext(o,2))}),x(),y(9,"input",16),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.code[2],o)||(i.code[2]=o),z(o)}),re("input",function(o){G(n);let i=O(2);return z(i.focusNext(o,3))}),x(),y(10,"input",17),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.code[3],o)||(i.code[3]=o),z(o)}),x()(),je(11,bB,2,0,"p",27)(12,TB,2,1,"p",28)(13,SB,2,1,"p",28),P(14,"br"),y(15,"div")(16,"button",7),re("click",function(){G(n);let o=O(2);return z(o.checkCode(12))}),D(17,"Ca commence \xE0 faire un bout \u{1F4C5}"),x()()()()}if(t&2){let n=O(2);R(7),Ge("ngModel",n.code[0]),R(),Ge("ngModel",n.code[1]),R(),Ge("ngModel",n.code[2]),R(),Ge("ngModel",n.code[3]),R(),Q("ngIf",n.gap==""),R(),Q("ngIf",n.gap=="plus"),R(),Q("ngIf",n.gap=="moins")}}function AB(t,e){if(t&1){let n=he();y(0,"div",12),P(1,"br"),y(2,"p",13),D(3,"Et oui c'est bien jou\xE9 !"),x(),P(4,"br"),y(5,"p"),D(6,'Et le chiffre 2231 signifierait : "Vous \xEAtes une \xE2me heureuse qui \xE9volue dans le bonne direction. Ensuite, maintenez votre rythme et appr\xE9ciez tout, que ce soit bon ou mauvais".'),x(),P(7,"br"),y(8,"p"),D(9,"Moi \xE7a me va."),x(),P(10,"br"),y(11,"div")(12,"button",7),re("click",function(){G(n);let o=O(2);return z(o.nextStep(12))}),D(13,"Je kiffe Mattheus \u{1F496}"),x()()()}}function MB(t,e){if(t&1&&(y(0,"div",4)(1,"div",5)(2,"h3"),D(3),x()(),y(4,"div",6),P(5,"br"),y(6,"p"),D(7," On commence \xE0 en avoir pass\xE9 du temps tous les deux, depuis qu'on a mis la cornichon dans le sandwich \xE0 Bourg Saint-Maurice. "),x()(),je(8,IB,18,7,"div",9)(9,AB,14,0,"div",10),x()),t&2){let n=O();R(3),Ye("#12 - ",n.steps[12].nom),R(5),Q("ngIf",n.steps[12].encours),R(),Q("ngIf",n.steps[12].validee)}}function NB(t,e){if(t&1){let n=he();y(0,"div",8),P(1,"br"),y(2,"div",14)(3,"p"),D(4," C'est chouette le Fish & Chips, mais c'est quoi la vraie promesse de cet endorit ? "),x(),P(5,"br"),y(6,"input",30),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.reponseText,o)||(i.reponseText=o),z(o)}),x(),P(7,"br")(8,"br"),y(9,"div")(10,"button",7),re("click",function(){G(n);let o=O(2);return z(o.checkResponseText(13))}),D(11,"S\xFBre de moi \u{1F3EA}"),x()()()()}if(t&2){let n=O(2);R(6),Ge("ngModel",n.reponseText)}}function OB(t,e){if(t&1){let n=he();y(0,"div",12),P(1,"br"),y(2,"p",13),D(3,"Et oui c'est bien jou\xE9 !"),x(),P(4,"br"),y(5,"p"),D(6,"Maintenant va poser tes fesses pas trop loin."),x(),P(7,"br"),y(8,"div")(9,"button",7),re("click",function(){G(n);let o=O(2);return z(o.nextStep(13))}),D(10,"Bien stable sur mes appuis \u{1F3EA}"),x()()()}}function RB(t,e){if(t&1&&(y(0,"div",4)(1,"div",5)(2,"h3"),D(3),x()(),y(4,"div",6),P(5,"br"),y(6,"p"),D(7," Le seul Fish & Chips qu'on ait mang\xE9 \xE0 Lyon (quelle honte !)."),x()(),je(8,NB,12,1,"div",9)(9,OB,11,0,"div",10),x()),t&2){let n=O();R(3),Ye("#13 - ",n.steps[13].nom),R(5),Q("ngIf",n.steps[13].encours),R(),Q("ngIf",n.steps[13].validee)}}function kB(t,e){if(t&1){let n=he();y(0,"div",8),P(1,"br"),y(2,"div",14)(3,"p"),D(4," C'est quoi le programme le 5 septembre ? "),x(),P(5,"br"),y(6,"input",31),ze("ngModelChange",function(o){G(n);let i=O(2);return Qe(i.reponseText,o)||(i.reponseText=o),z(o)}),x(),P(7,"br")(8,"br"),y(9,"div")(10,"button",7),re("click",function(){G(n);let o=O(2);return z(o.checkResponseText(14))}),D(11,"Dernier mot \u{1F436} "),x()()()()}if(t&2){let n=O(2);R(6),Ge("ngModel",n.reponseText)}}function FB(t,e){if(t&1){let n=he();y(0,"div",12),P(1,"br"),y(2,"p",13),D(3,"Et oui c'est bien jou\xE9 !"),x(),P(4,"br"),y(5,"p"),D(6,"Bon, ils sont ferm\xE9s en \xE9t\xE9 et on a d'autres plans pour cette fin d'aprem, donc ce ne sera malheureusement pas pour aujourd'hui, mais j'ai super h\xE2te de faire \xE7a avec toi ! "),x(),P(7,"br"),y(8,"div")(9,"button",7),re("click",function(){G(n);let o=O(2);return z(o.nextStep(14))}),D(10," H\xE2te aussi \u{1F436} "),x()()()}}function PB(t,e){if(t&1&&(y(0,"div",4)(1,"div",5)(2,"h3"),D(3),x()(),y(4,"div",6),P(5,"br"),y(6,"p"),D(7," On a fait un bon petit tour qui arrive sur sa fin. Il serait temps d'un petit cadeau non ? "),x()(),je(8,kB,12,1,"div",9)(9,FB,11,0,"div",10),x()),t&2){let n=O();R(3),Ye("#14 - ",n.steps[14].nom),R(5),Q("ngIf",n.steps[14].encours),R(),Q("ngIf",n.steps[14].validee)}}function LB(t,e){if(t&1){let n=he();y(0,"div",8),P(1,"br"),y(2,"p"),D(3," Pour finir cet aprem, je te proposer une petite douceur Gloriesque (Gloria <> Gloriesque). T'en dis quoi? "),x(),y(4,"div"),P(5,"br"),y(6,"button",7),re("click",function(){G(n);let o=O(2);return z(o.validateStep15(15,!0))}),D(7," Je suis chaude "),x(),P(8,"br")(9,"br"),y(10,"button",7),re("click",function(){G(n);let o=O(2);return z(o.validateStep15(15,!1))}),D(11," Je suis pas chaude "),x()()()}}function VB(t,e){t&1&&(y(0,"p",13),D(1,"Pause Glace"),x())}function jB(t,e){t&1&&(y(0,"p",13),D(1,"Retour maison"),x())}function BB(t,e){if(t&1){let n=he();y(0,"button",7),re("click",function(){G(n);let o=O(3);return z(o.nextStep15())}),D(1," J'ai fini ma glace "),x()}}function UB(t,e){if(t&1){let n=he();y(0,"button",7),re("click",function(){G(n);let o=O(3);return z(o.nextStep(15))}),D(1," Je suis \xE0 la maison "),x()}}function qB(t,e){if(t&1&&(y(0,"div",12),P(1,"br"),je(2,VB,2,0,"p",32)(3,jB,2,0,"p",32),P(4,"br"),y(5,"div"),je(6,BB,2,0,"button",33)(7,UB,2,0,"button",33),x()()),t&2){let n=O(2);R(2),Q("ngIf",n.step15Choice),R(),Q("ngIf",!n.step15Choice),R(3),Q("ngIf",n.step15Choice),R(),Q("ngIf",!n.step15Choice)}}function HB(t,e){if(t&1&&(y(0,"div",4)(1,"div",5)(2,"h3"),D(3),x()(),y(4,"div",6),P(5,"br"),y(6,"p"),D(7," Si t'es arriv\xE9e jusque l\xE0, c'est que tu as bien g\xE9r\xE9. Apr\xE8s j'en doutais pas trop. "),x()(),je(8,LB,12,0,"div",9)(9,qB,8,4,"div",10),x()),t&2){let n=O();R(3),Ye("#15 - ",n.steps[15].nom),R(5),Q("ngIf",n.steps[15].encours),R(),Q("ngIf",n.steps[15].validee)}}function $B(t,e){if(t&1){let n=he();y(0,"div",36),re("click",function(){let o=G(n).index,i=O(3);return z(i.toggleValidation(o))}),P(1,"span",37),D(2),x()}if(t&2){let n=e.$implicit,r=e.index,o=O(3);Oo("validated",o.validated[r]),R(2),Ye(" ",n," ")}}function WB(t,e){if(t&1){let n=he();y(0,"div",8),P(1,"br"),y(2,"p"),D(3," Va pr\xE9parer tes affaires, je t'ai m\xEAme pr\xE9-m\xE2ch\xE9 le travail en te faisant une liste. Valide bien tout et clique pour voir o\xF9 on va. "),x(),P(4,"br"),y(5,"div",14)(6,"div",34),je(7,$B,3,3,"div",35),x()(),y(8,"div"),P(9,"br"),y(10,"button",7),re("click",function(){G(n);let o=O(2);return z(o.validateStep(16))}),D(11," On va o\xF9 ?\u{1F381}"),x()()()}if(t&2){let n=O(2);R(7),Q("ngForOf",n.listItems)}}function GB(t,e){if(t&1){let n=he();y(0,"div",12),P(1,"br"),y(2,"p",13),D(3,"mdr t'as cru j'allais te le dire"),x(),P(4,"br"),y(5,"div")(6,"button",7),re("click",function(){G(n);let o=O(2);return z(o.nextStep(16))}),D(7," Let's go \u{1F697} "),x()()()}}function zB(t,e){if(t&1&&(y(0,"div",4)(1,"div",5)(2,"h3"),D(3),x()(),y(4,"div",6),P(5,"br"),y(6,"p"),D(7," Le titre se suffit \xE0 lui-m\xEAme je pense. "),x()(),je(8,WB,12,1,"div",9)(9,GB,8,0,"div",10),x()),t&2){let n=O();R(3),Ye("#16 - ",n.steps[16].nom),R(5),Q("ngIf",n.steps[16].encours),R(),Q("ngIf",n.steps[16].validee)}}function ZB(t,e){if(t&1){let n=he();y(0,"div",8)(1,"p"),D(2," Donc mets tes chaussures et on y va. "),x(),P(3,"br"),y(4,"p"),D(5," Et je t'aime. "),x(),P(6,"br"),y(7,"div")(8,"button",7),re("click",function(){G(n);let o=O(2);return z(o.reset())}),D(9," Clique ici pour finir "),x()()()}}function YB(t,e){if(t&1&&(y(0,"div",4)(1,"div",5)(2,"h3"),D(3),x()(),y(4,"div",6),P(5,"br"),y(6,"p"),D(7," J'esp\xE8re que tu auras pass\xE9 une tr\xE8s bonne journ\xE9e, c'est le plus important. "),x(),P(8,"br"),y(9,"p"),D(10," Ca fait 2231 jours que je te balade partout, et j'ai pas pr\xE9vu d'arr\xEAter tout de suite : j'ai encore plein de projets avec toi. "),x(),P(11,"br"),x(),je(12,ZB,10,0,"div",9),x()),t&2){let n=O();R(3),Ar(n.steps[17].nom),R(9),Q("ngIf",n.steps[17].encours)}}var dp=class t{constructor(e,n){this.stepService=e;this.router=n}steps=[];reponseText="";code=new Array(4);gap="";bufferCode="";step15Choice=!1;complete=!1;listItems=["1 petit pull","2/3 paires de chaussettes","2/3 culottes","1 maillot de bains","2/3 tshirt","1 tenue correcte","Affaires de toilettes","Bouquin","Chargeur iPhone","Casquette"];validated=this.listItems.map(()=>!1);ngOnInit(){this.steps=this.stepService.getSteps().map(e=>V(v({},e),{reponse:e.reponse??""}))}toggleValidation(e){this.validated[e]=!this.validated[e]}reset(){this.step15Choice=!1,this.gap="",this.stepService.resetSteps(),this.router.navigate(["/felicitation"])}nextStep15(){this.step15Choice=!1}nextStep(e){this.stepService.nextStep(e),this.steps=this.stepService.getSteps().map(o=>V(v({},o),{reponse:o.reponse??""}));let n=this.steps.map((o,i)=>({encours:o.encours,index:i})).filter(o=>o.encours).map(o=>o.index).pop(),r=n!==void 0?n:0}validateStep(e){this.stepService.completeStep(e),this.steps=this.stepService.getSteps().map(n=>V(v({},n),{reponse:n.reponse??""})),e==0&&this.nextStep(e)}validateStep15(e,n){this.step15Choice=n,this.validateStep(e)}checkResponseText(e){let n=this.steps[e];if(!n||n.reponse===void 0){console.error("Step ou step.reponse non d\xE9fini",n);return}if(this.reponseText===""||this.reponseText===null){console.error("R\xE9ponse vide ou nulle");return}let r=a=>a.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),o=r(this.reponseText),s=r(n.reponse).includes(o);this.reponseText="",s&&this.validateStep(e)}focusNext(e,n){if(e.target.value.length===1){let o=document.querySelectorAll(".pin-input input")[n];o&&o.focus()}}checkCode(e){let n=this.steps[e].reponse,r=this.code.join("");if(this.bufferCode=r,r===n)this.validateStep(e),this.code=new Array(4).fill(null),this.bufferCode="",this.gap="";else{let o=parseFloat(n)>parseFloat(r)?"plus":parseFloat(n)<parseFloat(r)?"moins":"";this.gap=o,this.code=new Array(4).fill(null)}}static \u0275fac=function(n){return new(n||t)(Ne(lp),Ne(kr))};static \u0275cmp=kt({type:t,selectors:[["app-etape"]],decls:23,vars:18,consts:[[1,"hero","is-fullheight","is-flex","is-justify-content-center","is-align-items-center","step"],[1,"has-text-centered"],[1,"main-title"],["class","step-section",4,"ngIf"],[1,"step-section"],[1,"step-title"],[1,"step-description"],[3,"click"],[1,"step-content"],["class","step-content",4,"ngIf"],["class","step-result",4,"ngIf"],["type","text","placeholder","Ta r\xE9ponse bg",1,"minimal-input",3,"ngModelChange","ngModel"],[1,"step-result"],[1,"reponse"],[1,"enigme"],[1,"pin-input"],["type","text","maxlength","1","pattern","[0-9]*",3,"ngModelChange","input","ngModel"],["type","text","maxlength","1","pattern","[0-9]*",3,"ngModelChange","ngModel"],[1,"arrow-guide"],["type","text","placeholder","On va manger quoi?",1,"minimal-input",3,"ngModelChange","ngModel"],["type","text","placeholder","L\xE2che ton meilleur guess ",1,"minimal-input",3,"ngModelChange","ngModel"],[3,"unlocked","expectedSequence"],["type","text","placeholder","Let's go",1,"minimal-input",3,"ngModelChange","ngModel"],["type","text","placeholder","Ici c'est chez nous !",1,"minimal-input",3,"ngModelChange","ngModel"],[1,"separator"],[1,"euro"],["type","text","placeholder","Pas peu fier de cette coursive",1,"minimal-input",3,"ngModelChange","ngModel"],[4,"ngIf"],["class","guess",4,"ngIf"],[1,"guess"],["type","text","placeholder","Qu'est ce qu'on y trouve ?",1,"minimal-input",3,"ngModelChange","ngModel"],["type","text","placeholder","A ton avis ?",1,"minimal-input",3,"ngModelChange","ngModel"],["class","reponse",4,"ngIf"],[3,"click",4,"ngIf"],[1,"list"],["class","list-item",3,"validated","click",4,"ngFor","ngForOf"],[1,"list-item",3,"click"],[1,"bullet"]],template:function(n,r){n&1&&(y(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),D(4,"A Raposa Aventura"),x()(),je(5,Wj,20,1,"div",3)(6,Zj,11,3,"div",3)(7,Xj,11,3,"div",3)(8,eB,10,3,"div",3)(9,rB,10,3,"div",3)(10,sB,11,3,"div",3)(11,uB,11,3,"div",3)(12,fB,11,3,"div",3)(13,mB,11,3,"div",3)(14,vB,11,3,"div",3)(15,EB,11,3,"div",3)(16,DB,11,3,"div",3)(17,MB,10,3,"div",3)(18,RB,10,3,"div",3)(19,PB,10,3,"div",3)(20,HB,10,3,"div",3)(21,zB,10,3,"div",3)(22,YB,13,2,"div",3),x()()),n&2&&(R(5),Q("ngIf",r.steps[0].display),R(),Q("ngIf",r.steps[1].display),R(),Q("ngIf",r.steps[2].display),R(),Q("ngIf",r.steps[3].display),R(),Q("ngIf",r.steps[4].display),R(),Q("ngIf",r.steps[5].display),R(),Q("ngIf",r.steps[6].display),R(),Q("ngIf",r.steps[7].display),R(),Q("ngIf",r.steps[8].display),R(),Q("ngIf",r.steps[9].display),R(),Q("ngIf",r.steps[10].display),R(),Q("ngIf",r.steps[11].display),R(),Q("ngIf",r.steps[12].display),R(),Q("ngIf",r.steps[13].display),R(),Q("ngIf",r.steps[14].display),R(),Q("ngIf",r.steps[15].display),R(),Q("ngIf",r.steps[16].display),R(),Q("ngIf",r.steps[17].display))},dependencies:[Fo,As,vc,ED,vf,_D,F_,P_,k_,cp],styles:['@charset "UTF-8";.main-title[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:65px;background:var(--color-bleu-sombre);display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:#fff;z-index:10}.main-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.step-section[_ngcontent-%COMP%]{position:absolute;top:70px;bottom:5%;left:50%;transform:translate(-50%);width:90%;border-radius:5px;display:flex;flex-direction:column;max-height:calc(100vh - 70px - 5%);overflow-y:auto;padding-bottom:20px}.arrow-guide[_ngcontent-%COMP%]{font-size:18px}.step-title[_ngcontent-%COMP%]{margin:6px}.hero[_ngcontent-%COMP%]{background:#fff}.description[_ngcontent-%COMP%]{color:gray;font-size:10px}.reponse[_ngcontent-%COMP%]{color:var(--color-bleu-sombre);font-weight:600}.guess[_ngcontent-%COMP%]{color:red}.minimal-input[_ngcontent-%COMP%]{font-family:Corben,serif;border:none;border-bottom:1px solid var(--color-bleu-pale);background:transparent;padding:8px 4px;font-size:16px;width:80%;color:#000;text-align:center}.minimal-input[_ngcontent-%COMP%]:focus{outline:none;border-bottom-color:var(--color-bleu-pale)}.minimal-input[_ngcontent-%COMP%]::placeholder{color:var(--color-bleu-pale);font-style:italic;text-align:center}.pin-input[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;align-items:center;margin-bottom:1rem}.pin-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:50px;height:50px;text-align:center;font-size:20px;border-radius:6px;border:2px solid var(--color-bleu-tres-pale);outline:none;background:#fff;color:#333;transition:border-color .2s}.pin-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-bleu-pale)}.pin-input[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.pin-input[_ngcontent-%COMP%]   .euro[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-left:5px}.list[_ngcontent-%COMP%]{display:flex;width:80%;margin-left:20px;flex-direction:column;gap:8px;align-items:flex-start}.list-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;cursor:pointer;font-size:16px;color:#333}.bullet[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid var(--color-bleu-sombre);border-radius:50%;display:inline-block;flex-shrink:0;transition:background-color .2s}.list-item.validated[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{background-color:var(--color-bleu-sombre)}']})};var fp=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=kt({type:t,selectors:[["app-pub"]],decls:6,vars:0,consts:[[1,"hero","is-fullheight","is-flex","is-justify-content-center","is-align-items-center"],[1,"has-text-centered"],[1,"main-title"],[1,"menu-footer"]],template:function(n,r){n&1&&(or(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),D(4,"A Raposa Aventura"),Hn()(),Ed(5,"div",3),Hn()())},styles:['@charset "UTF-8";.main-title[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:65px;background:var(--color-bleu-sombre);display:flex;align-items:center;justify-content:center;font-size:1.5rem;color:#fff;z-index:10}.main-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0}.step-section[_ngcontent-%COMP%]{position:fixed;top:70px;bottom:5%;left:50%;transform:translate(-50%);width:90%;border-radius:5px;display:flex;flex-direction:column}.arrow-guide[_ngcontent-%COMP%]{font-size:18px}.step-title[_ngcontent-%COMP%]{margin:6px}.hero[_ngcontent-%COMP%]{background:#fff}.description[_ngcontent-%COMP%]{color:gray;font-size:10px}.reponse[_ngcontent-%COMP%]{color:var(--color-bleu-sombre);font-weight:600}.minimal-input[_ngcontent-%COMP%]{font-family:Corben,serif;border:none;border-bottom:1px solid var(--color-bleu-pale);background:transparent;padding:8px 4px;font-size:16px;width:80%;color:#000;text-align:center}.minimal-input[_ngcontent-%COMP%]:focus{outline:none;border-bottom-color:var(--color-bleu-pale)}.minimal-input[_ngcontent-%COMP%]::placeholder{color:var(--color-bleu-pale);font-style:italic;text-align:center}.pin-input[_ngcontent-%COMP%]{display:flex;gap:10px;justify-content:center;margin-bottom:1rem}.pin-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:50px;height:50px;text-align:center;font-size:20px;border-radius:6px;border:2px solid var(--color-bleu-tres-pale);outline:none;background:#fff;color:#333;transition:border-color .2s}.pin-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--color-bleu-pale)}']})};var pp=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=kt({type:t,selectors:[["app-felicitation"]],decls:8,vars:0,consts:[[1,"hero","is-fullheight","is-flex","is-justify-content-center","is-align-items-center"],[1,"has-text-centered"],[1,"main-title"],[1,"menu-footer"]],template:function(n,r){n&1&&(or(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),D(4,"A Raposa Aventura"),Hn()(),or(5,"div",3)(6,"p"),D(7,"Bien jou\xE9 mon bbz."),Hn()()()())},encapsulation:2})};var hp=class t{constructor(e){this.router=e;setTimeout(()=>{this.router.navigate(["/menu"]),console.log("test")},2e3)}static \u0275fac=function(n){return new(n||t)(Ne(kr))};static \u0275cmp=kt({type:t,selectors:[["app-lancement"]],decls:8,vars:0,consts:[[1,"hero","is-fullheight","is-flex","is-justify-content-center","is-align-items-center"],[1,"has-text-centered"],[1,"main-title"],[1,"menu-footer"]],template:function(n,r){n&1&&(or(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),D(4,"A Raposa Aventura"),Hn()(),or(5,"div",3)(6,"p"),D(7,"Ca va \xEAtre (une) super (journ\xE9e)."),Hn()()()())},styles:['@charset "UTF-8";.menu-footer[_ngcontent-%COMP%]{position:fixed;bottom:25%;left:50%;transform:translate(-50%);text-align:center;width:max-content;font-size:16px}']})};var JI=[{path:"",component:hp},{path:"menu",component:pf},{path:"etape",component:dp},{path:"pub",component:fp},{path:"felicitation",component:pp},{path:"**",redirectTo:""}];var Mv="Service workers are disabled or not supported by this browser",Ia=class{serviceWorker;worker;registration;events;constructor(e,n){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new Ee(r=>r.error(new X(5601,!1)));else{let r=null,o=new et;this.worker=new Ee(u=>(r!==null&&u.next(r),o.subscribe(l=>u.next(l))));let i=()=>{let{controller:u}=e;u!==null&&(r=u,o.next(r))};e.addEventListener("controllerchange",i),i(),this.registration=this.worker.pipe(Ot(()=>e.getRegistration().then(u=>{if(!u)throw new X(5601,!1);return u})));let s=new et;this.events=s.asObservable();let a=u=>{let{data:l}=u;l?.type&&s.next(l)};e.addEventListener("message",a),n?.get(St,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",i),e.removeEventListener("message",a)})}}postMessage(e,n){return new Promise(r=>{this.worker.pipe(Qt(1)).subscribe(o=>{o.postMessage(v({action:e},n)),r()})})}postMessageWithOperation(e,n,r){let o=this.waitForOperationCompleted(r),i=this.postMessage(e,n);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let n;return typeof e=="string"?n=r=>r.type===e:n=r=>e.includes(r.type),this.events.pipe(Yt(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(Qt(1))}waitForOperationCompleted(e){return new Promise((n,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(Yt(o=>o.nonce===e),Qt(1),ve(o=>{if(o.result!==void 0)return o.result;throw new Error(o.error)})).subscribe({next:n,error:r})})}get isEnabled(){return!!this.serviceWorker}},QB=(()=>{class t{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new et;constructor(n){if(this.sw=n,!n.isEnabled){this.messages=zr,this.notificationClicks=zr,this.notificationCloses=zr,this.pushSubscriptionChanges=zr,this.subscription=zr;return}this.messages=this.sw.eventsOfType("PUSH").pipe(ve(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(ve(o=>o.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(ve(o=>o.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(ve(o=>o.data)),this.pushManager=this.sw.registration.pipe(ve(o=>o.pushManager));let r=this.pushManager.pipe(Ot(o=>o.getSubscription()));this.subscription=new Ee(o=>{let i=r.subscribe(o),s=this.subscriptionChanges.subscribe(o);return()=>{i.unsubscribe(),s.unsubscribe()}})}requestSubscription(n){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Mv));let r={userVisibleOnly:!0},o=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,new Promise((s,a)=>{this.pushManager.pipe(Ot(c=>c.subscribe(r)),Qt(1)).subscribe({next:c=>{this.subscriptionChanges.next(c),s(c)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Mv));let n=r=>{if(r===null)throw new X(5602,!1);return r.unsubscribe().then(o=>{if(!o)throw new X(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,o)=>{this.subscription.pipe(Qt(1),Ot(n)).subscribe({next:r,error:o})})}decodeBase64(n){return atob(n)}static \u0275fac=function(r){return new(r||t)(me(Ia))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),XB=(()=>{class t{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(n){if(this.sw=n,!n.isEnabled){this.versionUpdates=zr,this.unrecoverable=zr;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Mv));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let n=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new X(5601,!1));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static \u0275fac=function(r){return new(r||t)(me(Ia))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})();var tA=new K("");function KB(){let t=F(wu);if(!("serviceWorker"in navigator&&t.enabled!==!1))return;let e=F(tA),n=F(Xe),r=F(St);n.runOutsideAngular(()=>{let o=navigator.serviceWorker,i=()=>o.controller?.postMessage({action:"INITIALIZE"});o.addEventListener("controllerchange",i),r.onDestroy(()=>{o.removeEventListener("controllerchange",i)})}),n.runOutsideAngular(()=>{let o,{registrationStrategy:i}=t;if(typeof i=="function")o=new Promise(s=>i().subscribe(()=>s()));else{let[s,...a]=(i||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":o=Promise.resolve();break;case"registerWithDelay":o=eA(+a[0]||0);break;case"registerWhenStable":o=Promise.race([r.whenStable(),eA(+a[0])]);break;default:throw new X(5600,!1)}}o.then(()=>{r.destroyed||navigator.serviceWorker.register(e,{scope:t.scope}).catch(s=>console.error(Er(5604,!1)))})})}function eA(t){return new Promise(e=>setTimeout(e,t))}function JB(t,e){return new Ia(t.enabled!==!1?navigator.serviceWorker:void 0,e)}var wu=class{enabled;scope;registrationStrategy};function nA(t,e={}){return dn([QB,XB,{provide:tA,useValue:t},{provide:wu,useValue:e},{provide:Ia,useFactory:JB,deps:[wu,Bt]},xd(KB)])}var rA={providers:[qh(),Eg(),b_(JI),uC(cC()),nA("ngsw-worker.js",{enabled:!Fw(),registrationStrategy:"registerWhenStable:30000"})]};var mp=class t{title="raposa-aventuras";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=kt({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&P(0,"router-outlet")},dependencies:[Uc],encapsulation:2})};Kg(mp,rA).catch(t=>console.error(t));
